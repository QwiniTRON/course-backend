{"version":3,"sources":["App/store/storages/user.ts","App/store/storages/appData.ts","App/index.tsx","App/Providers.tsx","App/store/StoreProvider.tsx","App/store/hooks/useUser.ts","server/Queries/Auth/LoginQuery.ts","App/store/index.tsx","App/AppMain.tsx","App/Init.tsx","App/App.tsx","App/style/theme/ThemeColors.tsx","App/style/theme/Themes.tsx","App/style/theme/Global.tsx","App/server/ServerQueryProvider.tsx","server/index.ts","App/style/theme/UseThemeConfig.tsx","appstatic/react_logo.svg","models/views/index.ts","layouts/EmptyLayout/styled.tsx","layouts/EmptyLayout/EmptyLayout.tsx","layouts/AppLayout/styled.tsx","layouts/AppLayout/AppLayout.tsx","models/User.ts","server/ApiClient.ts","App/consts.ts","App/router/RouteConfig.ts","containers/pages/MainPage/styled.tsx","appstatic/react_main.jpeg","appstatic/react_neon.png","containers/pages/MainPage/MainPage.tsx","containers/pages/LoginPage/styled.tsx","containers/pages/LoginPage/LoginPage.tsx","containers/pages/SignUpPage/styled.tsx","containers/pages/SignUpPage/SignUpPage.tsx","App/router/politics.tsx","App/router/Secure.tsx","containers/pages/AdminViewLesson/styled.tsx","containers/pages/AdminViewLesson/AdminViewLesson.tsx","containers/pages/InstructionPage/styled.tsx","containers/pages/InstructionPage/InstructionPage.tsx","containers/pages/PracticesPage/styled.tsx","containers/pages/PracticesPage/PracticesPage.tsx","containers/pages/PracticePage/styled.tsx","containers/pages/PracticePage/PracticePage.tsx","server/Queries/Lesson/CreateLesson.ts","containers/pages/LessonCreate/styled.tsx","containers/pages/LessonCreate/LessonCreate.tsx","containers/pages/SettingsPage/styled.tsx","containers/pages/SettingsPage/SettingsPage.tsx","containers/pages/AdminLessons/styled.tsx","containers/pages/AdminLessons/AdminLessons.tsx","containers/pages/LessonsPage/styled.tsx","containers/pages/LessonsPage/LessonsPage.tsx","containers/pages/ProfilePage/styled.tsx","containers/pages/ProfilePage/ProfilePage.tsx","containers/pages/LessonPage/styled.tsx","containers/pages/LessonPage/LessonPage.tsx","containers/pages/LessonWork/styled.ts","containers/pages/LessonWork/LessonWork.tsx","containers/pages/AdminUsers/styled.tsx","containers/pages/AdminUsers/AdminUsers.tsx","containers/pages/AdminUser/stlyed.tsx","containers/pages/AdminUser/AdminUser.tsx","containers/pages/AboutPage/styled.tsx","appstatic/react_img.png","appstatic/globalweb.webp","appstatic/react_material.png","containers/pages/AboutPage/AboutPage.tsx","containers/pages/AdminMain/styled.tsx","containers/pages/AdminMain/AdminMain.tsx","App/router/AppRoutes.tsx","server/Queries/PracticeOrder/AddPracticeOrder.ts","server/Queries/PracticeOrder/GetAllPractice.ts","server/Queries/PracticeOrder/GetUserPractices.ts","server/Queries/PracticeOrder/GetPracticeInfo.ts","server/Queries/PracticeOrder/RejectPractice.ts","server/Queries/PracticeOrder/ResolvePractice.ts","server/Queries/UserProgress/AddUserProgress.ts","server/Queries/Lesson/GetLessonDetailed.ts","server/Queries/Lesson/DeleteLesson.ts","server/Queries/Lesson/EditLesson.ts","server/Queries/Lesson/GetLessons.ts","server/Queries/Auth/GetCurrentUser.ts","server/Queries/Auth/CheckToken.ts","server/Queries/Auth/SignUp.ts","server/Queries/User/GetUserDetailed.ts","server/Queries/User/ChangeUserRole.ts","server/Queries/User/ChangeAvatar.ts","server/Queries/User/GetAllUsers.ts","server/Queries/User/ChangeNick.ts","server/Queries/User/BanUser.ts","App/store/actions/user.ts","App/store/actions/appData.ts","components/SplashScreen/styled.tsx","components/SplashScreen/SplashScreen.tsx","components/ThemeToggler/ThemeToggler.tsx","components/CenterCard/styled.tsx","style/mixins/mixins.ts","components/CenterCard/CenterCard.tsx","components/MarkDown/styled.tsx","components/MarkDown/MarkDown.tsx","components/Bounder/styled.tsx","components/Bounder/Bounder.tsx","components/AppCard/styled.tsx","components/AppCard/AppCard.tsx","components/AppLink/AppLink.tsx","components/AppImg/styled.tsx","components/AppImg/AppImg.tsx","models/index.tsx","server/ApiConfigure.ts","reportWebVitals.ts","serviceWorkerRegistration.js","index.tsx","App/store/consts.ts","App/style/theme/utilities/Colors.ts"],"names":["UserStorageInitial","authentication","undefined","userData","error","loading","handlers","UserSetToken","state","action","Object","assign","token","UserSetData","user","UserSetError","UserSetLoading","UserClearStore","userReducer","currentHandler","type","call","AppDataInitial","lessons","SetLessons","appDataReducer","Providers","props","children","rootReducer","combineReducers","data","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","StoreProvider","useUserData","userStore","useSelector","LoginQuery","request","api","appApi","post","AppMain","useState","isInit","setIsInit","dispatch","useDispatch","useEffect","a","INIT_User","console","log","Init","App","appColors","accentRed","main","contrastText","AppColor","ContrastYiqToRgba","dark","ShadeLightColorToRgba","light","gray","GreyScaleToRgba","negate","From","toRgba","weak","changeOpacity","accentBlack","accentWhite","accentBlue","accentPurple","accentPink","accentGreen","accentYellow","backgroundLight1","backgroundLight2","backgroundLight3","backgroundDark1","backgroundDark2","backgroundDark3","darkLayout","border","contrast","paper","text","lightLayout","LightThemeConfig","createMuiTheme","palette","primary","secondary","layout","DarkThemeConfig","GlobalOverrideLight","createGlobalStyle","GlobalOverrideDark","CommonStyles","p","theme","breakpoints","down","ThemesEnum","ThemeLocalstorageKey","AppThemeContext","React","createContext","toggleTheme","currentTheme","StyleProvider","Boolean","localStorage","getItem","isDark","setIsDark","savedTheme","matchMedia","matches","document","documentElement","dataset","Override","Provider","value","newCurrentTheme","setItem","ThemeProvider","queryClient","QueryClient","ServerQueryProvider","QueryClientProvider","client","useThemeConfig","useContext","Main","styled","EmptyLayout","collapsedMenu","mobileModeMedia","AppLayoutDocument","div","EmptyBlock","ProfileManager","spacing","ProfileManagerIcon","img","ProfileManagerMenu","zIndex","tooltip","shadows","ProfileManagerItemBase","ProfileManagerItem","NavLink","ProfileManagerPunkt","ProfileManagerName","LayoutContent","LayoutMenu","nav","Logo","BookIcon","Burger","MenuIcon","Clear","ClearIcon","LogoMenu","NavItem","LayoutHeader","header","LayoutBody","MenuToggler","IconButton","ProfileManagerButton","MoreVertIcon","useStyles","makeStyles","appTheme","ActiveLink","color","mainMenuCloseButton","display","logoToggler","mainToggler","AppLayout","profileOpen","setProfileOpen","menuOpen","setMenuOpen","menusStatuses","useRef","profile","menu","current","themeConfiguration","styles","userName","nick","userAvatar","photo","appFiles","AppConsts","DefaultPhotoPath","exitHandel","useCallback","Logout","outClick","event","target","closest","addEventListener","removeEventListener","data-menu","toString","data-profile-menu","to","appRoutes","data-component","classes","root","aria-label","onClick","CircularProgress","Button","aria-controls","aria-haspopup","src","alt","Box","ml","fontSize","Switch","checked","onChange","name","activeClassName","Profile","Settings","Lessons","About","politic","ByRole","UserRoles","Teacher","Admin","AdminMain","UserData","UserTokenKey","ApiFetcher","query","authenticateToken","canceler","apiError","fetchPromise","isFetched","success","isCanceled","response","onData","onError","this","newAxios","CreateHttpClient","httpClient","then","finishHandler","bind","catch","errorHandler","succeeded","errorMessage","defaultPhoto","staticPath","path","apiFiles","process","routeConfig","exact","key","Login","SignUp","Practices","AdminUser","LessonPage","AdminUsers","AdminLesson","AdminLessons","AdminPractice","AdminLessonEdit","AdminInstruction","AdminLessonCreate","getLessonView","id","getLessonEdit","getLessonPage","getAdminPractice","getAdminUser","Container","MainLink","Link","Content","MainImg","AppImg","MainPage","Typography","className","variant","paddingY","Divider","mainReact","neonReact","LoginTitle","LoginForm","form","LoginFooter","LoginPasswordInputGroup","LoginButton","width","passwordIcon","position","top","right","transform","schema","Yup","shape","mail","trim","required","password","LoginPage","loginError","isHide","setIsHide","useForm","resolver","yupResolver","register","errors","formState","handleSubmit","handleHideChange","onSubmit","TextField","disabled","fullWidth","label","message","helperText","mb","RegisterTitle","SignUpIcon","RegisterForm","RegisterButton","SignUpFooter","SignUpPasswordInputGroup","email","min","max","rpassword","test","parent","SignUpPage","history","useHistory","signUpError","mode","getValues","watch","setValue","reset","formValues","userPhoto","URL","createObjectURL","hasPhoto","signUpResult","push","accept","htmlFor","size","startIcon","PhotoCamera","component","mt","alignItems","roles","filter","role","includes","length","ByAuth","isAuth","Secure","accessStatus","redirectPath","substituteElement","substituteComponent","ComponentToRender","createElement","AdminLessonViewContainer","Buttons","DeleteButton","shadeLightColor","AdminViewLesson","useParams","useQuery","lessonId","r","GetLesson","queryKey","enabled","isLoading","isError","deleteReq","useMutation","DeleteLesson","lesson","index","isPractice","md","content","mutateAsync","result","InstructionPage","Item","AppCard","ItemItems","PracticeCard","practice","textAlign","lessonName","userNick","Date","createdDate","toLocaleDateString","PracticesPage","useInfiniteQuery","pageParam","GetAllPracticesOrders","page","limit","getNextPageParam","lastPage","pages","total","headers","fetchNextPage","hasNextPage","isFetching","isFetchingNextPage","practices","status","map","el","flat","cards","i","justifyContent","DownloadLink","reason","PracticePage","practiceId","GetPracticeInfo","resolveReq","ResolvePractice","rejectReq","RejectPractice","openReject","setOpenReject","openResolve","setOpenResolve","instuctionOpen","setInstructionOpen","isDone","title","description","href","codePath","download","Dialog","onClose","aria-labelledby","open","dividers","teacherId","autoFocus","CreateLesson","parseInt","LessonCreate","createReq","e","InputProps","inputProps","multiline","rowsMax","preventDefault","FormControlLabel","control","SettingsContainer","SettingsPage","AdminLessonsContainer","AdminLessonsContent","AdminLessonsItem","AdminLessonsItemItems","GetLessons","sort","l","pb","LessonsContent","LessonsItem","LessonsItemDisabled","LessonCard","LessonsPage","setLessons","idx","prevLesson","userProgresses","some","ProfileContainer","NickBlock","AvatarButtons","nickSaveButton","marginLeft","height","ProfilePage","mainError","newNick","newPhoto","nickHasChanged","defaultValue","ChangeNick","ChangeAvatar","params","storeLoading","storeError","codeError","setCodeError","userCode","setUserCode","codeRef","userPractices","practiceOrders","lastPractice","parse","isOnProgress","hasDone","Tooltip","AddProgress","userId","rejectReason","AddUserPracticeOrder","codeFile","addPracticeHandle","ref","file","files","InstructionLink","LessonWork","editReq","EditLesson","Search","ToolButtons","UserCard","userRole","userRoleString","searchError","setSearchError","searchRef","GetAllUsers","search","refetch","users","currentUser","searchHandle","inputRef","RoleRow","setUserRole","roleError","setRoleError","GetUserDetailed","banReq","BanUser","changeRoleReq","ChangeUserRole","FormControl","InputLabel","Select","labelId","MenuItem","FormHelperText","newRole","userForBannId","isBanned","Planets","rotate","keyframes","rotate1","Img","ImgLove","AboutImg","AboutPage","ReactImage","ReactLove","reactMaterial","globalImg","AdminMainContainer","AdminContent","AdminLink","AppRoutes","AppSecure","AddPracticeOrder","FormData","set","URLSearchParams","get","GetUserPractices","put","AddUserProgress","delete","GetCurrentUserQuery","CheckCurrentToken","SignUpQuery","ChangeUserAvatar","requestData","ChangeUserNick","setToken","setUser","setError","setLoading","getState","addAnswer","newAvatar","changeAvatar","changeNick","loginData","loginFetcher","fetch","loginAnswer","signUpAnswer","currentUserAnswer","removeItem","INIT","checkAnswer","SplashLoader","Title","h1","SplashScreen","ThemeToggler","Wrap","CenterCard","MarkDownContainer","background","showdown","setOption","MarkDown","html","Converter","makeHtml","dangerouslySetInnerHTML","__html","BounderImg","AppBounder","hasError","errorInfo","padding","reactLogo","Component","AppCardBody","AppLink","ShadowAnimate","MainImage","axios","create","baseURL","withCredentials","auth","cancellation","CancelToken","c","cancelToken","interceptors","use","config","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","getElementById","origin","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","bit24","ff","NamedColors","BLACK","NAVY","DARKBLUE","MEDIUMBLUE","BLUE","DARKGREEN","GREEN","TEAL","DARKCYAN","DEEPSKYBLUE","DARKTURQUOISE","MEDIUMSPRINGGREEN","LIME","SPRINGGREEN","AQUA","CYAN","MIDNIGHTBLUE","DODGERBLUE","LIGHTSEAGREEN","FORESTGREEN","SEAGREEN","DARKSLATEGRAY","LIMEGREEN","MEDIUMSEAGREEN","TURQUOISE","ROYALBLUE","STEELBLUE","DARKSLATEBLUE","MEDIUMTURQUOISE","INDIGO","DARKOLIVEGREEN","CADETBLUE","CORNFLOWERBLUE","MEDIUMAQUAMARINE","DIMGRAY","SLATEBLUE","OLIVEDRAB","SLATEGRAY","LIGHTSLATEGRAY","MEDIUMSLATEBLUE","LAWNGREEN","CHARTREUSE","AQUAMARINE","MAROON","PURPLE","OLIVE","GRAY","SKYBLUE","LIGHTSKYBLUE","BLUEVIOLET","DARKRED","DARKMAGENTA","SADDLEBROWN","DARKSEAGREEN","LIGHTGREEN","MEDIUMPURPLE","DARKVIOLET","PALEGREEN","DARKORCHID","YELLOWGREEN","SIENNA","BROWN","DARKGRAY","LIGHTBLUE","GREENYELLOW","PALETURQUOISE","LIGHTSTEELBLUE","POWDERBLUE","FIREBRICK","DARKGOLDENROD","MEDIUMORCHID","ROSYBROWN","DARKKHAKI","SILVER","MEDIUMVIOLETRED","INDIANRED","PERU","CHOCOLATE","TAN","LIGHTGRAY","PALEVIOLETRED","THISTLE","ORCHID","GOLDENROD","CRIMSON","GAINSBORO","PLUM","BURLYWOOD","LIGHTCYAN","LAVENDER","DARKSALMON","VIOLET","PALEGOLDENROD","LIGHTCORAL","KHAKI","ALICEBLUE","HONEYDEW","AZURE","SANDYBROWN","WHEAT","BEIGE","WHITESMOKE","MINTCREAM","GHOSTWHITE","SALMON","ANTIQUEWHITE","LINEN","LIGHTGOLDENRODYELLOW","OLDLACE","RED","FUCHSIA","MAGENTA","DEEPPINK","ORANGERED","TOMATO","HOTPINK","CORAL","DARKORANGE","LIGHTSALMON","ORANGE","LIGHTPINK","PINK","GOLD","PEACHPUFF","NAVAJOWHITE","MOCCASIN","BISQUE","MISTYROSE","BLANCHEDALMOND","PAPAYAWHIP","LAVENDERBLUSH","SEASHELL","CORNSILK","LEMONCHIFFON","FLORALWHITE","SNOW","YELLOW","LIGHTYELLOW","IVORY","WHITE","ArgbComponents","$alpha","$r","$g","$b","alpha","g","b","colorHex","toArgbHex","ToRangeFF","updateColorHex","Math","updateArgbComponents","ToRgba","ToHex","GetArgbComponents","MakeArgbHex","ArgbHex","Negate","GreyScale","percent","Alpha","ContrastYiq","ShadeLightColor","fromNumber","toUpperCase","startsWith","fromRgb","fromRgba","fromHsl","fromHsla","fromHex","fromName","chanels","Array","from","matchAll","rgbNumbersRegex","Number","aChanel","alphaRegex","round","parseFloat","h","s","abs","x","m","hslToRgb","slice","argbHex","toFixed","rChanel","padStart","gChanel","bChanel","chanel","components","deviationPercent","amt","maxArgbHex"],"mappings":"oNAwBMA,EAAkC,CACtCC,oBAAgBC,EAChBC,cAAUD,EACVE,MAAO,GACPC,SAAS,GA8BLC,GAA8B,mBACjCC,KA3B4B,SAACC,EAAoBC,GAClD,OAAOC,OAAOC,OAAO,GAAIH,EAAO,CAAEP,eAAgBQ,EAAOG,WAyBvB,cAEjCC,KAxBiB,SAACL,EAAoBC,GACvC,OAAOC,OAAOC,OAAO,GAAIH,EAAO,CAAEL,SAAUM,EAAOK,UAqBjB,cAGjCC,KAjBkB,SAACP,EAAoBC,GACxC,OAAOC,OAAOC,OAAO,GAAIH,EAAO,CAAEJ,MAAOK,EAAOL,WAad,cAIjCY,KAtBoB,SAACR,EAAoBC,GAC1C,OAAOC,OAAOC,OAAO,GAAIH,EAAO,CAAEH,QAASI,EAAOJ,aAiBhB,cAKjCY,KAfgB,SAACT,EAAoBC,GACtC,OAAOC,OAAOC,OAAO,GAAI,CACvBV,oBAAgBC,EAChBC,cAAUD,EACVE,MAAO,GACPC,SAAS,OAKuB,GAQvBa,EAAc,WAAqF,IAA3EV,EAA0E,uDAArDR,EAAoBS,EAAiC,uCACvGU,EAAiBb,EAASG,EAAOW,MACvC,OAAOD,EAAiBA,EAAeE,KAAK,KAAMb,EAAOC,GAAUD,GC3DxDc,EAAiC,CAC5CC,QAAS,IASLjB,EAA8B,eACjCkB,KALgB,SAAChB,EAAuBC,GACzC,OAAOC,OAAOC,OAAO,GAAIH,EAAO,CAACe,QAASd,EAAOc,aAOtCE,EAAiB,WAA0F,IAAhFjB,EAA+E,uDAAvDc,EAAgBb,EAAuC,uCAC/GU,EAAiBb,EAASG,EAAOW,MACvC,OAAOD,EAAiBA,EAAeE,KAAK,KAAMb,EAAOC,GAAUD,I,gCCzBrE,skC,iCCAA,qFAQakB,EAAsC,SAACC,GAClD,OACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACGA,EAAMC,mB,iCCdnB,gFAKMC,EAAcC,YAAgB,CAClChB,KAAMI,IACNa,KAAMN,MAGFO,EACc,kBAAXC,QACJA,OAAeC,qCACfD,OAAeC,qCAAqC,IAErDC,IAEEC,EAAQC,YAAYR,EAAaG,EAAiBM,YAAgBC,OAM3DC,EAA8C,SAACb,GAC1D,OACE,cAAC,IAAD,CAAUS,MAAOA,EAAjB,SACGT,EAAMC,a,iCCzBb,8CAKaa,EAAc,WACzB,IAAMC,EAAYC,aAAoC,SAAAnC,GAAK,OAAIA,EAAMM,QAErE,MAAO,CACLA,KAAM4B,EAAUvC,SAChBF,eAAgByC,EAAUzC,kB,iCCV9B,8CAYa2C,EAAoE,SAACC,GAA2B,IAAlBC,EAAiB,uDAAXC,IAC/F,OAAOD,EAAIE,KAAK,kBAAmBH,K,iCCdrC,ghB,qHCOaI,EAAkC,SAACtB,GAG9C,OAAa,GCNK,WAClB,MAA4BuB,oBAAS,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KACMC,EAAWC,cAajB,OAXAC,qBAAU,WACH,cAAAC,EAAA,4BAAAA,EAAA,sEACGH,EAASI,kBADZ,OAGHL,GAAU,GAEVM,QAAQC,IAAI,aAAc,6IAC1BD,QAAQC,IAAI,yEAAwB,6IANjC,+CAQJ,IAEIR,EDXQS,GAEY,cAAC,IAAD,IAGzB,cAAC,IAAD,UACE,cAACC,EAAA,UAAD,O,gBEASA,IARf,WACE,OACE,cAACnC,EAAA,EAAD,UACE,cAAC,EAAD,Q,gNCLOoC,EACO,UADPA,EAEO,UAFPA,EAGO,UAHPA,EAKA,UALAA,EAME,UANFA,EAOE,UAPFA,EAQC,UARDA,EASG,UATHA,EAUC,UAVDA,EAWE,UAXFA,EAYG,UAZHA,EAcM,UAdNA,EAeM,UAfNA,EAgBM,UAKNC,EAAY,CACvBC,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAAsB,IAC3DQ,MAAOJ,IAASG,sBAAsBP,EAAqB,IAC3DS,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAAqBW,SAASE,SACpDC,KAAMV,IAASQ,KAAKZ,GAAqBe,eAAe,IAAIF,UAEjDG,EAAc,CACzBd,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAAwB,IAC7DQ,MAAOJ,IAASG,sBAAsBP,EAAuB,IAC7DS,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAAuBW,SAASE,SACtDC,KAAMV,IAASQ,KAAKZ,GAAuBe,eAAe,IAAIF,UAEnDI,EAAc,CACzBf,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAAwB,IAC7DQ,MAAOJ,IAASG,sBAAsBP,EAAuB,IAC7DS,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAAuBW,SAASE,SACtDC,KAAMV,IAASQ,KAAKZ,GAAuBe,eAAe,IAAIF,UAEnDK,EAAa,CACxBhB,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAAuB,IAC5DQ,MAAOJ,IAASG,sBAAsBP,EAAsB,IAC5DS,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAAsBW,SAASE,SACrDC,KAAMV,IAASQ,KAAKZ,GAAsBe,eAAe,IAAIF,UAElDM,EAAe,CAC1BjB,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAAyB,IAC9DQ,MAAOJ,IAASG,sBAAsBP,EAAwB,IAC9DS,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAAwBW,SAASE,SACvDC,KAAMV,IAASQ,KAAKZ,GAAwBe,eAAe,IAAIF,UAEpDO,EAAa,CACxBlB,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAAuB,IAC5DQ,MAAOJ,IAASG,sBAAsBP,EAAsB,IAC5DS,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAAsBW,SAASE,SACrDC,KAAMV,IAASQ,KAAKZ,GAAsBe,eAAe,IAAIF,UAElDQ,EAAc,CACzBnB,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAAwB,IAC7DQ,MAAOJ,IAASG,sBAAsBP,EAAuB,IAC7DS,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAAuBW,SAASE,SACtDC,KAAMV,IAASQ,KAAKZ,GAAuBe,eAAe,IAAIF,UAEnDS,EAAe,CAC1BpB,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAAyB,IAC9DQ,MAAOJ,IAASG,sBAAsBP,EAAwB,IAC9DS,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAAwBW,SAASE,SACvDC,KAAMV,IAASQ,KAAKZ,GAAwBe,eAAe,IAAIF,UAGpDU,EAAmB,CAC9BrB,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAA6B,IAClEQ,MAAOJ,IAASG,sBAAsBP,EAA4B,IAClES,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAA4BW,SAASE,SAC3DC,KAAMV,IAASQ,KAAKZ,GAA4Be,eAAe,IAAIF,UAExDW,EAAmB,CAC9BtB,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAA6B,IAClEQ,MAAOJ,IAASG,sBAAsBP,EAA4B,IAClES,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAA4BW,SAASE,SAC3DC,KAAMV,IAASQ,KAAKZ,GAA4Be,eAAe,IAAIF,UAExDY,EAAmB,CAC9BvB,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAA6B,IAClEQ,MAAOJ,IAASG,sBAAsBP,EAA4B,IAClES,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAA4BW,SAASE,SAC3DC,KAAMV,IAASQ,KAAKZ,GAA4Be,eAAe,IAAIF,UAGxDa,EAAkB,CAC7BxB,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAA4B,IACjEQ,MAAOJ,IAASG,sBAAsBP,EAA2B,IACjES,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAA2BW,SAASE,SAC1DC,KAAMV,IAASQ,KAAKZ,GAA2Be,eAAe,IAAIF,UAEvDc,EAAkB,CAC7BzB,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAA4B,IACjEQ,MAAOJ,IAASG,sBAAsBP,EAA2B,IACjES,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAA2BW,SAASE,SAC1DC,KAAMV,IAASQ,KAAKZ,GAA2Be,eAAe,IAAIF,UAEvDe,EAAkB,CAC7B1B,KAAMF,EACNG,aAAcC,IAASC,kBAAkBL,GACzCM,KAAMF,IAASG,sBAAsBP,GAA4B,IACjEQ,MAAOJ,IAASG,sBAAsBP,EAA2B,IACjES,KAAML,IAASM,gBAAgBV,GAC/BW,OAAQP,IAASQ,KAAKZ,GAA2BW,SAASE,SAC1DC,KAAMV,IAASQ,KAAKZ,GAA2Be,eAAe,IAAIF,UAGvDgB,EAAa,CACxB3B,KAAMF,EACNM,KAAMN,EACNQ,MAAOR,EACP8B,OAAQ9B,EACR+B,SAAU/B,EACVgC,MAAOhC,EACPiC,KAAMjC,GAGKkC,EAAc,CACzBhC,KAAMF,EACNM,KAAMN,EACNQ,MAAOR,EACP8B,OAAQ9B,EACR+B,SAAU/B,EACVgC,MAAOhC,EACPiC,KAAMjC,GC5GKmC,EAAiCC,YAAe,CAC3DC,QAAS,CACP/E,KAAM,QACNgF,QAAS,CACPpC,KAAMgB,EAAWhB,MAEnBqC,UAAW,CACTrC,KAAMmB,EAAYnB,MAEpBsC,OAAQN,EACRjC,YACAe,cACAC,cACAC,aACAC,eACAC,aACAC,cACAC,eACAC,mBACAC,mBACAC,mBACAC,kBACAC,kBACAC,kBAEAK,KAAM,CACJK,QAAStC,MAIFyC,EAAgCL,YAAe,CAC1DC,QAAS,CACP/E,KAAM,OACNgF,QAAS,CACPpC,KAAMgB,EAAWhB,MAEnBqC,UAAW,CACTrC,KAAMmB,EAAYnB,MAEpBsC,OAAQX,EACR5B,YACAe,cACAC,cACAC,aACAC,eACAC,aACAC,cACAC,eACAC,mBACAC,mBACAC,mBACAC,kBACAC,kBACAC,kBAEAK,KAAM,CACJK,QAAStC,MAMF0C,EAAsBC,YAAH,8BAGnBC,EAAqBD,YAAH,8BAGlBE,EAAeF,YAAH,6HAKrB,SAAAG,GAAC,OAAIA,EAAEC,MAAMC,YAAYC,KAAK,S,OClIrBC,EAAa,CACxB5C,KAAM,OACNE,MAAO,SAEH2C,EAAuB,YAUhBC,EAAkBC,IAAMC,cAAiC,CAAEC,YAAa,iBAAM,IAAIC,aAAc,SAGhGC,EAA8C,SAAU5F,GACnE,MAA4BuB,oBAAS,kBAAOsE,QAAQC,aAAaC,QAAQT,IAAyBD,EAAW1C,UAA7G,mBAAOqD,EAAP,KAAeC,EAAf,KAEArE,qBAAU,WACR,IAAMsE,EAAaJ,aAAaC,QAAQT,GAGpCK,EAFiBrF,OAAO6F,WAAW,gCAEPC,QAAUf,EAAW5C,KAAO4C,EAAW1C,MACnEuD,IAAYP,EAAeO,GAE3BP,GAAgBN,EAAW1C,OAAOsD,GAAU,GAEhD3F,OAAO+F,SAASC,gBAAgBC,QAAQrB,MAAQS,IAC/C,IAEH,IASIT,EAAQN,GACG,IAAXoB,IACFd,EAAQZ,GAIV,IAAIkC,EAAWzB,EAGf,OAFe,IAAXiB,IAAkBQ,EAAW3B,GAG/B,cAACU,EAAgBkB,SAAjB,CAA0BC,MAAO,CAAEhB,YAnBjB,WAClB,IAAMiB,EAAkBX,EAASX,EAAW1C,MAAQ0C,EAAW5C,KAK/D,OAJAnC,OAAO+F,SAASC,gBAAgBC,QAAQrB,MAAQyB,EAEhDb,aAAac,QAAQtB,EAAsBqB,GAC3CV,GAAWD,GACJW,GAasDhB,aAAcK,EAASX,EAAW5C,KAAO4C,EAAW1C,OAAjH,SACE,cAACkE,EAAA,EAAD,CAAe3B,MAAOA,EAAtB,SACE,eAAC,IAAD,CAAqBA,MAAOA,EAA5B,UACE,cAACF,EAAD,IACA,cAACwB,EAAD,IACCxG,EAAMC,kB,4NCxDX6G,EAAc,IAAIC,IAEXC,EAA0D,SAAChH,GACtE,OACE,cAACiH,EAAA,EAAD,CAAqBC,OAAQJ,EAA7B,SACG9G,EAAMC,a,gCCXb,8xF,iCCAA,sDAGO,SAASkH,IAGd,OAFoBC,qBAAW7B,O,iCCJlB,QAA0B,wC,yOCAzC,ymB,uNCEa8B,EAAOC,IAAOjF,KAAV,6FACK,SAAArC,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOtC,Q,OCE7CkF,EAA0C,SAACvH,GACtD,OACE,cAACqH,EAAD,UACGrH,EAAMC,Y,iHCCPuH,EAAgB,QAChBC,EAAkB,QAGXC,EAAoBJ,IAAOK,IAAV,oGACR,SAAA3H,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOtC,QAM7CuF,EAAaN,IAAOK,IAAV,sDACD,SAAA3H,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOR,SAG7C0D,EAAiBP,IAAOK,IAAV,+KACL,SAAA3H,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOR,SAC7C,SAAAnE,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAQ7BC,EAAqBT,IAAOU,IAAV,sIAQlBC,EAAqBX,IAAOK,IAAV,kYACT,SAAA3H,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOR,SAE7C,SAAAnE,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAShB,SAAA9H,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOtC,QACjD,SAAArC,GAAK,OAAIA,EAAMkF,MAAMgD,OAAOC,WAIzB,SAAAnI,GAAK,OAAIA,EAAMkF,MAAMkD,QAAQ,KAEzCV,GAOEW,EAAsB,6GAQfC,EAAqBhB,YAAOiB,IAAPjB,CAAH,4FACnB,SAAAtH,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,KACrCO,GAGS,SAAArI,GAAK,OAAIA,EAAMkF,MAAMV,QAAQnB,WAAWhB,QAIxCmG,EAAsBlB,IAAOK,IAAV,4FACpB,SAAA3H,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,KACrCO,GAGS,SAAArI,GAAK,OAAIA,EAAMkF,MAAMV,QAAQnB,WAAWhB,QAIxCoG,EAAqBnB,IAAOK,IAAV,gFAKlBe,GAAgBpB,IAAOK,IAAV,gFAKbgB,GAAarB,IAAOsB,IAAV,0IACD,SAAA5I,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOR,SAC7C,SAAAnE,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAO7Be,GAAOvB,YAAOwB,IAAPxB,CAAH,iEAMJyB,GAASzB,YAAO0B,IAAP1B,CAAH,iEAMN2B,GAAQ3B,YAAO4B,IAAP5B,CAAH,iEAML6B,GAAW7B,IAAOK,IAAV,uKACC,SAAA3H,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOR,SAC7C,SAAAnE,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAQ7BsB,GAAU9B,YAAOiB,IAAPjB,CAAH,0KAGR,SAAAtH,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAK5B,SAAA9H,GAAK,OAAIA,EAAMkF,MAAMV,QAAQnB,WAAWhB,QAIxCgH,GAAe/B,IAAOgC,OAAV,6rBAOH,SAAAtJ,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOtC,OAGtDqF,EACyBF,EAEzBE,EAAyCyB,GAIX1B,EAC5BC,EAAyCuB,GAGzCvB,EAAyCqB,GAOzCrB,EAIEK,GAOKwB,GAAajC,IAAOjF,KAAV,wiCAOnBqF,EACyBF,EAGzBE,EAAyCiB,GAIzCjB,EAAyC0B,GAIX3B,EAK1BkB,IAIK,SAAA3I,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAC5B,SAAA9H,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAC5B,SAAA9H,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAC5B,SAAA9H,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAWnB,SAAA9H,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOV,SAKxDyD,EAAyCiB,GAKzCjB,EAAyC0B,IAMlCI,GAAclC,YAAOmC,IAAPnC,CAAH,koBAEb,SAAAtH,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOT,YAGvB,SAAAlE,GAAK,OAAIA,EAAMkF,MAAMV,QAAQnB,WAAWhB,OAG5DqF,EAGAuB,GAGAvB,EAAyCuB,GAGzCvB,EAAyCqB,GAIXtB,GAGR,SAAAzH,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOR,SACpC,SAAAnE,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOV,UAE1C,SAAAjE,GAAK,OAAIA,EAAMkF,MAAMkD,QAAQ,MACjC,SAAApI,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAC9B,SAAA9H,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAM/B4B,GAAuBpC,YAAOqC,IAAPrC,CAAH,2CACtB,SAAAtH,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOT,YAGlC0F,GAAYC,aAAW,SAAC3E,GACnC,IAAM4E,EAAW5E,EAEjB,MAAO,CACL6E,WAAY,CACVC,MAAOF,EAAStF,QAAQnB,WAAWhB,KAEnC,QAAS,CACP2H,MAAOF,EAAStF,QAAQnB,WAAWhB,OAIvC4H,oBAAqB,CACnBC,QAAS,QAGXC,YAAa,CACX,uCAAwC,CACtCD,QAAS,SAIbE,YAAa,CACXF,QAAS,OAET,uCAAwC,CACtCA,QAAS,c,sNClRJG,GAAsC,SAAC,GAAkB,IAAD,EAAfpK,EAAe,EAAfA,SAC9CyB,EAAWC,eAEjB,EAAsC6D,IAAMjE,UAAS,GAArD,mBAAO+I,EAAP,KAAoBC,EAApB,KACA,EAAgC/E,IAAMjE,UAAS,GAA/C,mBAAOiJ,EAAP,KAAiBC,EAAjB,KACMC,EAAgBC,iBAAO,CAAEC,SAAS,EAAOC,MAAM,IACrDH,EAAcI,QAAQD,KAAOL,EAC7BE,EAAcI,QAAQF,QAAUN,EAEhC,IAAMS,EAAqB5D,eACrB6D,EAASpB,KAETpL,EAAWwC,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKX,YACxDyM,EAAQ,iBAAGzM,QAAH,IAAGA,OAAH,EAAGA,EAAU0M,YAAb,QAAqB,oDAC7BC,GAAqB,OAAR3M,QAAQ,IAARA,OAAA,EAAAA,EAAU4M,OAAQC,mBAAQ,OAAC7M,QAAD,IAACA,OAAD,EAACA,EAAU4M,OAASE,YAAUC,iBACrE7M,EAA+B,GAArBmH,QAAQrH,GAElBgN,EAAaC,uBAAY,WAC7B/J,EAASgK,sBACR,IAoBH,OAlBA9J,qBAAU,WACR,SAAS+J,EAASC,GAChB,IAAMC,EAASD,EAAMC,OAEiD,GAAjEhG,QAAQgG,EAAOC,QAAQ,wCAAoDpB,EAAcI,QAAQF,SACpGL,GAAe,GAOnB,OAHAlE,SAASC,gBAAgByF,iBAAiB,QAASJ,GACnDtF,SAASC,gBAAgByF,iBAAiB,WAAYJ,GAE/C,WACLtF,SAASC,gBAAgB0F,oBAAoB,QAASL,GACtDtF,SAASC,gBAAgB0F,oBAAoB,WAAYL,MAE1D,IAGD,eAACjE,EAAD,CAAmCuE,YAAWzB,EAAS0B,WAAYC,oBAAmB7B,EAAY4B,WAAlG,UACE,eAAC7C,GAAD,WACE,eAACF,GAAD,WACE,cAAC,IAAD,CAAMiD,GAAIC,YAAUnK,IAApB,SAAyB,cAAC2G,GAAD,MAEzB,eAACW,GAAD,CAAa8C,iBAAe,aAAaC,QAAS,CAAEC,KAAMxB,EAAOb,aAAesC,aAAW,cAAcC,QAAS,kBAAMjC,GAAaD,IAArI,UACE,cAACzB,GAAD,IACA,cAAC,GAAD,UAGJ,cAACnB,EAAD,IACA,eAACC,EAAD,CAAgByE,iBAAe,kBAA/B,UACG5N,GAAW,cAACiO,GAAA,EAAD,IAEA,GAAXjO,GACC,cAAC+J,EAAD,UAAqBwC,IAGX,GAAXvM,GACC,8BACE,eAACkO,GAAA,EAAD,CAAQC,gBAAc,cAAcC,gBAAc,OAAOJ,QAAS,kBAAMnC,GAAgBD,IAAxF,UACE,cAACvC,EAAD,CAAoBgF,IAAK5B,EAAY6B,IAAI,gBAEzC,cAACC,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,cAACxD,GAAD,CAAsByD,SAAS,iBAO3B,GAAXzO,GACC,eAACuJ,EAAD,WACE,eAACO,EAAD,WACE,cAAC,KAAD,IAEA,cAAC4E,GAAA,EAAD,CACEC,QAAStC,EAAmBpF,cAAgBN,aAAW5C,KACvD6K,SAAU,kBAAMvC,EAAmBrF,eACnC6H,KAAK,QACLvD,MAAM,eAIV,eAAC1B,EAAD,CAAoBkF,gBAAiBxC,EAAOjB,WAAYqC,GAAIC,YAAUoB,QAAtE,UAA+E,cAAC,KAAD,IAA/E,iDACA,eAACnF,EAAD,CAAoBkF,gBAAiBxC,EAAOjB,WAAYqC,GAAIC,YAAUqB,SAAtE,UAAgF,cAAC,KAAD,IAAhF,6DACA,eAAClF,EAAD,CAAqBkE,QAASlB,EAA9B,UAA0C,cAAC,KAAD,IAA1C,8CAMR,eAACjC,GAAD,WACE,eAACZ,GAAD,WACE,eAACS,GAAD,CAASgD,GAAIC,YAAUsB,QAASH,gBAAiBxC,EAAOjB,WAAxD,UAAoE,cAAC,KAAD,CAAcoD,SAAS,UAA3F,IAAsG,qEACtG,eAAC/D,GAAD,CAASgD,GAAIC,YAAUuB,MAAOJ,gBAAiBxC,EAAOjB,WAAtD,UAAkE,cAAC,KAAD,CAAUoD,SAAS,UAArF,IAAgG,wFAEhG,cAAC,SAAD,CAAQU,QAASC,iBAAO,CAACC,aAAUC,QAASD,aAAUE,QAAtD,SACE,eAAC7E,GAAD,CAASgD,GAAIC,YAAU6B,UAAWV,gBAAiBxC,EAAOjB,WAA1D,UAAsE,cAAC,KAAD,CAA0BoD,SAAS,UAAzG,IAAoH,+GAGxH,cAACzE,GAAD,UACGzI,IAEH,eAACuJ,GAAD,CAAa8C,iBAAe,aAAaC,QAAS,CAAEC,KAAMxB,EAAOZ,aAAeqC,aAAW,cAAcC,QAAS,kBAAMjC,GAAaD,IAArI,UACE,cAACzB,GAAD,IACA,cAAC,GAAD,YAlEiB,e,iJCnCfgF,E,QAJCI,G,MAAb,mCAAaA,EACJC,aAAe,e,SAGZL,O,6BAAAA,I,qBAAAA,I,kBAAAA,M,qGCtCCM,EAAb,WAyBE,WAAYC,GAA+E,IAAjCC,EAAgC,uDAAJ,GAAI,yBAxBhFpN,SAwBgF,OAvBhFmN,WAuBgF,OArBnFE,cAqBmF,OAnBnF/P,MAAa,KAmBsE,KAlBnFgQ,cAkBmF,OAjBnF/P,SAAmB,EAiBgE,KAfnF0B,UAemF,OAdnFsO,kBAcmF,OAZnFC,WAAqB,EAY8D,KAXnFC,SAAmB,EAWgE,KAVnFC,YAAsB,EAU6D,KARnFN,uBAQmF,OANnFO,cAMmF,OALnF5N,aAKmF,OAHnF6N,YAGmF,OAFnFC,aAEmF,EACxFC,KAAKX,MAAQA,EAEbW,KAAKV,kBAAoBA,EAEzB,IAAMW,EAAWC,YAAiBF,KAAKV,mBACvCU,KAAK9N,IAAM+N,EAASE,WACpBH,KAAKT,SAAWU,EAASV,SAhC7B,0CAmCE,WACES,KAAKxQ,WAAQF,EACb0Q,KAAKR,cAAWlQ,EAChB0Q,KAAKvQ,SAAU,EAEfuQ,KAAK7O,UAAO7B,EACZ0Q,KAAKP,kBAAenQ,EAEpB0Q,KAAKN,WAAY,EACjBM,KAAKL,SAAU,EACfK,KAAKJ,YAAa,EAElBI,KAAKH,cAAWvQ,EAChB0Q,KAAK/N,aAAU3C,EAEf,IAAM2Q,EAAWC,YAAiBF,KAAKV,mBACvCU,KAAK9N,IAAM+N,EAASE,WACpBH,KAAKT,SAAWU,EAASV,WApD7B,mBAuDE,SAAMtN,GASJ,OARA+N,KAAKP,aAAeO,KAAKX,MAAMpN,EAAS+N,KAAK9N,KAAKkO,MAAK,SAACjP,GAAD,OAAUA,EAAKA,QAEtE6O,KAAK/N,QAAUA,EAEf+N,KAAKP,aAAaW,KAAKJ,KAAKK,cAAcC,KAAKN,OAAOO,MAAMP,KAAKQ,aAAaF,KAAKN,OAEnFA,KAAKvQ,SAAU,EAERuQ,KAAKP,eAhEhB,oBAmEE,WAAU,IAAD,EACP,UAAAO,KAAKT,gBAAL,cAAAS,MAEAA,KAAKvQ,SAAU,EAEfuQ,KAAKN,WAAY,EACjBM,KAAKJ,YAAa,IAzEtB,2BA4EE,SAAsBzO,GAAgC,IAAD,EACnD6O,KAAKvQ,SAAU,EACfuQ,KAAKN,WAAY,EACjBM,KAAKL,SAAU,EAEfK,KAAKH,SAAW1O,EAEM,GAAlBA,EAAKsP,YACPT,KAAKL,SAAU,EACfK,KAAKR,SAAWrO,EAAKuP,cAGnBvP,EAAKsP,YACPT,KAAK7O,KAAOA,EAAKA,MAGnB,UAAA6O,KAAKF,cAAL,cAAAE,KAAc7O,EAAM6O,QA5FxB,0BA+FE,SAAqBxQ,GAAa,IAAD,EAC/BwQ,KAAKvQ,SAAU,EACfuQ,KAAKL,SAAU,EACfK,KAAKN,WAAY,EAEjBM,KAAKxQ,MAAQA,EAEb,UAAAwQ,KAAKD,eAAL,cAAAC,KAAexQ,EAAOwQ,UAtG1B,M,qDCRA,sGAAO,IAAM3D,EAAY,CACvBsE,aAAc,cACdC,WAAY,SAEZ,uBACE,OAAOZ,KAAKY,WAAa,IAAMZ,KAAKW,eAIjC,SAASvE,EAASyE,GACvB,OAAOxE,EAAUuE,WAAa,IAAMC,EAG/B,SAASC,EAASD,GACvB,MAAOE,yBAAA,wBAAsDF,K,gMCdxD,I,0BAAMG,EACN,CAAEH,KAAM,IAAKI,OAAO,EAAMC,IAAK,YADzBF,EAEJ,CAAEH,KAAM,SAAUI,OAAO,EAAMC,IAAK,cAFhCF,EAGJ,CAAEH,KAAM,SAAUI,OAAO,EAAMC,IAAK,cAHhCF,EAIH,CAAEH,KAAM,UAAWI,OAAO,EAAMC,IAAK,eAJlCF,EAKF,CAAEH,KAAM,WAAYI,OAAO,EAAMC,IAAK,gBALpCF,EAMF,CAAEH,KAAM,WAAYI,OAAO,EAAMC,IAAK,gBANpCF,EAOD,CAAEH,KAAM,YAAaI,OAAO,EAAMC,IAAK,iBAPtCF,EAQA,CAAEH,KAAM,mBAAoBI,OAAO,EAAMC,IAAK,kBAR9CF,EASA,CAAEH,KAAM,SAAUI,OAAO,EAAMC,IAAK,cATpCF,EAUA,CAAEH,KAAM,mBAAoBI,OAAO,EAAMC,IAAK,kBAV9CF,EAWC,CAAEH,KAAM,eAAgBI,OAAO,EAAMC,IAAK,mBAX3CF,EAYC,CAAEH,KAAM,eAAgBI,OAAO,EAAMC,IAAK,mBAZ3CF,EAaE,CAAEH,KAAM,0BAA2BI,OAAO,EAAMC,IAAK,oBAbvDF,EAcG,CAAEH,KAAM,iBAAkBI,OAAO,EAAMC,IAAK,qBAd/CF,EAeI,CAAEH,KAAM,sBAAuBI,OAAO,EAAMC,IAAK,sBAfrDF,EAgBM,CAAEH,KAAM,0BAA2BI,OAAO,EAAMC,IAAK,wBAhB3DF,EAiBO,CAAEH,KAAM,qBAAsBI,OAAO,EAAMC,IAAK,yBAjBvDF,EAkBQ,CAAEH,KAAM,wBAAyBI,OAAO,EAAMC,IAAK,0BAG3D9D,EAAY,CACvBnK,IAAK+N,EAAgBH,KACrBM,MAAOH,EAAkBH,KACzBlC,MAAOqC,EAAkBH,KACzBO,OAAQJ,EAAmBH,KAC3BrC,QAASwC,EAAoBH,KAC7BnC,QAASsC,EAAoBH,KAC7BpC,SAAUuC,EAAqBH,KAC/BQ,UAAWL,EAAsBH,KACjC5B,UAAW+B,EAAsBH,KACjCS,UAAWN,EAAsBH,KACjCU,WAAYP,EAAuBH,KACnCW,WAAYR,EAAuBH,KACnCY,YAAaT,EAAwBH,KACrCa,aAAcV,EAAyBH,KACvCc,cAAeX,EAA0BH,KACzCe,gBAAiBZ,EAA4BH,KAC7CgB,iBAAkBb,EAA6BH,KAC/CiB,kBAAmBd,EAA8BH,KAEjDkB,cApBuB,SAoBTC,GACZ,MAAM,kBAAN,OAAyBA,EAAzB,UAEFC,cAvBuB,SAuBTD,GACZ,MAAM,kBAAN,OAAyBA,EAAzB,UAEFE,cA1BuB,SA0BTF,GACZ,MAAM,YAAN,OAAmBA,IAErBG,iBA7BuB,SA6BNH,GACf,MAAM,mBAAN,OAA0BA,IAE5BI,aAhCuB,SAgCVJ,GACX,MAAM,gBAAN,OAAuBA,K,+GCjDdK,EAAYhK,IAAOK,IAAV,+CACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrByJ,EAAWjK,YAAOkK,IAAPlK,CAAH,uOACV,SAAArC,GAAC,OAAIA,EAAEC,MAAMV,QAAQnB,WAAWhB,QACrB,SAAA4C,GAAC,OAAIA,EAAEC,MAAMV,QAAQnB,WAAWhB,QACzC,SAAA4C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAMV,SAAA7C,GAAC,OAAI1C,IAASQ,KAAKkC,EAAEC,MAAMV,QAAQnB,WAAWhB,MAAMa,eAAe,IAAIF,YAIlFyO,EAAUnK,IAAOK,IAAV,kFAEX,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAIjB4J,EAAUpK,YAAOqK,IAAPrK,CAAH,yJC5BL,MAA0B,wCCA1B,OAA0B,uC,QCY5BsK,GAAoC,SAAC5R,GAChD,OACE,eAAC,IAAD,UACE,gBAACsR,EAAD,WACE,eAACO,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,yGAEA,eAAC9E,EAAA,EAAD,CAAK+E,SAAU,EAAf,SACE,eAACC,EAAA,EAAD,MAKF,gBAAChF,EAAA,EAAD,WACE,kqDAOA,eAACyE,EAAD,CAAS3E,IAAKmF,EAAWlF,IAAI,eAE7B,6gCAMA,eAAC0E,EAAD,CAAS3E,IAAKoF,GAAWnF,IAAI,kBAG/B,gBAACyE,EAAD,WACE,eAACF,EAAD,CAAUnF,GAAIC,YAAUsB,QAAxB,4CACA,eAAC4D,EAAD,CAAUnF,GAAIC,YAAUuB,MAAxB,wE,4BCvCGwE,GAAa9K,YAAOuK,IAAPvK,CAAH,mDAIV+K,GAAY/K,IAAOgL,KAAV,iDAITC,GAAcjL,IAAOK,IAAV,2IAQX6K,GAA0BlL,IAAOK,IAAV,iGAQvBiC,GAAYC,aAAW,CAClC4I,YAAa,CACXC,MAAO,oBAGTC,aAAc,CACZC,SAAU,WACVC,IAAK,MACLC,MAAO,MACPC,UAAW,sB,6GClBTC,GAASC,OAAaC,MAAM,CAChCC,KAAMF,OAAaG,OAAOC,SAAS,+FACnCC,SAAUL,OAAaG,OAAOC,SAAS,iGAG5BE,GAAsC,SAACvT,GAAW,IAAD,QACtD0B,EAAWC,eACXjD,EAAUsC,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKT,WACvD8U,EAAaxS,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKV,SAChE,EAA4B8C,oBAAS,GAArC,oBAAOkS,EAAP,KAAeC,EAAf,KAEM1I,EAASpB,KACf,EAA0D+J,aAAyB,CACjFC,SAAUC,aAAYb,MADhBc,EAAR,EAAQA,SAAuBC,EAA/B,EAAkBC,UAAaD,OAAUE,EAAzC,EAAyCA,aAOnCC,EAAmB,WACvBR,GAAU,SAAC7U,GAAD,OAAYA,MAIxB,OACE,eAAC,IAAD,UACE,eAAC,IAAD,UACE,gBAAC,IAAD,WACE,eAACuT,GAAD,CAA6BL,QAAQ,KAArC,qCAAgB,cAChB,eAACF,EAAA,EAAD,CAAY7H,MAAM,QAAlB,SAA2BwJ,IAC3B,gBAACnB,GAAD,CAA2B8B,SAAUF,GAd5B,SAAC7T,GAChBsB,EAAS0O,gBAAM,CAAE+C,KAAM/S,EAAK+S,KAAKC,OAAQE,SAAUlT,EAAKkT,SAASF,aAa3D,UACE,eAACgB,GAAA,EAAD,aACEC,SAAU3V,EACV4V,WAAS,EACTrD,GAAG,YACHsD,MAAM,iCACNxC,QAAQ,WAERtT,MAAOoH,QAAO,UAACkO,EAAOZ,YAAR,aAAC,EAAaqB,SAC5BC,WAAU,UAAEV,EAAOZ,YAAT,aAAE,EAAaqB,SACrBV,EAAS,SAHT,aAKN,eAAC7G,EAAA,EAAD,CAAKyH,GAAI,IACT,gBAAClC,GAAD,WACE,eAAC4B,GAAA,EAAD,aACEC,SAAU3V,EACV4V,WAAS,EACTrD,GAAG,gBACHsD,MAAM,uCACNxC,QAAQ,WAERtT,MAAOoH,QAAO,UAACkO,EAAOT,gBAAR,aAAC,EAAiBkB,SAChCC,WAAU,UAAEV,EAAOT,gBAAT,aAAE,EAAiBkB,QAC7B/U,KAAMgU,EAAS,WAAa,QACxBK,EAAS,aAJT,iBAMLL,EACC,eAAChK,GAAA,EAAD,CAAYgD,aAAW,gBAAgBqF,UAAW9G,EAAO2H,aAAcjG,QAASwH,EAAhF,SACE,eAAC,KAAD,MAGF,eAACzK,GAAA,EAAD,CAAYgD,aAAW,gBAAgBqF,UAAW9G,EAAO2H,aAAcjG,QAASwH,EAAhF,SACE,eAAC,KAAD,SAIN,gBAAC3B,GAAD,WACE,eAAC3F,GAAA,EAAD,CAAQyH,SAAU3V,EAAS6N,QAAS,CAAEC,KAAMxB,EAAOyH,aAAeV,QAAQ,YAAY/H,MAAM,UAAUvK,KAAK,SAA3G,SACGf,EAAU,eAACiO,GAAA,EAAD,IAAuB,mCAEpC,eAAC,IAAD,CAA0BP,GAAIC,YAAUgE,OAAxC,6KAAa,mBAxCF,eAHJ,cADC,iB,UC5CTsE,GAAgBrN,YAAOuK,IAAPvK,CAAH,6HAGtB,SAAAtH,GAAK,OAAIA,EAAMkF,MAAMC,YAAYC,KAAK,SAO7BwP,GAAatN,IAAOU,IAAV,gLAIT,SAAAhI,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAM9B+M,GAAevN,IAAOgL,KAAV,iDAIZ1I,GAAYC,aAAW,CAClCiL,eAAgB,CACdpC,MAAO,oBAGTC,aAAc,CACZC,SAAU,WACVC,IAAK,MACLC,MAAO,MACPC,UAAW,sBAIFgC,GAAezN,IAAOK,IAAV,2IAQZqN,GAA2B1N,IAAOK,IAAV,iG,8BCpB/BqL,GAASC,OAAaC,MAAM,CAChCC,KAAMF,OAAaG,OAAOC,SAAS,+FAAoB4B,MAAM,uGAC7D3B,SAAUL,OAAaG,OAAOC,SAAS,+FAAoB6B,IAAI,EAAG,wGAAwBC,IAAI,GAAI,+GAClGC,UAAWnC,OAAaG,OAAOC,SAAS,+FAAoBgC,KAAK,iBAAkB,oIAA2B,SAAU3O,GACtH,OAAOuI,KAAKqG,OAAOhC,UAAY5M,KAEjCwE,KAAM+H,OAAaG,OAAOC,SAAS,+FAAoB6B,IAAI,EAAG,wGAAwBC,IAAI,GAAI,iHAGnFI,GAAwC,SAACvV,GAAW,IAAD,sBACxDwV,EAAUC,cACV/T,EAAWC,eAEXqJ,EAASpB,KACTlL,EAAUsC,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKT,WACvDgX,EAAc1U,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKV,SAEjE,EAA4B8C,oBAAS,GAArC,oBAAOkS,EAAP,KAAeC,EAAf,KAEA,EAA6FC,aAAsB,CACjHC,SAAUC,aAAYb,IACtB2C,KAAM,WAFA7B,EAAR,EAAQA,SAAuBC,EAA/B,EAAkBC,UAAaD,OAAUE,EAAzC,EAAyCA,aAAc2B,EAAvD,EAAuDA,UAAWC,EAAlE,EAAkEA,MAAcC,GAAhF,EAAyEC,MAAzE,EAAgFD,UAIhFD,EAAM,SACN,IAAMG,EAAaJ,IACbK,GAAsB,OAAVD,QAAU,IAAVA,GAAA,UAAAA,EAAY5K,aAAZ,eAAoB,IAAK8K,IAAIC,gBAAJ,OAAoBH,QAApB,IAAoBA,GAApB,UAAoBA,EAAY5K,aAAhC,aAAoB,EAAoB,IAAME,YAAUC,iBAC7F6K,EAAWvQ,QAAO,OAACmQ,QAAD,IAACA,GAAD,UAACA,EAAY5K,aAAb,aAAC,EAAoB,IAWvC8I,EAAmB,WACvBR,GAAU,SAAC7U,GAAD,OAAYA,MAGxB,OACE,eAAC,IAAD,UACE,eAAC,IAAD,UACE,eAAC,IAAD,UACE,uBAAKiT,UAAU,mBAAf,UACE,eAAC6C,GAAD,CAAe5C,QAAQ,KAAvB,gFACA,eAACF,EAAA,EAAD,CAAY7H,MAAM,QAAlB,SAA2B0L,IAC3B,gBAACb,GAAD,CAAcV,SAAUF,GApBjB,SAAC7T,IACA,IAAZ1B,GACagD,EAAS2O,iBAAO,CAAE8C,KAAM/S,EAAK+S,KAAKC,OAAQlI,KAAM9K,EAAK8K,KAAKkI,OAAQE,SAAUlT,EAAKkT,SAASF,OAAQ6C,UAAW7V,EAAKgL,MAAM,MACvHiE,MAAK,SAACgH,GAChBA,GAAcb,EAAQc,KAAKjK,YAAUnK,WAgBrC,UACE,eAACkS,GAAA,EAAD,aACEE,WAAS,EACTrD,GAAG,YACHsD,MAAM,iCACNxC,QAAQ,WAERsC,SAAU3V,EACVD,MAAOoH,QAAO,UAACkO,EAAOZ,YAAR,aAAC,EAAaqB,SAC5BC,WAAU,UAAEV,EAAOZ,YAAT,aAAE,EAAaqB,SACrBV,EAAS,SAJT,aAMN,eAAC7G,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACN,GAAA,EAAD,aACEE,WAAS,EACTrD,GAAG,YACHsD,MAAM,qBACNxC,QAAQ,WAERsC,SAAU3V,EACVD,MAAOoH,QAAO,UAACkO,EAAO7I,YAAR,aAAC,EAAasJ,SAC5BC,WAAU,UAAEV,EAAO7I,YAAT,aAAE,EAAasJ,SACrBV,EAAS,SAJT,aAMN,eAAC7G,EAAA,EAAD,CAAKyH,GAAI,IAET,gBAACM,GAAD,WACE,eAACZ,GAAA,EAAD,aACEE,WAAS,EACTrD,GAAG,gBACHsD,MAAM,uCACNxC,QAAQ,WAERtS,KAAMgU,EAAS,WAAa,OAC5BY,SAAU3V,EACVD,MAAOoH,QAAO,UAACkO,EAAOT,gBAAR,aAAC,EAAiBkB,SAChCC,WAAU,UAAEV,EAAOT,gBAAT,aAAE,EAAiBkB,SACzBV,EAAS,aALT,iBAQLL,EACC,eAAChK,GAAA,EAAD,CAAYgD,aAAW,gBAAgBqF,UAAW9G,EAAO2H,aAAcjG,QAASwH,EAAhF,SACE,eAAC,KAAD,MAGF,eAACzK,GAAA,EAAD,CAAYgD,aAAW,gBAAgBqF,UAAW9G,EAAO2H,aAAcjG,QAASwH,EAAhF,SACE,eAAC,KAAD,SAIN,eAACjH,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACN,GAAA,EAAD,aACEE,WAAS,EACTrD,GAAG,iBACHsD,MAAM,8FACNxC,QAAQ,WAERsC,SAAU3V,EACVD,MAAOoH,QAAO,UAACkO,EAAOqB,iBAAR,aAAC,EAAkBZ,SACjCC,WAAU,UAAEV,EAAOqB,iBAAT,aAAE,EAAkBZ,QAC9B/U,KAAMgU,EAAS,WAAa,QACxBK,EAAS,cALT,kBAON,eAAC7G,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACzH,EAAA,EAAD,CAAKyH,GAAI,EAAT,SACE,eAAC7C,EAAA,EAAD,8HAEF,oCACE0E,OAAO,yBAEPzE,UAAU,kBACVb,GAAG,YACHxR,KAAK,QACDqU,EAAS,UAJT,cAMN,wBAAO0C,QAAQ,YAAf,SACE,eAAC5J,GAAA,EAAD,CACEmF,QAAQ,YACR/H,MAAM,UACNyM,KAAK,SACLC,UAAW,eAACC,GAAA,EAAD,IACXC,UAAU,OALZ,SAOGR,EAAW,4EAAkB,0EAGlC,gBAACnJ,EAAA,EAAD,CAAK4J,GAAI,EAAG3M,QAAQ,OAAO4M,WAAW,SAAtC,UACE,wBAAON,QAAQ,YAAf,SACE,eAAC5B,GAAD,CAAY7H,IAAKkJ,MAElBG,GACC,eAAC3M,GAAA,EAAD,CAAYgD,aAAW,eAAeC,QAAS,WAG7CoJ,EAAS,aAASvX,IAHpB,SAKE,eAAC,KAAD,SAMN,gBAACwW,GAAD,WACE,eAACnI,GAAA,EAAD,CAAQyH,SAAU3V,EAAS6N,QAAS,CAAEC,KAAMxB,EAAO8J,gBAAkB/C,QAAQ,YAAY/H,MAAM,UAAUvK,KAAK,SAA9G,SACGf,EAAU,eAACiO,GAAA,EAAD,IAAuB,uEAEpC,eAAC,IAAD,CAASP,GAAIC,YAAU+D,MAAvB,6HAAkC,wBAjH7B,eADC,iBCpEf,SAAStC,GAAOiJ,GACrB,OAAO,SAAC5X,GACN,OAA2B,IAAvB0G,QAAQ1G,EAAKA,OAEV4X,EAAMC,QAAO,SAAAC,GAAI,uBAAI9X,EAAKA,YAAT,aAAI,EAAW4X,MAAMG,SAASD,MAAOE,OAAS,GAInE,SAASC,KAAgC,IAAzBC,IAAwB,yDAC7C,OAAO,SAAClY,GACN,OAAc,GAAVkY,EAAwD,GAAhCxR,QAAQ1G,EAAKb,iBAAkD,GAAtBuH,QAAQ1G,EAAKA,OAE7B,IAA9C0G,QAAQ1G,EAAKA,MAAQA,EAAKb,iB,iKCAxBgZ,GAAgC,SAACtX,GAC5C,IAAMxB,EAAyBsC,eAEzByW,GAAevX,EAAM6N,SAAU7N,EAAM6N,QAAQrP,GAEnD,IAAqB,IAAjB+Y,GAA0BvX,EAAMwX,aAAc,OAAO,eAAC,IAAD,CAAUpL,GAAIpM,EAAMwX,eAC7E,GAAmB,GAAhBD,GAAyBvX,EAAMyX,kBAAmB,OAAOzX,EAAMyX,kBAClE,GAAmB,GAAhBF,GAAyBvX,EAAM0X,oBAAqB,CACrD,IAAMC,EAAoB3X,EAAM0X,oBAChC,OAAOlS,IAAMoS,cAAcD,GAE7B,OAAqB,IAAjBJ,EAA+B,KAE5BvX,EAAMC,U,6BCxBF4X,GAA2BvQ,IAAOK,IAAV,iDACxB,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrBgQ,GAAUxQ,IAAOK,IAAV,kFAMPoQ,GAAezQ,YAAOsF,KAAPtF,CAAH,kIAED,SAAArC,GAAC,OAAIA,EAAEC,MAAMV,QAAQpC,UAAUK,QAG7B,SAAAwC,GAAC,OAAI1C,IAASQ,KAAKkC,EAAEC,MAAMV,QAAQpC,UAAUK,MAAMuV,iBAAiB,IAAIhV,YCArFiV,GAAkD,SAACjY,GAAW,IAAD,EAClEwV,EAAUC,cAEVxE,EADSiH,cACGjH,GAClB,EAA4CkH,aAC1C,CAAC,CAAEC,SAAUnH,KACb,SAACoH,GAAD,OAAYC,qBAAUD,EAAEE,SAAS,MACjC,CACEC,QAAS3S,QAAQoL,KAJb7Q,EAAR,EAAQA,KAAsBqY,GAA9B,EAAcC,QAAd,EAAuBja,MAAvB,EAA8Bga,WAOxBE,EAAYC,aAAgDC,iBAC5DC,EAAM,OAAG1Y,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYA,KAE3B,OACE,eAAC,IAAD,UACE,gBAACyX,GAAD,YACIY,GAAaE,EAAUF,YAAc,eAAC9L,GAAA,EAAD,IAEzB,GAAb8L,GAA6C,GAAvBE,EAAUF,WAC/B,uCACE,eAAC5G,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,gBAA0C+G,QAA1C,IAA0CA,OAA1C,EAA0CA,EAAQvL,OAClD,gBAACsE,EAAA,EAAD,CAAYE,QAAQ,QAApB,oDAAoC+G,QAApC,IAAoCA,OAApC,EAAoCA,EAAQC,SAC5C,gBAAClH,EAAA,EAAD,CAAYE,QAAQ,QAApB,kCAAwC,OAAN+G,QAAM,IAANA,OAAA,EAAAA,EAAQE,YAAa,mDAAa,0CAEpE,eAAC/L,EAAA,EAAD,CAAK4J,GAAI,IACT,eAAC5E,EAAA,EAAD,IAEA,eAAC,IAAD,CAAUgH,GAAE,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAQI,UAEtB,eAACjM,EAAA,EAAD,CAAK4J,GAAI,IACT,eAAC5E,EAAA,EAAD,IAEA,gBAAC6F,GAAD,WACE,eAACC,GAAD,CACE1D,SAAUsE,EAAUF,UACpB1G,QAAQ,YACR/H,MAAM,UACN0C,QAAS,WACPiM,EAAUQ,YAAY,CAAEf,SAAQ,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAQ7H,GAAG/E,aAC5CmD,MAAK,SAAC+J,GACL5D,EAAQc,KAAKjK,YAAUsE,kBAP7B,wDAaA,eAAC,IAAD,CAAMvE,GAAIC,YAAU6E,cAAV,OAAwB4H,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAS7H,GAAG/E,YAA9C,SACE,eAACU,GAAA,EAAD,CAAQmF,QAAQ,YAAY/H,MAAM,UAAlC,0GCjEHsH,GAAYhK,IAAOK,IAAV,iDACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MCIrBuR,GAAkD,SAACrZ,GAC9D,OACE,eAAC,IAAD,UACE,gBAAC,GAAD,WACE,eAAC6R,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,0EACA,eAACF,EAAA,EAAD,CAAYE,QAAQ,QAApB,gO,UCTKT,GAAYhK,IAAOK,IAAV,iDACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrB2J,GAAUnK,IAAOK,IAAV,uMAGX,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MACd,SAAA7C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAMxBwR,GAAOhS,YAAOiS,IAAPjS,CAAH,+DAKJkS,GAAYlS,IAAOK,IAAV,gI,+DCHhB8R,GAA4C,SAACzZ,GACjD,OACE,eAAC,IAAD,CAAcoM,GAAIC,YAAU+E,iBAAiBpR,EAAM0Z,SAASzI,GAAG/E,YAA/D,SACE,gBAACoN,GAAD,WACE,eAACrM,EAAA,EAAD,CAAK0M,UAAU,SAAf,SAAyB3Z,EAAM0Z,SAASzI,KAExC,gBAACuI,GAAD,WACE,eAAC,KAAD,IADF,IACkB,4DADlB,IACkC,+BAAMxZ,EAAM0Z,SAASE,aACrD,eAAC,KAAD,IAFF,IAEe,sDAFf,IAE8B,+BAAM5Z,EAAM0Z,SAASG,WACjD,eAAC,KAAD,IAHF,IAGoB,4DAHpB,IAGoC,+BAAM,IAAIC,KAAK9Z,EAAM0Z,SAASK,aAAaC,mBAAmB,kBAP3F,IAiBFC,GAA8C,SAACja,GA4B1D,IA5BqE,IAAD,IACpE,EAQIka,aACF,CAAC,cAAe,YAAwB,IAAD,IAApBC,iBAAoB,MAAR,EAAQ,EACrC,OAAOC,iCAAsB,CAAEC,KAAMF,EAAUjO,WAAaoO,MAZhD,IAYiEpO,eAE/E,CACEqO,iBAAkB,SAACC,EAAUC,GAC3B,IAAIC,EAAQF,EAASG,QAAQ,iBACzBN,EAAOI,EAAMtD,OAAS,EAE1B,KAnBU,GAmBNkD,GAAoBK,GAExB,OAAOL,KAlBXja,EADF,EACEA,KAEAwa,GAHF,EAEEnc,MAFF,EAGEmc,eACAC,EAJF,EAIEA,YACAC,EALF,EAKEA,WACAC,EANF,EAMEA,mBAkBIC,GAxBN,EAOEC,OAiBa,iBAAG7a,QAAH,IAAGA,GAAH,UAAGA,EAAMqa,aAAT,aAAG,EAAaS,KAAI,SAAAC,GAAE,OAAIA,EAAG/a,KAAKA,QAAMgb,KAAK,UAA7C,QAAmD,IAC5DC,EAAQ,GAELC,EAAI,EAAGA,EAAIN,EAAU7D,OAAQmE,IAAK,CACzC,IAAM5B,EAAWsB,EAAUM,GAC3BD,EAAM/E,KAAK,eAAC,GAAD,CAAgCoD,SAAUA,GAAvBA,EAASzI,KAGzC,OACE,eAAC,IAAD,UACE,gBAAC,GAAD,WACE,eAACY,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,6IAEA,gBAAC,GAAD,WACGsJ,EAEc,GAAdP,GAAuC,GAAhBO,EAAMlE,QAAe,eAACtF,EAAA,EAAD,CAAYE,QAAQ,QAAQ/H,MAAM,UAAlC,qGAG7C8Q,GAAcC,IACd,eAAC9N,EAAA,EAAD,CAAK4J,GAAI,EAAT,SACE,eAAClK,GAAA,EAAD,MAIW,GAAdmO,GAA6C,GAAtBC,GACtB,eAAC9N,EAAA,EAAD,CAAK/C,QAAQ,OAAOqR,eAAe,SAAS1E,GAAI,EAAhD,SACE,eAACjK,GAAA,EAAD,CACEmF,QAAQ,YACR/H,MAAM,YACNqK,UAAWwG,GAAeE,EAC1BrO,QAAS,WACPkO,KALJ,wCCtFCtJ,GAAYhK,IAAOK,IAAV,iDACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrBiQ,GAAezQ,YAAOsF,KAAPtF,CAAH,kIAED,SAAArC,GAAC,OAAIA,EAAEC,MAAMV,QAAQpC,UAAUK,QAG7B,SAAAwC,GAAC,OAAI1C,IAASQ,KAAKkC,EAAEC,MAAMV,QAAQpC,UAAUK,MAAMuV,iBAAiB,IAAIhV,YAKrF8U,GAAUxQ,IAAOK,IAAV,uFAET,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAChB,SAAA7C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGxB0T,GAAelU,IAAOzF,EAAV,4EAEb,SAAAoD,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,M,gFCK3BkL,GAASC,OAAaC,MAAM,CAChCuI,OAAQxI,OAAaG,OAAOC,SAAS,+FAAoB6B,IAAI,GAAI,4FAAsBC,IAAI,IAAK,2GAGrFuG,GAA4C,SAAC1b,GAAW,IAAD,MAC5DwV,EAAUC,cAEVxE,EADSiH,cACGjH,GAClB,EAA4CkH,aAC1C,CAAC,CAAEwD,WAAY1K,KACf,SAACoH,GAAD,OAAYuD,2BAAgBvD,EAAEE,SAAS,MACvC,CACEC,QAAS3S,QAAQoL,KAJb7Q,EAAR,EAAQA,KAAsBqY,GAA9B,EAAcC,QAAd,EAAuBja,MAAvB,EAA8Bga,WAOxBtZ,EAAO6B,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKX,YAGpDqd,EAAajD,aAAmDkD,oBAChEC,EAAYnD,aAAkDoD,mBAC9Dtd,EAAU+Z,GAAaoD,EAAWpD,WAAasD,EAAUtD,UACzDiB,EAAQ,OAAGtZ,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYA,KAE7B,EAAmFuT,aAA4B,CAC7GC,SAAUC,aAAYb,IACtB2C,KAAM,WAFA7B,EAAR,EAAQA,SAAuBC,EAA/B,EAAkBC,UAAaD,OAAUE,EAAzC,EAAyCA,aAKzC,GALA,EAAuD2B,UAAvD,EAAkEC,MAAlE,EAAyEE,MAKrCvQ,IAAMjE,UAAS,IAAnD,oBAAO0a,EAAP,KAAmBC,EAAnB,KACA,EAAsC1W,IAAMjE,UAAS,GAArD,oBAAO4a,EAAP,KAAoBC,EAApB,KACA,EAA6C5W,IAAMjE,UAAS,GAA5D,oBAAO8a,EAAP,KAAuBC,EAAvB,KAiBA,OAAmB,GAAfzW,QAAQoL,IAERyI,GAAYA,EAAS6C,OAFQ,eAAC,IAAD,CAAUnQ,GAAIC,YAAUiE,YAMvD,eAAC,IAAD,UACE,gBAAC,GAAD,WACE,eAACuB,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,+GACA,eAAC9E,EAAA,EAAD,UACE,eAACxD,GAAA,EAAD,CAAY+S,MAAM,+DAAaxS,MAAM,UAAU0C,QAAS,kBAAM4P,GAAmB,IAAjF,SACE,eAAC,KAAD,QAGJ,eAACrP,EAAA,EAAD,CAAK4J,GAAI,EAAT,SACE,eAAC5E,EAAA,EAAD,MAGDvT,GACC,eAACuO,EAAA,EAAD,CAAK4J,GAAI,EAAT,SAAY,eAAClK,GAAA,EAAD,MAGF,GAAXjO,GAAoBgb,GACnB,gBAACzM,EAAA,EAAD,CAAK4J,GAAI,EAAT,UACE,eAAChF,EAAA,EAAD,CAAYE,QAAQ,KAApB,gBAA0B2H,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAUZ,OAAOvL,OAC3C,eAACsE,EAAA,EAAD,CAAYE,QAAQ,QAApB,gBAA6B2H,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAUZ,OAAO2D,cAC9C,eAACxP,EAAA,EAAD,CAAK4J,GAAI,IAET,eAAC,IAAD,CAAUoC,GAAE,OAAES,QAAF,IAAEA,OAAF,EAAEA,EAAUZ,OAAOI,aAIvB,GAAXxa,GAAoBgb,GACnB,gBAACzM,EAAA,EAAD,CAAK4J,GAAI,EAAT,UACE,eAAC5E,EAAA,EAAD,IACA,eAACuJ,GAAD,CACEgB,MAAM,2GACNE,KAAM3M,mBAAQ,OAAC2J,QAAD,IAACA,OAAD,EAACA,EAAUiD,UACzBC,UAAQ,EACR/Q,OAAO,QACPpM,KAAK,+CALP,SAOE,eAACmN,GAAA,EAAD,CAAQmF,QAAQ,YAAY/H,MAAM,UAAlC,6EAEF,eAACiI,EAAA,EAAD,IACA,gBAAC,GAAD,WACE,eAAC,GAAD,CACEuK,MAAM,mDACNxS,MAAM,UACN+H,QAAQ,YACRrF,QAAS,kBAAMwP,GAAc,IAJ/B,8DAKA,eAACtP,GAAA,EAAD,CACEmF,QAAQ,YACR/H,MAAM,YACN0C,QAAS,kBAAM0P,GAAe,IAC9BI,MAAM,6CAJR,8DASQ,GAAb/D,GACC,gBAACoE,GAAA,EAAD,CAAQC,QAAS,kBAAMZ,GAAc,IAAQa,kBAAgB,0BAA0BC,KAAMf,EAA7F,UACE,eAAC,KAAD,CAAgBhL,GAAG,0BAAnB,SACE,gBAAChE,EAAA,EAAD,CAAK/C,QAAQ,OAAOqR,eAAe,gBAAgBzE,WAAW,SAA9D,6FACiB,eAACrN,GAAA,EAAD,CAAYiD,QAAS,kBAAMwP,GAAc,IAAzC,SAAiD,eAAC,KAAD,WAGpE,eAAC,KAAD,CAAkBe,UAAQ,EAA1B,SACE,wBAAM9I,SAAUF,GAnFP,SAAC7T,GACpB2b,EAAU5C,YAAY,CAAEsD,YAAarc,EAAKqb,OAAQE,WAAY1K,EAAIiM,UAAS,OAAE/d,QAAF,IAAEA,OAAF,EAAEA,EAAM8R,GAAG/E,aACnFmD,MAAK,SAAC+J,GACL5D,EAAQc,KAAKjK,YAAUiE,iBAgF2BW,GAAG,aAA/C,6nBAGE,eAAChE,EAAA,EAAD,CAAKyH,GAAI,IACT,eAACN,GAAA,EAAD,aACEpK,MAAM,YACNsK,WAAS,EACTrD,GAAG,iBACHsD,MAAM,6CACNxC,QAAQ,SAERsC,SAAU3V,EACVD,MAAOoH,QAAO,UAACkO,EAAO0H,cAAR,aAAC,EAAejH,SAC9BC,WAAU,UAAEV,EAAO0H,cAAT,aAAE,EAAejH,SACvBV,EAAS,WAJT,eAMN,eAAC7G,EAAA,EAAD,CAAKyH,GAAI,SAGb,eAAC,KAAD,UACE,eAAC,GAAD,CACEL,SAAUwH,EAAWpD,UACrBnG,KAAK,aACL7S,KAAK,SACLsS,QAAQ,YACRoL,WAAS,EACTzQ,QAAS,aAAW1C,MAAM,UAN5B,SAOG+R,EAAUtD,UAAY,eAAC9L,GAAA,EAAD,IAAuB,0DAMxC,GAAb8L,GACC,gBAACoE,GAAA,EAAD,CAAQC,QAAS,kBAAMV,GAAe,IAAQW,kBAAgB,0BAA0BC,KAAMb,EAA9F,UACE,eAAC,KAAD,CAAgBlL,GAAG,0BAAnB,SACE,gBAAChE,EAAA,EAAD,CAAK/C,QAAQ,OAAOqR,eAAe,gBAAgBzE,WAAW,SAA9D,yGACmB,eAACrN,GAAA,EAAD,CAAYiD,QAAS,kBAAM0P,GAAe,IAA1C,SAAkD,eAAC,KAAD,WAGvE,eAAC,KAAD,CAAkBa,UAAQ,EAA1B,+PAGA,eAAC,KAAD,UACE,eAACrQ,GAAA,EAAD,CAAQyH,SAAUwH,EAAWpD,UAAW1G,QAAQ,YAAY/H,MAAM,YAAYmT,WAAS,EAACzQ,QAAS,WAvH3GmP,EAAW1C,YAAY,CAAEwC,WAAY1K,EAAIiM,UAAS,OAAE/d,QAAF,IAAEA,OAAF,EAAEA,EAAM8R,GAAG/E,aAC1DmD,MAAK,SAAC+J,GACL5D,EAAQc,KAAKjK,YAAUiE,eAqHjB,SAGGuL,EAAWpD,UAAY,eAAC9L,GAAA,EAAD,IAAuB,oDAMzC,GAAb8L,GACC,gBAACoE,GAAA,EAAD,CAAQC,QAAS,kBAAMR,GAAmB,IAAQS,kBAAgB,0BAA0BC,KAAMX,EAAlG,UACE,eAAC,KAAD,CAAgBpL,GAAG,0BAAnB,SACE,gBAAChE,EAAA,EAAD,CAAK/C,QAAQ,OAAOqR,eAAe,gBAAgBzE,WAAW,SAA9D,0EACa,eAACrN,GAAA,EAAD,CAAYiD,QAAS,kBAAM4P,GAAmB,IAA9C,SAAsD,eAAC,KAAD,WAGrE,eAAC,KAAD,CAAkBW,UAAQ,EAA1B,SACE,y8B,6BCpMDG,GAA8D,SAAClc,GAA2B,IAAlBC,EAAiB,uDAAXC,KACzF,OAAOD,EAAIE,KAAJ,UAAoBH,ICVhBoQ,GAAYhK,IAAOK,IAAV,iDACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MCmB5BkL,GAASC,OAAaC,MAAM,CAChC6F,MAAO9F,OAAaI,SAAS,+FAAoBgC,KAAK,cAAe,gDAAa,SAAC3O,GACjF,OAAO2W,SAAS3W,GAAU,KAE5B6G,KAAM0F,OAAaI,SAAS,+FAC5BoJ,YAAaxJ,OAAaI,SAAS,+FACnC6F,QAASjG,OAAaI,SAAS,+FAC/B2F,WAAY/F,SAGDqK,GAA4C,SAACtd,GAAW,IAAD,gBAC5DwV,EAAUC,cACV8H,EAAY3E,aAAgDwE,IAClE,EAAoEzJ,aAA4B,CAC9FC,SAAUC,aAAYb,IACtB2C,KAAM,WAFA7B,EAAR,EAAQA,SAAuBC,EAA/B,EAAkBC,UAAaD,OAAUE,EAAzC,EAAyCA,aAAc6B,EAAvD,EAAuDA,SAavD,OACE,eAAC,IAAD,UACE,gBAAC,GAAD,WACGyH,EAAU9E,WAAa,eAAC9L,GAAA,EAAD,IAEA,GAAvB4Q,EAAU9E,WACT,wBAAMtE,SAAUF,GAdH,SAAC7T,GAA8B,IAAD,EACjDmd,EAAUpE,YAAY,CAAED,QAAS9Y,EAAK8Y,QAASuD,YAAarc,EAAKqc,YAAa1D,MAAOsE,SAASjd,EAAK2Y,OAAQC,WAAU,UAAE5Y,EAAK4Y,kBAAP,SAA4BzL,KAAMnN,EAAKmN,OACzJ8B,MAAK,SAAA+J,GACJ5D,EAAQc,KAAKjK,YAAU2E,cAAcoI,EAAOhZ,KAAKA,aAW/C,UACE,eAACyR,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,6FACA,eAAC9E,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACN,GAAA,EAAD,yBACEE,WAAS,EACTrD,GAAG,iBACHsD,MAAM,mDACNxC,QAAQ,WAERtS,KAAK,OACLhB,MAAOoH,QAAO,UAACkO,EAAOxG,YAAR,aAAC,EAAaiH,SAC5BC,WAAU,UAAEV,EAAOxG,YAAT,aAAE,EAAaiH,SACrBV,EAAS,SATf,IAUExG,SAAU,SAACkQ,GAAD,OAAO1H,EAAS,OAAQ0H,EAAE3R,OAAOnF,UALvC,aAON,eAACuG,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACN,GAAA,EAAD,yBACEE,WAAS,EACTrD,GAAG,kBACHsD,MAAM,uCACNxC,QAAQ,WAERtS,KAAK,SACLge,WAAY,CAAEC,WAAY,CAAExI,IAAK,IACjCzW,MAAOoH,QAAO,UAACkO,EAAOgF,aAAR,aAAC,EAAcvE,SAC7BC,WAAU,UAAEV,EAAOgF,aAAT,aAAE,EAAcvE,SACtBV,EAAS,UAVf,IAWExG,SAAU,SAACkQ,GAAD,OAAO1H,EAAS,QAAS0H,EAAE3R,OAAOnF,UANxC,cAQN,eAACuG,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACN,GAAA,EAAD,yBACEE,WAAS,EACTrD,GAAG,kBACHsD,MAAM,8FACNxC,QAAQ,WAERtS,KAAK,OACLhB,MAAOoH,QAAO,UAACkO,EAAO0I,mBAAR,aAAC,EAAoBjI,SACnCC,WAAU,UAAEV,EAAO0I,mBAAT,aAAE,EAAoBjI,SAC5BV,EAAS,gBATf,IAUExG,SAAU,SAACkQ,GAAD,OAAO1H,EAAS,cAAe0H,EAAE3R,OAAOnF,UAL9C,oBAON,eAACuG,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACN,GAAA,EAAD,yBACEE,WAAS,EACTqJ,WAAS,EACTC,QAAQ,KACR3M,GAAG,kBACHsD,MAAM,+DACNxC,QAAQ,WAERtS,KAAK,OACLhB,MAAOoH,QAAO,UAACkO,EAAOmF,eAAR,aAAC,EAAgB1E,SAC/BC,WAAU,UAAEV,EAAOmF,eAAT,aAAE,EAAgB1E,SACxBV,EAAS,YAXf,IAYExG,SAAU,SAACkQ,GACTA,EAAEK,iBACF/H,EAAS,UAAW0H,EAAE3R,OAAOnF,UAP3B,gBAUN,eAACuG,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACoJ,GAAA,EAAD,CACEC,QACE,eAAC3Q,GAAA,EAAD,2BACM0G,EAAS,eADf,IAEExG,SAAU,SAACkQ,GAAD,OAA4C1H,EAAS,aAAc0H,EAAE3R,OAAOwB,aAG1FkH,MAAM,qDAER,eAACtH,EAAA,EAAD,CAAKyH,GAAI,IAET,eAAC9H,GAAA,EAAD,CACEyH,SAAUxO,QAAQkO,EAAOmF,SAAWnF,EAAO0I,aAAe1I,EAAOgF,OAAShF,EAAOxG,MACjFwE,QAAQ,YACRtS,KAAK,SACLuK,MAAM,YAJR,iECjICgU,GAAoB1W,IAAOK,IAAV,iDACjB,SAAA3H,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MCK7BmW,GAA4C,SAACje,GACxD,OACE,eAAC,IAAD,UACE,eAACge,GAAD,UACE,iCACE,eAACnM,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,oEACA,eAACF,EAAA,EAAD,CAAYE,QAAQ,QAApB,sCAGA,eAAC,IAAD,MALO,gBCTJmM,GAAwB5W,IAAOK,IAAV,iDACrB,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrBqW,GAAsB7W,IAAOK,IAAV,uMAGvB,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MACd,SAAA7C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAMxBsW,GAAmB9W,YAAOiS,IAAPjS,CAAH,+DAKhB+W,GAAwB/W,IAAOK,IAAV,gI,+DCDrBgJ,GAA4C,SAAC3Q,GACxD,MAA4CmY,aAA0D,CAAC,WAAYmG,eAA3Gle,EAAR,EAAQA,KAAsBqY,GAA9B,EAAcC,QAAd,EAAuBja,MAAvB,EAA8Bga,WAC9B,EAA6CjT,IAAMjE,UAAS,GAA5D,oBAAO8a,EAAP,KAAuBC,EAAvB,KAEI1c,EAAO,OAAGQ,QAAH,IAAGA,OAAH,EAAGA,EAAMA,KAAKA,KAIzB,OAHO,OAAPR,QAAO,IAAPA,KAAS2e,MAAK,SAACC,EAAGnG,GAAJ,OAAUmG,EAAEzF,MAAQV,EAAEU,SAIlC,eAAC,IAAD,UACE,gBAACmF,GAAD,WACE,eAACrM,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,4CAEA,gBAAC9E,EAAA,EAAD,CAAK4J,GAAI,EAAG4H,GAAI,EAAhB,UACE,eAAC,KAAD,CAAYjC,MAAM,+DAAaxS,MAAM,UAAU0C,QAAS,kBAAM4P,GAAmB,IAAjF,SACE,eAAC,KAAD,MAEF,eAACrK,EAAA,EAAD,OAGDwG,GAAa,eAAC9L,GAAA,EAAD,IACd,gBAACwR,GAAD,kBACGve,QADH,IACGA,OADH,EACGA,EAASsb,KAAI,SAACpC,GAAD,OACZ,eAAC,IAAD,CAAsB1M,GAAIC,YAAU2E,cAAc8H,EAAO7H,GAAG/E,YAA5D,SACE,gBAACkS,GAAD,WACE,eAACnR,EAAA,EAAD,CAAK0M,UAAU,SAAf,SAAyBb,EAAOvL,OAEhC,gBAAC8Q,GAAD,WACE,eAAC,KAAD,IADF,IACkB,kEADlB,IACmC,+BAAMvF,EAAOC,QAC9C,eAAC,KAAD,IAFF,IAE6B,sDAF7B,IAE4C,+BAAMD,EAAOE,WAAa,qDAAe,gDAN9EF,EAAO7H,OAYN,GAAbwH,GACC,eAAC,IAAD,CAAmBrM,GAAG,wBAAtB,SACE,eAACgS,GAAD,UACE,eAACnR,EAAA,EAAD,CAAK/C,QAAQ,OAAO4M,WAAW,SAASyE,eAAe,SAAStW,EAAG,EAAnE,SACE,eAAC,KAAD,SAHI,aAUA,GAAbwT,GACC,gBAACoE,GAAA,EAAD,CAAQC,QAAS,kBAAMR,GAAmB,IAAQS,kBAAgB,0BAA0BC,KAAMX,EAAlG,UACE,eAAC,KAAD,CAAgBpL,GAAG,0BAAnB,SACE,gBAAChE,EAAA,EAAD,CAAK/C,QAAQ,OAAOqR,eAAe,gBAAgBzE,WAAW,SAA9D,0EACa,eAAC,KAAD,CAAYpK,QAAS,kBAAM4P,GAAmB,IAA9C,SAAsD,eAAC,KAAD,WAGrE,eAAC,KAAD,CAAkBW,UAAQ,EAA1B,SACE,8ZCvED3L,GAAYhK,IAAOK,IAAV,iDACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrB4W,GAAiBpX,IAAOK,IAAV,sMAGlB,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MACd,SAAA7C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAMxB6W,GAAcrX,YAAOiS,IAAPjS,CAAH,yLAOF,SAAArC,GAAC,OAAIA,EAAEC,MAAMV,QAAQG,OAAOV,UAErC,SAAAgB,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrB8W,GAAsBtX,YAAOqX,GAAPrX,CAAH,wDACV,SAAArC,GAAC,OAAIA,EAAEC,MAAMV,QAAQ1F,OAAOuV,YCR5CwK,GAAwC,SAAC7e,GAC7C,OAAIA,EAAMqU,SAEN,gBAACuK,GAAD,WACE,eAAC3R,EAAA,EAAD,CAAK0M,UAAU,SAAf,SAAyB3Z,EAAM8Y,OAAOvL,OAEtC,gBAACN,EAAA,EAAD,CAAK/C,QAAQ,OAAO2M,GAAI,EAAG0E,eAAe,gBAA1C,UACE,+BAAMvb,EAAM8Y,OAAOC,QACnB,+BAAM/Y,EAAM8Y,OAAOE,WAAa,mDAAa,+CAOnD,eAAC,IAAD,CAAM5M,GAAIC,YAAU8E,cAAcnR,EAAM8Y,OAAO7H,GAAG/E,YAAlD,SACE,gBAACyS,GAAD,WACE,eAAC1R,EAAA,EAAD,CAAK0M,UAAU,SAAf,SAAyB3Z,EAAM8Y,OAAOvL,OAEtC,gBAACN,EAAA,EAAD,CAAK/C,QAAQ,OAAO2M,GAAI,EAAG0E,eAAe,gBAA1C,UACE,+BAAMvb,EAAM8Y,OAAOC,QACnB,+BAAM/Y,EAAM8Y,OAAOE,WAAa,mDAAa,kDAQ1C8F,GAA0C,SAAC9e,GACtD,IAAM0B,EAAWC,eACjB,EAA4CwW,aAA0D,CAAC,WAAYmG,eAA3Gle,EAAR,EAAQA,KAAsBqY,GAA9B,EAAcC,QAAd,EAAuBja,MAAvB,EAA8Bga,WACxBtZ,EAAO6B,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKX,YAE1D,EAA6CgH,IAAMjE,UAAS,GAA5D,oBAAO8a,EAAP,KAAuBC,EAAvB,KAEI1c,EAAO,OAAGQ,QAAH,IAAGA,OAAH,EAAGA,EAAMA,KAAKA,KAUzB,OATO,OAAPR,QAAO,IAAPA,KAAS2e,MAAK,SAACC,EAAGnG,GAAJ,OAAUmG,EAAEzF,MAAQV,EAAEU,SAEpCnX,qBAAU,WACS,GAAb6W,GAAsB7Y,GACxB8B,EAASqd,qBAAWnf,MAErB,CAAC6Y,IAIF,eAAC,IAAD,UACE,gBAAC,GAAD,WACE,eAAC5G,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,4CACA,gBAAC9E,EAAA,EAAD,CAAK4J,GAAI,EAAG4H,GAAI,EAAhB,UACE,eAAChV,GAAA,EAAD,CAAY+S,MAAM,+DAAaxS,MAAM,UAAU0C,QAAS,kBAAM4P,GAAmB,IAAjF,SACE,eAAC,KAAD,MAEF,eAACrK,EAAA,EAAD,OAGF,gBAACyM,GAAD,WACGjG,GAAa,eAAC9L,GAAA,EAAD,IAEA,GAAb8L,IAAA,OAAsB7Y,QAAtB,IAAsBA,OAAtB,EAAsBA,EAASsb,KAAI,SAACpC,EAAQkG,GAC3C,IAAI/D,GAAS,EAEPgE,EAAU,OAAGrf,QAAH,IAAGA,OAAH,EAAGA,EAAUof,EAAM,GAKnC,OAJA/D,GAAUpV,QAAO,OAAC1G,QAAD,IAACA,OAAD,EAACA,EAAM+f,eAAeC,MAAK,SAAAla,GAAC,OAAIA,EAAEmT,WAAF,OAAc6G,QAAd,IAAcA,OAAd,EAAcA,EAAYhO,QAEhE,GAAP+N,IAAU/D,GAAS,GAGrB,eAAC,GAAD,CAA4BnC,OAAQA,EAAQzE,SAAU4G,GAArCnC,EAAO7H,WAKhB,GAAbwH,GACC,gBAACoE,GAAA,EAAD,CAAQC,QAAS,kBAAMR,GAAmB,IAAQS,kBAAgB,0BAA0BC,KAAMX,EAAlG,UACE,eAAC,KAAD,CAAgBpL,GAAG,0BAAnB,SACE,gBAAChE,EAAA,EAAD,CAAK/C,QAAQ,OAAOqR,eAAe,gBAAgBzE,WAAW,SAA9D,0EACa,eAACrN,GAAA,EAAD,CAAYiD,QAAS,kBAAM4P,GAAmB,IAA9C,SAAsD,eAAC,KAAD,WAGrE,eAAC,KAAD,CAAkBW,UAAQ,EAA1B,SACE,0ZCrGDmC,GAAmB9X,IAAOK,IAAV,iDAChB,SAAA3H,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MAG7BuX,GAAY/X,IAAOK,IAAV,gDAIT2X,GAAgBhY,IAAOK,IAAV,+GACV,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAOxB8B,GAAYC,cAAW,SAAAC,GAGlC,MAAO,CACLyV,eAAgB,CACdC,WAAY,OACZ9M,MAAO,OACP+M,OAAQ,Y,qBCLRzM,GAASC,OAAaC,MAAM,CAChChI,KAAM+H,OAAaI,SAAS,+FAAoB6B,IAAI,EAAG,wGAAwBC,IAAI,GAAI,iHAG5EuK,GAA0C,SAAC1f,GAAW,IAAD,QAC1DgL,EAASpB,KAETlI,EAAWC,eACXxC,EAAO6B,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKX,YACpDE,EAAUsC,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKT,WACvDihB,EAAY3e,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKV,SAE/D,EAA0DkV,aAAuB,CAC/EC,SAAUC,aAAYb,IACtB2C,KAAM,aAFA7B,EAAR,EAAQA,SAAuBC,EAA/B,EAAkBC,UAAaD,OAAU8B,EAAzC,EAAyCA,MAAOE,EAAhD,EAAgDA,MAI1C6J,EAAU/J,EAAM,QAChBgK,EAAWhK,EAAM,SACjBI,GAAoB,OAAR4J,QAAQ,IAARA,OAAA,EAAAA,EAAW,IAAK3J,IAAIC,gBAAJ,OAAoB0J,QAApB,IAAoBA,OAApB,EAAoBA,EAAW,IAAMxU,mBAAQ,OAAClM,QAAD,IAACA,OAAD,EAACA,EAAMiM,OAChFgL,EAAWvQ,QAAO,OAACga,QAAD,IAACA,OAAD,EAACA,EAAW,IAC9BC,EAAiBF,GAAYA,IAAO,OAAIzgB,QAAJ,IAAIA,OAAJ,EAAIA,EAAM+L,OAA2C,GAAjCrF,QAAO,UAACkO,EAAO7I,YAAR,aAAC,EAAasJ,SAYnF,OACE,eAAC,IAAD,UACE,gBAAC4K,GAAD,WACE,eAACvN,EAAA,EAAD,CAAYC,UAAU,MAAsBC,QAAQ,KAApD,uDAAgC,aAE/BrT,GAAW,eAACiO,GAAA,EAAD,GAAsB,WAElC,eAACkF,EAAA,EAAD,CAA4B7H,MAAM,QAAlC,SAA2C2V,GAA3B,aAChB,eAAC1S,EAAA,EAAD,CAAKyH,GAAI,GAAO,QAEhB,eAAC7C,EAAA,EAAD,gCAAgB,aAChB,eAAC5E,EAAA,EAAD,CAAKyH,GAAI,GAAO,QAChB,gBAAC2K,GAAD,WAEE,eAACjL,GAAA,EAAD,aACEE,WAAS,EACTrD,GAAG,iBACHsD,MAAM,qBACNxC,QAAQ,WAERgO,aAAY,OAAE5gB,QAAF,IAAEA,OAAF,EAAEA,EAAM+L,KACpBzL,KAAK,OACL4U,SAAU3V,EACVD,MAAOoH,QAAO,UAACkO,EAAO7I,YAAR,aAAC,EAAasJ,SAC5BC,WAAU,UAAEV,EAAO7I,YAAT,aAAE,EAAasJ,SACrBV,EAAS,SANT,aASLgM,KAAkB,UAAC/L,EAAO7I,YAAR,aAAC,EAAasJ,UAC/B,eAAC/K,GAAA,EAAD,CAAY4K,SAAU3V,EAAS6N,QAAS,CAAEC,KAAMxB,EAAOuU,gBAAkBvV,MAAM,UAAU0C,QAlChF,WACjBhL,EAASse,qBAAWJ,KAiCZ,SACE,eAAC,KAAD,QAlBS,QAqBf,eAAC3S,EAAA,EAAD,CAAgByH,GAAI,GAAX,QAET,eAAC7C,EAAA,EAAD,mDACA,eAAC5E,EAAA,EAAD,CAAKyH,GAAI,GAAO,QAChB,iCACE,oCACE6B,OAAO,yBAEPzE,UAAU,kBACVb,GAAG,YACHxR,KAAK,OACL4U,SAAU3V,GACNoV,EAAS,UALT,cAON,wBAAO0C,QAAQ,YAAf,SACE,eAAC5J,GAAA,EAAD,CACEyH,SAAU3V,EACVqT,QAAQ,YACR/H,MAAM,UACNyM,KAAK,SACLC,UAAW,eAACC,GAAA,EAAD,IACXC,UAAU,OANZ,SAQGR,EAAW,4EAAkB,0EAGlC,gBAACkJ,GAAD,WACE,wBAAO9I,QAAQ,YAAf,SACE,eAAC5B,GAAD,CAAY7H,IAAKkJ,MAElBG,GACC,eAAC3M,GAAA,EAAD,CAAY4K,SAAU3V,EAAS+N,aAAW,eAAiCC,QAAS,WAClFqJ,EAAM,CAAE3K,WAAO7M,KADjB,SAGE,eAAC,KAAD,KAH2D,eAM9D6X,GACC,eAAC3M,GAAA,EAAD,CAAY4K,SAAU3V,EAAS+N,aAAW,cAA+BzC,MAAM,YAAY0C,QAhFlF,WACnBhL,EAASue,uBAAaJ,EAAS,MA+ErB,SACE,eAAC,KAAD,KAD0D,mBAlCzD,gB,UCzFJvO,GAAYhK,IAAOK,IAAV,iDACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrBgQ,GAAUxQ,IAAOK,IAAV,yFAET,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,M,qBCiBnB0I,GAAwC,SAACxQ,GAAW,IAAD,EACxD0B,EAAWC,eACXue,EAAShI,cACT1C,EAAUC,cACVxE,EAAKiP,EAAOjP,GAEZkP,EAAenf,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKT,WAC5D0hB,EAAapf,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKV,SAEhE,EAA6C+G,IAAMjE,UAAS,GAA5D,oBAAO8a,EAAP,KAAuBC,EAAvB,KAEA,EAAkC/a,mBAAS,IAA3C,oBAAO8e,EAAP,KAAkBC,EAAlB,KAEA,EAAgC/e,mBAAsB,MAAtD,oBAAOgf,EAAP,KAAiBC,EAAjB,KACMC,EAAU9V,iBAAyB,MAEnC/K,EAAUoB,cAAY,SAACnC,GAAD,OAAsBA,EAAMuB,KAAKR,WACvDT,EAAO6B,cAAY,SAACnC,GAAD,OAAsBA,EAAMM,KAAKX,YACpDkiB,EAAgB1f,cAAY,SAACnC,GAAD,uBAAsBA,EAAMM,KAAKX,gBAAjC,aAAsB,EAAqBmiB,kBACvEC,EAAY,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAenC,MAAK,SAACC,EAAGnG,GAAJ,OAAUyB,KAAK+G,MAAMxI,EAAE0B,aAAeD,KAAK+G,MAAMrC,EAAEzE,gBAAc,GAGtG+G,GAAe,EACfF,GAAwC,GAAvBA,EAAarE,SAAkBuE,GAAe,GACnE,IAAIC,GAAU,EAEd,EAA4C5I,aAC1C,CAAC,CAAEC,SAAUnH,KACb,SAACoH,GAAD,OAAYC,qBAAUD,EAAEE,SAAS,MACjC,CACEC,QAAS3S,QAAQoL,KAJb7Q,EAAR,EAAQA,KAAsBqY,GAA9B,EAAcC,QAAd,EAAuBja,MAAvB,EAA8Bga,WAOxB/Z,EAAU+Z,GAAa0H,EAGvBrH,EAAM,OAAG1Y,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYA,KAE3B,GADO,OAAPR,QAAO,IAAPA,KAAS2e,MAAK,SAACC,EAAGnG,GAAJ,OAAUmG,EAAEzF,MAAQV,EAAEU,SAChCD,EAAQ,CACV,IAAImC,GAAS,EACPgE,EAAU,OAAGrf,QAAH,IAAGA,OAAH,EAAGA,EAAUkZ,EAAOC,MAAQ,GAM5C,GALAkC,GAAUpV,QAAO,OAAC1G,QAAD,IAACA,OAAD,EAACA,EAAM+f,eAAeC,MAAK,SAAAla,GAAC,OAAIA,EAAEmT,WAAF,OAAc6G,QAAd,IAAcA,OAAd,EAAcA,EAAYhO,QAC3E8P,EAAUlb,QAAO,OAAC1G,QAAD,IAACA,OAAD,EAACA,EAAM+f,eAAeC,MAAK,SAAAla,GAAC,OAAIA,EAAEmT,UAAYU,EAAO7H,OAElD,GAAhB6H,EAAOC,QAAYkC,GAAS,GAE5BA,EAAQ,OAAO,eAAC,IAAD,CAAU7O,GAAIC,YAAUsB,UAI7C,GAAmB,GAAf9H,QAAQoL,GACV,OAAO,eAAC,IAAD,CAAU7E,GAAIC,YAAUsB,UAgBjC,OACE,eAAC,IAAD,UACE,gBAAC,GAAD,WACE,eAACkE,EAAA,EAAD,CAAYC,UAAU,MAAM9H,MAAM,QAAlC,SAA2CoW,IAE1C1hB,GAAW,eAACiO,GAAA,EAAD,IAEA,GAAXjO,GACC,uCACE,eAACmT,EAAA,EAAD,CAAYE,QAAQ,KAApB,gBAA0B+G,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAQvL,OAClC,eAACsE,EAAA,EAAD,CAAYE,QAAQ,QAApB,gBAA6B+G,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAQ2D,cAErC,gBAACxP,EAAA,EAAD,CAAK4J,GAAI,EAAG4H,GAAI,EAAhB,UACE,eAACxM,EAAA,EAAD,IACA,eAACxI,GAAA,EAAD,CAAY+S,MAAM,+DAAaxS,MAAM,UAAU0C,QAAS,kBAAM4P,GAAmB,IAAjF,SACE,eAAC,KAAD,MAEF,eAACrK,EAAA,EAAD,OAGF,eAAC,IAAD,CAAUgH,GAAE,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAQI,UAEtB,eAACjM,EAAA,EAAD,CAAK4J,GAAI,EAAGnC,GAAI,EAAhB,SACE,eAACzC,EAAA,EAAD,SAKM,GAAXvT,GAA+B,GAAXqiB,GAAmD,GAA/Blb,QAAO,OAACiT,QAAD,IAACA,OAAD,EAACA,EAAQE,aACvD,eAAC/L,EAAA,EAAD,CAAK4J,GAAI,EAAT,SACE,eAACmK,GAAA,EAAD,CAASxE,MAAM,kFAAf,SACE,eAAC5P,GAAA,EAAD,CAAQ8J,UAAW,eAAC,KAAD,IAAc3E,QAAQ,WAAW/H,MAAM,UAAU0C,QA5CtD,WACxBhL,EAAcuf,sBAAY,CAAEC,OAAM,OAAE/hB,QAAF,IAAEA,OAAF,EAAEA,EAAM8R,GAAG/E,WAAakM,SAAQ,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAQ7H,GAAG/E,cAC5EmD,MAAK,SAAC+J,GACL5D,EAAQc,KAAKjK,YAAUsB,aAyCjB,wEAKM,GAAXjP,GAA+B,GAAXqiB,GAAoBH,IAAxC,OAAwD9H,QAAxD,IAAwDA,OAAxD,EAAwDA,EAAQE,aAC/D,iCACE,iIACqB,IAAIc,KAAK8G,EAAa7G,aAAaC,mBAAmB,YAG1E8G,GACC,eAACjP,EAAA,EAAD,CAAY7H,MAAM,UAAlB,6HAGe,GAAhB8W,GACC,gBAACjP,EAAA,EAAD,CAAY7H,MAAM,UAAlB,8FAA6C4W,EAAaO,gBAG5D,eAAClU,EAAA,EAAD,CAAK4J,GAAI,EAAGnC,GAAI,EAAhB,SACE,eAACzC,EAAA,EAAD,SAKM,GAAXvT,GAA+B,GAAXqiB,GAAoBlb,QAAO,OAACiT,QAAD,IAACA,OAAD,EAACA,EAAQE,aAA+B,GAAhB8H,GACtE,wBAAM3M,SAAU,SAACqJ,GACfA,EAAEK,iBAhEc,WACxB,GAAyB,GAArBhY,QAAQ0a,GAAoB,OAAOD,EAAa,sLACpD5e,EAAS0f,+BAAqB,CAAEC,SAAUd,EAAWnI,SAAQ,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAQ7H,GAAG/E,WAAagV,OAAM,OAAE/hB,QAAF,IAAEA,OAAF,EAAEA,EAAM8R,GAAG/E,cAgEhGoV,IAHF,UAKE,eAACzP,EAAA,EAAD,CAAY7H,MAAM,QAAlB,SAA2BqW,IAC3B,wBACE9J,OAAO,sBAEPzE,UAAU,kBACVb,GAAG,WACHxR,KAAK,OACL8hB,IAAKd,EACLnT,SAAU,SAACkQ,GAA4C,IAAD,IAC9CgE,EAAI,UAAGhE,EAAE3R,cAAL,iBAAG,EAAU4V,aAAb,aAAG,EAAkB,GAEV,GAAjB5b,QAAQ2b,IAEZhB,EAAYgB,KAVV,aAcN,eAACvU,EAAA,EAAD,CAAK4J,GAAI,EAAT,SACE,gBAAC,GAAD,WACE,wBAAOL,QAAQ,WAAf,SACE,eAAC5J,GAAA,EAAD,CACEyH,SAAU3V,EACVqT,QAAQ,YACR/H,MAAM,YACNyM,KAAK,SACLC,UAAW,eAACC,GAAA,EAAD,IACXC,UAAU,OANZ,SAQG2J,EAAW,mDAAa,iDAI5BA,GACC,+BAAMA,EAAShT,OAGhBgT,GACC,eAAC9W,GAAA,EAAD,CAAY4K,SAAU3V,EAAS+N,aAAW,eAAiCC,QAAS,WAC9E+T,EAAQ3V,UACV2V,EAAQ3V,QAAQrL,KAAO,OACvBghB,EAAQ3V,QAAQrL,KAAO,OACvB+gB,EAAY,QAJhB,SAOE,eAAC,KAAD,KAP2D,oBAanE,eAACvT,EAAA,EAAD,CAAK4J,GAAI,IACT,eAACjK,GAAA,EAAD,CAAQmF,QAAQ,WAAW/H,MAAM,UAAUvK,KAAK,SAAhD,uEAIU,GAAbgZ,GACC,gBAACoE,GAAA,EAAD,CAAQC,QAAS,kBAAMR,GAAmB,IAAQS,kBAAgB,0BAA0BC,KAAMX,EAAlG,UACE,eAAC,KAAD,CAAgBpL,GAAG,0BAAnB,SACE,gBAAChE,EAAA,EAAD,CAAK/C,QAAQ,OAAOqR,eAAe,gBAAgBzE,WAAW,SAA9D,0EACa,eAACrN,GAAA,EAAD,CAAYiD,QAAS,kBAAM4P,GAAmB,IAA9C,SAAsD,eAAC,KAAD,WAGrE,gBAAC,KAAD,CAAkBW,UAAQ,EAA1B,WACS,OAANnE,QAAM,IAANA,OAAA,EAAAA,EAAQE,aACP,4gBACE,wBADF,6ZAKqB,IAAhB,OAANF,QAAM,IAANA,OAAA,EAAAA,EAAQE,aACP,4cC9NH1H,GAAYhK,IAAOK,IAAV,iDACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrB4Z,GAAkBpa,IAAOzF,EAAV,oFACjB,SAAAoD,GAAC,OAAIA,EAAEC,MAAMV,QAAQnB,WAAWhB,QAG9B,SAAA4C,GAAC,OAAIA,EAAEC,MAAMV,QAAQnB,WAAWhB,QCsBvC2Q,GAASC,OAAaC,MAAM,CAChC6F,MAAO9F,OAAaI,SAAS,+FAAoBgC,KAAK,cAAe,gDAAa,SAAC3O,GACjF,OAAO2W,SAAS3W,GAAU,KAE5B6G,KAAM0F,OAAaI,SAAS,+FAC5BoJ,YAAaxJ,OAAaI,SAAS,+FACnC6F,QAASjG,OAAaI,SAAS,iGAGpBsO,GAAwC,SAAC3hB,GAAW,IAAD,kBACxDwV,EAAUC,cAEVxE,EADSiH,cACGjH,GAElB,EAA6C1P,oBAAS,GAAtD,oBAAO8a,EAAP,KAAuBC,EAAvB,KAEA,EAA4CnE,aAC1C,CAAC,CAAEC,SAAUnH,KACb,SAACoH,GAAD,OAAYC,qBAAUD,EAAEE,SAAS,MACjC,CACEC,QAAS3S,QAAQoL,KAJb7Q,EAAR,EAAQA,KAAsBqY,GAA9B,EAAcC,QAAd,EAAuBja,MAAvB,EAA8Bga,WAOxBmJ,EAAUhJ,aAA8CiJ,eACxD/I,EAAM,OAAG1Y,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYA,KAC3B,EAAoEuT,aAA0B,CAC5FC,SAAUC,aAAYb,IACtB2C,KAAM,WAFA7B,EAAR,EAAQA,SAAuBC,EAA/B,EAAkBC,UAAaD,OAAUE,EAAzC,EAAyCA,aAAc6B,EAAvD,EAAuDA,SAKvDlU,qBAAU,WACS,GAAb6W,IACF3C,EAAS,UAAD,OAAYgD,QAAZ,IAAYA,OAAZ,EAAYA,EAAQI,SAC5BpD,EAAS,cAAD,OAAgBgD,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAQ2D,aAChC3G,EAAS,OAAD,OAASgD,QAAT,IAASA,OAAT,EAASA,EAAQvL,MACzBuI,EAAS,QAAD,OAAUgD,QAAV,IAAUA,OAAV,EAAUA,EAAQC,MAAM7M,eAEjC,CAACuM,IAOJ,OACE,eAAC,IAAD,UACE,gBAAC,GAAD,YACIA,GAAamJ,EAAQnJ,YAAc,eAAC9L,GAAA,EAAD,IAEvB,GAAb8L,GAA2C,GAArBmJ,EAAQnJ,WAC7B,wBAAMtE,SAAUF,GAXL,SAAC7T,GAClBwhB,EAAQzI,YAAY,CAAED,QAAS9Y,EAAK8Y,QAASuD,YAAarc,EAAKqc,YAAa1D,MAAO3Y,EAAK2Y,MAAOxL,KAAMnN,EAAKmN,KAAM6K,SAAQ,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAQ7H,GAAG/E,aAClImD,MAAK,SAAC+J,GAAD,OAAY5D,EAAQc,KAAKjK,YAAU2E,cAAV,OAAwB8H,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAQ7H,GAAG/E,mBAS9D,UACE,eAAC2F,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,gBAA0C+G,QAA1C,IAA0CA,OAA1C,EAA0CA,EAAQvL,OAClD,eAACN,EAAA,EAAD,UACE,eAACxD,GAAA,EAAD,CAAY+S,MAAM,+DAAaxS,MAAM,UAAU0C,QAAS,kBAAM4P,GAAmB,IAAjF,SACE,eAAC,KAAD,QAGJ,eAACrP,EAAA,EAAD,CAAK4J,GAAI,EAAG4H,GAAI,EAAhB,SACE,eAACxM,EAAA,EAAD,MAGF,eAACmC,GAAA,EAAD,yBACEE,WAAS,EACTrD,GAAG,iBACHsD,MAAM,mDACNxC,QAAQ,WAERgO,aAAY,OAAEjH,QAAF,IAAEA,OAAF,EAAEA,EAAQvL,KACtB9N,KAAK,OACLhB,MAAOoH,QAAO,UAACkO,EAAOxG,YAAR,aAAC,EAAaiH,SAC5BC,WAAU,UAAEV,EAAOxG,YAAT,aAAE,EAAaiH,SACrBV,EAAS,SAVf,IAWExG,SAAU,SAACkQ,GAAD,OAAO1H,EAAS,OAAQ0H,EAAE3R,OAAOnF,UANvC,aAQN,eAACuG,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACN,GAAA,EAAD,yBACEE,WAAS,EACTrD,GAAG,kBACHsD,MAAM,uCACNxC,QAAQ,WAERtS,KAAK,SACLge,WAAY,CAAEC,WAAY,CAAExI,IAAK,IACjC6K,aAAY,OAAEjH,QAAF,IAAEA,OAAF,EAAEA,EAAQC,MACtBta,MAAOoH,QAAO,UAACkO,EAAOgF,aAAR,aAAC,EAAcvE,SAC7BC,WAAU,UAAEV,EAAOgF,aAAT,aAAE,EAAcvE,SACtBV,EAAS,UAXf,IAYExG,SAAU,SAACkQ,GAAD,OAAO1H,EAAS,QAAS0H,EAAE3R,OAAOnF,UAPxC,cASN,eAACuG,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACN,GAAA,EAAD,yBACEE,WAAS,EACTrD,GAAG,kBACHsD,MAAM,8FACNxC,QAAQ,WAERtS,KAAK,OACLsgB,aAAY,OAAEjH,QAAF,IAAEA,OAAF,EAAEA,EAAQ2D,YACtBhe,MAAOoH,QAAO,UAACkO,EAAO0I,mBAAR,aAAC,EAAoBjI,SACnCC,WAAU,UAAEV,EAAO0I,mBAAT,aAAE,EAAoBjI,SAC5BV,EAAS,gBAVf,IAWExG,SAAU,SAACkQ,GAAD,OAAO1H,EAAS,cAAe0H,EAAE3R,OAAOnF,UAN9C,oBAQN,eAACuG,EAAA,EAAD,CAAKyH,GAAI,IAET,eAACN,GAAA,EAAD,yBACEE,WAAS,EACTqJ,WAAS,EACT1M,GAAG,kBACHsD,MAAM,+DACNxC,QAAQ,WAERtS,KAAK,OACLsgB,aAAY,OAAEjH,QAAF,IAAEA,OAAF,EAAEA,EAAQI,QACtBza,MAAOoH,QAAO,UAACkO,EAAOmF,eAAR,aAAC,EAAgB1E,SAC/BC,WAAU,UAAEV,EAAOmF,eAAT,aAAE,EAAgB1E,SACxBV,EAAS,YAXf,IAYExG,SAAU,SAACkQ,GAAD,OAAO1H,EAAS,UAAW0H,EAAE3R,OAAOnF,UAN1C,gBAQN,eAACuG,EAAA,EAAD,CAAKyH,GAAI,IAET,eAAC9H,GAAA,EAAD,CACEyH,SAAUxO,QAAQkO,EAAOmF,SAAWnF,EAAO0I,aAAe1I,EAAOgF,OAAShF,EAAOxG,MACjFwE,QAAQ,YACRtS,KAAK,SACLuK,MAAM,YAJR,+FAWU,GAAbyO,GACC,gBAACoE,GAAA,EAAD,CAAQC,QAAS,kBAAMR,GAAmB,IAAQS,kBAAgB,0BAA0BC,KAAMX,EAAlG,UACE,eAAC,KAAD,CAAgBpL,GAAG,0BAAnB,SACE,gBAAChE,EAAA,EAAD,CAAK/C,QAAQ,OAAOqR,eAAe,gBAAgBzE,WAAW,SAA9D,0EACa,eAACrN,GAAA,EAAD,CAAYiD,QAAS,kBAAM4P,GAAmB,IAA9C,SAAsD,eAAC,KAAD,WAGrE,gBAAC,KAAD,CAAkBW,UAAQ,EAA1B,UACE,mVACA,8RAAkD,eAACyE,GAAD,CAChDhF,KAAK,oDACL7Q,OAAO,SAFyC,2DC5KnDyF,GAAYhK,IAAOK,IAAV,iDACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrBga,GAASxa,IAAOgL,KAAV,4GAONb,GAAUnK,IAAOK,IAAV,uMAGX,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MACd,SAAA7C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAMxBwR,GAAOhS,YAAOiS,IAAPjS,CAAH,+DAKJkS,GAAYlS,IAAOK,IAAV,gIAQToa,GAAcza,IAAOK,IAAV,gH,oFCZlBqa,GAAoC,SAAChiB,GACzC,IAAIiiB,EAAWjiB,EAAMb,KAAK4X,MAAM,GAC5BmL,EAAiB,uCAIrB,OAHgB,GAAZD,IAAeC,EAAiB,8CACpB,GAAZD,IAAeC,EAAiB,kCAGlC,eAAC,IAAD,CAAc9V,GAAIC,YAAUgF,aAAarR,EAAMb,KAAK8R,GAAG/E,YAAvD,SACE,gBAAC,GAAD,WACE,eAACe,EAAA,EAAD,CAAK0M,UAAU,SAAf,SAAyB3Z,EAAMb,KAAK+L,OAEpC,gBAAC,GAAD,WACE,eAAC,KAAD,IADF,IACwB,sCADxB,IACsC,+BAAMlL,EAAMb,KAAK8R,KACrD,eAAC,KAAD,IAFF,IAEe,kEAFf,IAEgC,+BAAMjR,EAAMb,KAAKgU,OAC/C,eAAC,KAAD,IAHF,IAGe,4DAHf,IAG+B,+BAAM+O,WAP9B,IAiBFzR,GAAwC,SAACzQ,GAmCpD,IAnC+D,IAAD,IAC9D,EAAsCuB,mBAAS,IAA/C,oBAAO4gB,EAAP,KAAoBC,EAApB,KACMC,EAAY1X,iBAAyB,MAE3C,EASIuP,aACF,CAAC,cAAe,YAAwB,IAAD,UAApBC,iBAAoB,MAAR,EAAQ,EACrC,OAAOmI,uBAAY,CAAEjI,KAAMF,EAAUjO,WAAYqW,OAAM,oBAAEF,EAAUvX,eAAZ,iBAAE,EAAmBpE,aAArB,aAAE,EAA0B0M,cAA5B,QAAsC,GAAIkH,MAhBrF,GAgBsGpO,eAEpH,CACEqO,iBAAkB,SAACC,EAAUC,GAC3B,IAAIC,EAAQF,EAASG,QAAQ,iBACzBN,EAAOI,EAAMtD,OAAS,EAE1B,KAvBU,EAuBNkD,EAAmBK,GAEvB,OAAOL,KAnBXja,EADF,EACEA,KAEAwa,GAHF,EAEEnc,MAFF,EAGEmc,eACAC,EAJF,EAIEA,YACAC,EALF,EAKEA,WACAC,EANF,EAMEA,mBAEAyH,GARF,EAOEvH,OAPF,EAQEuH,SAgBI9jB,EAAUoc,GAAcC,EAE9B,EAA6CvV,IAAMjE,UAAS,GAA5D,oBAAO8a,EAAP,KAAuBC,EAAvB,KAEMmG,EAAK,iBAAGriB,QAAH,IAAGA,GAAH,UAAGA,EAAMqa,aAAT,aAAG,EAAaS,KAAI,SAAAC,GAAE,OAAIA,EAAG/a,KAAKA,QAAMgb,KAAK,UAA7C,QAAmD,GACxDC,EAAQ,GAELC,EAAI,EAAGA,EAAImH,EAAMtL,OAAQmE,IAAK,CACrC,IAAMoH,EAAcD,EAAMnH,GAC1BD,EAAM/E,KAAK,eAAC,GAAD,CAA+BnX,KAAMujB,GAAtBA,EAAYzR,KAexC,OACE,eAAC,IAAD,UACE,gBAAC,GAAD,WACE,eAACY,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,sFAEA,gBAAC+P,GAAD,CAAQ3N,SAAU,SAACqJ,GACjBA,EAAEK,iBAlBW,WAAO,IAAD,MACzB,IAAInf,EAAJ,CAEA,IAAM6jB,EAAM,oBAAGF,EAAUvX,eAAb,iBAAG,EAAmBpE,aAAtB,aAAG,EAA0B0M,cAA7B,QAAuC,GAEnD,GAAuB,GAAnBvN,QAAQ0c,GAAkB,OAAOH,EAAe,iEACpD,GAAIG,EAAOpL,OAAS,GAAI,OAAOiL,EAAe,kGAE9CA,EAAe,IACfI,KAWMG,IAHF,UAKE,eAACvO,GAAA,EAAD,CACEwO,SAAUP,EACV/N,WAAS,EACTrD,GAAG,iBACHsD,MAAM,sHACNxC,QAAQ,WAERtT,MAAOoH,QAAQsc,GACf1N,WAAY0N,EACZ9N,SAAU3V,GAHN,eAMN,eAAC+K,GAAA,EAAD,CAAYhK,KAAK,SAAjB,SACE,eAAC,KAAD,SAIJ,gBAACsiB,GAAD,WACE,eAACtY,GAAA,EAAD,CAAYO,MAAM,UAAU0C,QAAS,WAC/B2V,EAAUvX,UAASuX,EAAUvX,QAAQpE,MAAQ,IAEjD0b,EAAe,IACfI,KAJF,SAME,eAAC,KAAD,MAEF,eAAC/Y,GAAA,EAAD,CAAY+S,MAAM,+DAAa9P,QAAS,kBAAM4P,GAAmB,IAAjE,SACE,eAAC,KAAD,SAGJ,eAACrK,EAAA,EAAD,IAEA,gBAAC,GAAD,WACGoJ,EAEc,GAAdP,GAAuC,GAAhBO,EAAMlE,QAAe,eAACtF,EAAA,EAAD,CAAYE,QAAQ,QAAQ/H,MAAM,UAAlC,qGAG7C8Q,GAAcC,IACd,eAAC9N,EAAA,EAAD,CAAK4J,GAAI,EAAG8C,UAAU,SAAtB,SACE,eAAChN,GAAA,EAAD,MAIW,GAAdmO,GAA6C,GAAtBC,GACtB,eAAC9N,EAAA,EAAD,CAAK/C,QAAQ,OAAOqR,eAAe,SAAS1E,GAAI,EAAhD,SACE,eAACjK,GAAA,EAAD,CACEmF,QAAQ,YACR/H,MAAM,YACNqK,UAAWwG,GAAeE,EAC1BrO,QAAS,WACPkO,KALJ,kCAUW,GAAdE,GACC,gBAAC+B,GAAA,EAAD,CAAQC,QAAS,kBAAMR,GAAmB,IAAQS,kBAAgB,0BAA0BC,KAAMX,EAAlG,UACE,eAAC,KAAD,CAAgBpL,GAAG,0BAAnB,SACE,gBAAChE,EAAA,EAAD,CAAK/C,QAAQ,OAAOqR,eAAe,gBAAgBzE,WAAW,SAA9D,0EACa,eAACrN,GAAA,EAAD,CAAYiD,QAAS,kBAAM4P,GAAmB,IAA9C,SAAsD,eAAC,KAAD,WAGrE,eAAC,KAAD,CAAkBW,UAAQ,EAA1B,0I,kDC5KC3L,GAAYhK,IAAOK,IAAV,iDACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrB2J,GAAUnK,IAAOK,IAAV,qIAOPkb,GAAUvb,IAAOK,IAAV,4HCOP4I,GAAsC,SAACvQ,GAAW,IAAD,EAEtDiR,EADSiH,cACGjH,GAElB,EAAgC1P,mBAAS,GAAzC,oBAAO0gB,EAAP,KAAiBa,EAAjB,KACA,EAAkCvhB,mBAAS,IAA3C,oBAAOwhB,EAAP,KAAkBC,EAAlB,KAEA,EAAqD7K,aACnD,CAAC,CAAE+I,OAAQjQ,KACX,SAACoH,GAAD,OAAY4K,2BAAgB5K,EAAEE,SAAS,MACvC,CACEC,QAAS3S,QAAQoL,KAJb7Q,EAAR,EAAQA,KAAsBqY,GAA9B,EAAcC,QAAd,EAAuBja,MAAvB,EAA8Bga,WAAW+J,EAAzC,EAAyCA,QAOnCU,EAAStK,aAA2CuK,YACpDC,EAAgBxK,aAAkDyK,mBAClElkB,EAAI,OAAGiB,QAAH,IAAGA,GAAH,UAAGA,EAAMA,YAAT,aAAG,EAAYA,KAEnB1B,EAAUwkB,EAAOzK,WAAa2K,EAAc3K,WAAaA,EAE/D7W,qBAAU,WACS,GAAb6W,GAAsBtZ,GACxB2jB,EAAY3jB,EAAK4X,MAAM,MAExB,CAAC0B,IAcJ,OAAmB,GAAf5S,QAAQoL,GAAqB,eAAC,IAAD,CAAU7E,GAAIC,YAAUnK,MAIvD,eAAC,IAAD,UACE,gBAAC,GAAD,WACGxD,GAAW,eAACiO,GAAA,EAAD,IAEE,GAAb8L,GAAsBtZ,GACrB,eAAC0S,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,SAA0C5S,EAAK+L,OAGnC,GAAbuN,GACC,iCACE,gBAAC,GAAD,WACE,eAAC,KAAD,IADF,IACwB,sCADxB,IACsC,sCAAMtZ,QAAN,IAAMA,OAAN,EAAMA,EAAM8R,KAChD,eAAC,KAAD,IAFF,IAEe,wCAFf,IAE+B,sCAAM9R,QAAN,IAAMA,OAAN,EAAMA,EAAMgU,UAG3C,gBAAC0P,GAAD,WACE,+BAAK,eAAC,KAAD,MACL,4DACA,+BACE,gBAACS,GAAA,EAAD,CAAavR,QAAQ,WAAWuC,WAAS,EAAC7V,MAAOoH,QAAQkd,GAAY1O,SAAU3V,EAA/E,UACE,eAAC6kB,GAAA,EAAD,CAAYtS,GAAG,YAAf,iBACA,gBAACuS,GAAA,EAAD,CACEC,QAAQ,YACRxS,GAAG,aACHvK,MAAOub,EACP3U,SAAU,SAACkQ,GAAD,OAA0CsF,EAAYtF,EAAE3R,OAAOnF,QACzE6N,MAAM,MACNF,SAAU3V,EANZ,UAQE,eAACglB,GAAA,EAAD,CAAUhd,MAAO,EAAjB,kDACA,eAACgd,GAAA,EAAD,CAAUhd,MAAO,EAAjB,wDACA,eAACgd,GAAA,EAAD,CAAUhd,MAAO,EAAjB,+CAEF,eAACid,GAAA,EAAD,UAAiBZ,SAGrB,eAACnW,GAAA,EAAD,CAAQmF,QAAQ,OAAO/H,MAAM,UAAU0C,QApD1B,WAAO,IAAD,EAC7B,IAAQ,OAAJvN,QAAI,IAAJA,OAAA,EAAAA,EAAM4X,MAAM,KAAMkL,EAAU,OAAOe,EAAa,6GAEpDI,EAAcjK,YAAY,CAAC+H,OAAM,OAAE/hB,QAAF,IAAEA,GAAF,UAAEA,EAAM8R,UAAR,aAAE,EAAU/E,WAAa0X,QAAS3B,EAAS/V,aACzEmD,MAAK,SAAC+J,GAAD,OAAYoJ,QAgDwDnO,SAAU3V,EAA5E,SACG0kB,EAAc3K,UAAY,eAAC9L,GAAA,EAAD,CAAkB8J,KAAM,KAAS,wDAIhE,eAACxJ,EAAA,EAAD,UACE,gBAACL,GAAA,EAAD,CACEF,QApDI,WAChBwW,EAAO/J,YAAY,CAAC0K,cAAa,OAAE1kB,QAAF,IAAEA,OAAF,EAAEA,EAAM8R,GAAG/E,aACzCmD,MAAK,SAAC+J,GAAD,OAAYoJ,QAmDRzQ,SAAa,OAAJ5S,QAAI,IAAJA,OAAA,EAAAA,EAAM2kB,UAAW,YAAc,OAAQ9Z,MAAM,UACtDqK,SAAU3V,EAHZ,UAIGwkB,EAAOzK,WAAa,eAAC9L,GAAA,EAAD,CAAkB8J,KAAM,MACxC,OAAJtX,QAAI,IAAJA,OAAA,EAAAA,EAAM2kB,UAAW,kIAA2B,0IC1GhDxS,GAAYhK,IAAOK,IAAV,uFACT,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAKrB2J,GAAUnK,IAAOK,IAAV,2EAEJ,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGxBic,GAAUzc,IAAOK,IAAV,0IAOdqc,GAASC,YAAH,2gBAiBNC,GAAUD,YAAH,gMASAE,GAAM7c,IAAOU,IAAV,oNAQDkc,IAGFE,GAAU9c,IAAOU,IAAV,+PAQLgc,IAGFK,GAAW/c,YAAOqK,IAAPrK,CAAH,2JCrEN,OAA0B,sC,UCA1B,OAA0B,uCCA1B,OAA0B,2CCY5Bgd,GAAsC,SAACtkB,GAClD,OACE,eAAC,IAAD,UACE,gBAAC,GAAD,WACE,eAAC6R,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,+DACA,eAAC9E,EAAA,EAAD,CAAK+E,SAAU,EAAf,SACE,eAACC,EAAA,EAAD,MAGF,gBAAC,GAAD,WACE,gBAAC8R,GAAD,WACE,eAACI,GAAD,CAAKpX,IAAKwX,GAAYvX,IAAI,gBAC1B,eAACoX,GAAD,CAASrX,IAAKyX,KAAWxX,IAAI,wBAG/B,eAACC,EAAA,EAAD,CAAK4J,GAAI,IACT,eAAChF,EAAA,EAAD,CAAYE,QAAQ,QAApB,ywBAKA,eAACsS,GAAD,CAAUrX,IAAI,QAAQD,IAAK0X,KAC3B,eAAC5S,EAAA,EAAD,CAAYE,QAAQ,QAApB,+1CAOA,eAACsS,GAAD,CAAUrX,IAAI,QAAQD,IAAK2X,KAC3B,eAAC7S,EAAA,EAAD,CAAYE,QAAQ,QAApB,qkBAGA,eAACF,EAAA,EAAD,CAAYE,QAAQ,KAApB,4XAGA,eAACF,EAAA,EAAD,CAAYE,QAAQ,KAApB,uqBC5CG4S,GAAqBrd,IAAOK,IAAV,iDAClB,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAGrB8c,GAAetd,IAAOK,IAAV,gIAGhB,SAAA1C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAKjB+c,GAAYvd,YAAOkK,IAAPlK,CAAH,yOACX,SAAArC,GAAC,OAAIA,EAAEC,MAAMV,QAAQnB,WAAWhB,QACrB,SAAA4C,GAAC,OAAIA,EAAEC,MAAMV,QAAQnB,WAAWhB,QACzC,SAAA4C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,MAMV,SAAA7C,GAAC,OAAI1C,IAASQ,KAAKkC,EAAEC,MAAMV,QAAQnB,WAAWhB,MAAMa,eAAe,IAAIF,YCjBlFkL,GAAsC,SAAClO,GAClD,OACE,eAAC,IAAD,UACE,gBAAC2kB,GAAD,WACE,eAAC9S,EAAA,EAAD,CAAYC,UAAU,MAAMC,QAAQ,KAApC,iFAEA,gBAAC6S,GAAD,WACE,eAACC,GAAD,CAAWzY,GAAIC,YAAUoE,WAAzB,sFACA,eAACoU,GAAD,CAAWzY,GAAIC,YAAUiE,UAAzB,8DACA,eAACuU,GAAD,CAAWzY,GAAIC,YAAUsE,aAAzB,4CACA,eAACkU,GAAD,CAAWzY,GAAIC,YAAUyE,iBAAzB,mF,SCLGgU,GAAsC,SAAC9kB,GAClD,OACE,gBAAC,IAAD,WAGE,wBAAC,IAAD,2BAAWiQ,GAAX,IAA4BE,IAAI,SAC9B,eAAC,GAAD,CAAQtC,QAASuJ,KAA0BI,aAAcvH,EAAkBH,KAA3E,SACE,eAAC,GAAD,GAAc,SADe,cAMjC,eAAC,IAAD,2BAAWG,GAAX,aACE,eAAC,GAAD,CAA0BpC,QAASuJ,IAAO,GAAQI,aAAcvH,EAAgBH,KAAhF,SACE,eAAC,GAAD,GAAe,SADL,kBAMd,eAAC,IAAD,2BAAWG,GAAX,aACE,eAAC,GAAD,CAA8BpC,QAASuJ,IAAO,GAA9C,SACE,eAAC,GAAD,GAAgB,SADH,mBAMjB,eAAC,IAAD,2BAAWnH,GAAX,aACE,eAAC,GAAD,CAA+BpC,QAASuJ,KAAxC,SACE,eAAC,GAAD,GAAiB,SADJ,oBAMjB,eAAC,IAAD,2BAAWnH,GAAX,aACE,eAAC,GAAD,CAA+BpC,QAASuJ,KAAxC,SACE,eAAC,GAAD,GAAiB,SADJ,oBAMjB,eAAC,IAAD,2BAAWnH,GAAX,aACE,eAAC,GAAD,CAAgCpC,QAASuJ,KAAzC,SACE,eAAC,GAAD,GAAkB,SADL,qBAMjB,eAAC,IAAD,2BAAWnH,GAAX,aACE,eAAC,GAAD,CAAkCpC,QAASuJ,KAA3C,SACE,eAAC,GAAD,GAAgB,SADH,uBAMjB,eAAC,IAAD,2BAAWnH,GAAX,aACE,eAAC,GAAD,CAAiCpC,QAASuJ,KAA1C,SACE,eAAC,GAAD,GAAe,SADF,sBAMjB,eAAC,IAAD,2BAAWnH,GAAX,aACE,eAAC,GAAD,CAAiCpC,QAASC,GAAO,CAACC,aAAUE,MAAOF,aAAUC,UAA7E,SACE,eAAC,GAAD,GAAe,SADF,sBAMjB,eAAC,IAAD,2BAAWiC,GAAX,aACE,eAAC,GAAD,CAAiCpC,QAASC,GAAO,CAACC,aAAUE,MAAOF,aAAUC,UAA7E,SACE,eAAC,GAAD,GAAmB,SADN,sBAMjB,eAAC,IAAD,2BAAWiC,GAAX,aACE,eAAC,GAAD,CAAkCpC,QAASC,GAAO,CAACC,aAAUE,MAAOF,aAAUC,UAA9E,SACE,eAAC,GAAD,GAAgB,SADH,uBAMjB,eAAC,IAAD,2BAAWiC,GAAX,aACE,eAAC,GAAD,CAAiCpC,QAASC,GAAO,CAACC,aAAUE,MAAOF,aAAUC,UAA7E,SACE,eAAC,GAAD,GAAe,SADF,sBAMjB,eAAC,IAAD,2BAAWiC,GAAX,aACE,eAAC,GAAD,CAAuCpC,QAASC,GAAO,CAACC,aAAUE,MAAOF,aAAUC,UAAnF,SACE,eAAC,GAAD,GAAqB,SADR,4BAMjB,eAAC,IAAD,2BAAWiC,GAAX,aACE,eAAC,GAAD,CAAyCpC,QAASC,GAAO,CAACC,aAAUE,MAAOF,aAAUC,UAArF,SACE,eAAC,GAAD,GAAkB,SADL,8BAMjB,eAAC,IAAD,2BAAWiC,GAAX,aACE,eAAC,GAAD,CAAoCpC,QAASC,GAAO,CAACC,aAAUE,MAAOF,aAAUC,UAAhF,SACE,eAAC,GAAD,GAAkB,SADL,yBAMjB,eAAC,IAAD,2BAAWiC,GAAX,aACE,eAAC,GAAD,CAAwCpC,QAASC,GAAO,CAACC,aAAUE,MAAOF,aAAUC,UAApF,SACE,eAAC,GAAD,GAAqB,SADR,6BAMjB,eAAC,IAAD,2BAAWiC,GAAX,aACE,eAAC,GAAD,CAAuCpC,QAASC,GAAO,CAACC,aAAUE,MAAOF,aAAUC,UAAnF,SACE,eAAC,GAAD,GAAgB,SADH,4BAMjB,eAAC,IAAD,2BAAWiC,GAAX,aACE,eAAC,GAAD,CAAyCpC,QAASC,GAAO,CAACC,aAAUE,MAAOF,aAAUC,UAArF,SACE,eAAC,GAAD,KADa,8BAKjB,eAAC,IAAD,CAAU5B,GAAI6D,EAAgBH,SAhIpB,eAqIHiV,GAAmC,SAAC/kB,GAAD,OAC9C,eAAC,GAAD,2BAAYA,GAAZ,IAAmBwX,aAAcvH,EAAgBH,KAAjD,SACG9P,EAAMC,c,qtBC3IE+kB,EAAwF,SAAC9jB,GAA2B,IAAlBC,EAAiB,uDAAXC,SAC7GhB,EAAO,IAAI6kB,SAMjB,OALA7kB,EAAK8kB,IAAI,SAAT,OAAmBhkB,QAAnB,IAAmBA,OAAnB,EAAmBA,EAASggB,QAC5B9gB,EAAK8kB,IAAI,WAAT,OAAqBhkB,QAArB,IAAqBA,OAArB,EAAqBA,EAASkX,UAE9BhY,EAAK8kB,IAAI,WAAT,OAAqBhkB,QAArB,IAAqBA,OAArB,EAAqBA,EAASmgB,SAA9B,OAAyCngB,QAAzC,IAAyCA,OAAzC,EAAyCA,EAASmgB,SAAS9T,MAEpDpM,EAAIE,KAAJ,YAAsBjB,ICHlBga,EAAuG,SAAClZ,GAA2B,IAAlBC,EAAiB,uDAAXC,SAC5HmhB,EAAS,IAAI4C,gBAKnB,OAJA,OAAGjkB,QAAH,IAAGA,OAAH,EAAGA,EAASoZ,QAAOiI,EAAO2C,IAAI,QAAX,OAAoBhkB,QAApB,IAAoBA,OAApB,EAAoBA,EAASoZ,QAChD,OAAGpZ,QAAH,IAAGA,OAAH,EAAGA,EAASmZ,OAAMkI,EAAO2C,IAAI,OAAX,OAAmBhkB,QAAnB,IAAmBA,OAAnB,EAAmBA,EAASmZ,OAC9C,OAAGnZ,QAAH,IAAGA,OAAH,EAAGA,EAASqhB,SAAQA,EAAO2C,IAAI,SAAX,OAAqBhkB,QAArB,IAAqBA,OAArB,EAAqBA,EAASqhB,QAE3CphB,EAAIikB,IAAI,aAAa7C,EAAOrW,aCfxBmZ,EAA0E,SAACnkB,GAA2B,IAAlBC,EAAiB,uDAAXC,SACrG,OAAOD,EAAIikB,IAAJ,sBCGIxJ,EAAqF,SAAC1a,GAA2B,IAAlBC,EAAiB,uDAAXC,SAChH,OAAOD,EAAIikB,IAAJ,2BAAqBlkB,QAArB,IAAqBA,OAArB,EAAqBA,EAASya,cCD1BK,EAAkF,SAAC9a,GAA2B,IAAlBC,EAAiB,uDAAXC,SAC7G,OAAOD,EAAImkB,IAAJ,mBAA4BpkB,ICDxB4a,EAAqF,SAAC5a,GAA2B,IAAlBC,EAAiB,uDAAXC,SAChH,OAAOD,EAAImkB,IAAJ,oBAA6BpkB,ICDzBqkB,EAAqF,SAACrkB,GAA2B,IAAlBC,EAAiB,uDAAXC,SAChH,OAAOD,EAAIE,KAAJ,YAAsBH,I,QCDlBoX,EAAmE,SAACpX,GAA2B,IAAlBC,EAAiB,uDAAXC,IAC9F,OAAOD,EAAIikB,IAAJ,yBAAmBlkB,QAAnB,IAAmBA,OAAnB,EAAmBA,EAASkX,YCJxBS,EAAiE,SAAC3X,GAA2B,IAAlBC,EAAiB,uDAAXC,IAC5F,OAAOD,EAAIqkB,OAAJ,yBAAsBtkB,QAAtB,IAAsBA,OAAtB,EAAsBA,EAASkX,YCG3ByJ,EAAkD,SAAC3gB,GAA2B,IAAlBC,EAAiB,uDAAXC,IAC7E,OAAOD,EAAImkB,IAAJ,yBAAmBpkB,QAAnB,IAAmBA,OAAnB,EAAmBA,EAASkX,UAAYlX,ICHpCod,EAA8D,SAACpd,GAA2B,IAAlBC,EAAiB,uDAAXC,IACzF,OAAOD,EAAIikB,IAAI,YCNJK,EAAyD,SAACvkB,GAA2B,IAAlBC,EAAiB,uDAAXC,IACpF,OAAOD,EAAIikB,IAAI,kBCIJM,EAAqE,SAACxkB,GAA2B,IAAlBC,EAAiB,uDAAXC,IAChG,OAAOD,EAAIE,KAAK,mBCILskB,G,OAA+D,SAACzkB,GAA2B,IAAD,EAAjBC,EAAiB,uDAAXC,IACpF5C,EAAW,IAAIymB,SAOrB,OANAzmB,EAAS0mB,IAAI,OAAb,OAAqBhkB,QAArB,IAAqBA,OAArB,EAAqBA,EAASiS,MAC9B3U,EAAS0mB,IAAI,OAAb,OAAqBhkB,QAArB,IAAqBA,OAArB,EAAqBA,EAASgK,MAC9B1M,EAAS0mB,IAAI,WAAb,OAAyBhkB,QAAzB,IAAyBA,OAAzB,EAAyBA,EAASoS,WAElC,OAAIpS,QAAJ,IAAIA,OAAJ,EAAIA,EAAS+U,YAAWzX,EAAS0mB,IAAI,YAAb,OAA0BhkB,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAS+U,UAAnC,OAA+C/U,QAA/C,IAA+CA,GAA/C,UAA+CA,EAAS+U,iBAAxD,aAA+C,EAAoB1I,MAEpFpM,EAAIE,KAAK,kBAAmB7C,KCZxBykB,EAAqF,SAAC/hB,GAA2B,IAAlBC,EAAiB,uDAAXC,SAChH,OAAOD,EAAIikB,IAAJ,uBAAiBlkB,QAAjB,IAAiBA,OAAjB,EAAiBA,EAASggB,UCFtBmC,EAAkF,SAACniB,GAA2B,IAAlBC,EAAiB,uDAAXC,SAC7G,OAAOD,EAAImkB,IAAJ,aAAsBpkB,ICAlB0kB,EAAwF,SAAC1kB,GAA2B,IAAlBC,EAAiB,uDAAXC,IAC7GykB,EAAc,IAAIZ,SAIxB,OAHAY,EAAYX,IAAI,SAAhB,OAA0BhkB,QAA1B,IAA0BA,OAA1B,EAA0BA,EAASggB,OAAOhV,YAC1C2Z,EAAYX,IAAI,WAAhB,OAA4BhkB,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAS2e,SAArC,OAAgD3e,QAAhD,IAAgDA,OAAhD,EAAgDA,EAAS2e,SAAStS,MAE3DpM,EAAImkB,IAAI,cAAeO,ICJnBvD,EAAyE,SAACphB,GAA2B,IAAlBC,EAAiB,uDAAXC,SAC9FmhB,EAAS,IAAI4C,gBAKnB,OAJA,OAAGjkB,QAAH,IAAGA,OAAH,EAAGA,EAASoZ,QAAOiI,EAAO2C,IAAI,QAAX,OAAoBhkB,QAApB,IAAoBA,OAApB,EAAoBA,EAASoZ,QAChD,OAAGpZ,QAAH,IAAGA,OAAH,EAAGA,EAASmZ,OAAMkI,EAAO2C,IAAI,OAAX,OAAmBhkB,QAAnB,IAAmBA,OAAnB,EAAmBA,EAASmZ,OAC9C,OAAGnZ,QAAH,IAAGA,OAAH,EAAGA,EAASqhB,SAAQA,EAAO2C,IAAI,SAAX,OAAqBhkB,QAArB,IAAqBA,OAArB,EAAqBA,EAASqhB,QAE3CphB,EAAIikB,IAAI,SAAS7C,EAAOrW,aCTpB4Z,EAA0D,SAAC5kB,GAA2B,IAAlBC,EAAiB,uDAAXC,IACrF,OAAOD,EAAImkB,IAAI,aAAcpkB,ICDlBiiB,EAA6D,SAACjiB,GAA2B,IAAlBC,EAAiB,uDAAXC,SACxF,OAAOD,EAAImkB,IAAJ,YAAqBpkB,K,iZCavB,SAAS6kB,EAAS9mB,GAGvB,OAFA6G,aAAac,QAAQuH,WAASC,aAAcnP,GAErC,CACLQ,KAAMb,IACNK,MAAOA,GAIJ,SAAS+mB,EAAQ7mB,GACtB,MAAO,CACLM,KAAMP,IACNC,KAAMA,GAIH,SAAS8mB,EAASxnB,GACvB,MAAO,CACLgB,KAAML,IACNX,MAAOA,GAIJ,SAASynB,EAAWxnB,GACzB,MAAO,CACLe,KAAMJ,IACNX,QAASA,GAeN,SAAS0iB,EAAqBlgB,GACnC,8CAAO,WAAgBQ,EAAoBykB,GAApC,mCAAAtkB,EAAA,6DACLH,EAASwkB,GAAW,IAEdrnB,EAAQsnB,IACRhnB,EAAON,EAAMM,KAAKX,SAJnB,kBAQewmB,2BAAiB9jB,GARhC,OAQHklB,EARG,kEAUqC,GAAvCvgB,QAAO,UAACugB,SAAD,iBAAC,EAAWhmB,YAAZ,aAAC,EAAiBsP,WAVvB,wBAWHhO,EAASukB,EAAQ,oBAACG,SAAD,iBAAC,EAAWhmB,YAAZ,aAAC,EAAiBuP,oBAAlB,QAAkC,sGAXhD,kBAYIjO,EAASwkB,GAAW,KAZxB,mCAiBmBb,6BAjBnB,QAiBH3E,EAjBG,kEAmBgC,IAArB,QAAb,EAAAA,SAAA,mBAAetgB,YAAf,eAAqBsP,aACtBvQ,EAAKwhB,eAAiBD,EAActgB,KAAKA,KACzCsB,EAASskB,EAAQ7mB,KAGnBuC,EAASwkB,GAAW,IAxBf,iEAAP,wDA6BK,SAASjF,EAAY/f,GAC1B,8CAAO,WAAgBQ,EAAoBykB,GAApC,6BAAAtkB,EAAA,6DACLH,EAASwkB,GAAW,IAEdrnB,EAAQsnB,IACRhnB,EAAON,EAAMM,KAAKX,SAJnB,kBAQe+mB,0BAAgBrkB,GAR/B,OAQHklB,EARG,+DAWoC,GAAtCvgB,QAAO,UAACugB,SAAD,aAAC,EAAWhmB,KAAKsP,YACzBhO,EAASukB,EAAQ,oBAACG,SAAD,iBAAC,EAAWhmB,YAAZ,aAAC,EAAiBuP,oBAAlB,QAAkC,sGAGrB,IAApB,QAAT,EAAAyW,SAAA,eAAWhmB,KAAKsP,aACjBvQ,EAAK+f,eAAiBkH,EAAUhmB,KAAKA,KACrCsB,EAASskB,EAAQ7mB,KAGnBuC,EAASwkB,GAAW,IApBf,yDAAP,wDAyBK,SAASjG,EAAaoG,GAC3B,8CAAO,WAAgB3kB,EAAoBykB,GAApC,+BAAAtkB,EAAA,6DACLH,EAASwkB,GAAW,IAEdrnB,EAAQsnB,IACRhnB,EAAON,EAAMM,KAAKX,SAClB0iB,EAAS/hB,EAAK8R,GALf,kBASkB2U,2BAAiB,CAAE1E,OAAQA,EAASrB,SAAUwG,IAThE,OASHC,EATG,yDAW0C,GAAzCzgB,QAAO,UAACygB,SAAD,aAAC,EAAclmB,KAAKsP,YAC7BhO,EAASukB,EAAQ,oBAACK,SAAD,iBAAC,EAAclmB,YAAf,aAAC,EAAoBuP,oBAArB,QAAqC,sGAZrD,SAgBL,UAAI2W,SAAJ,aAAI,EAAclmB,KAAKsP,aACrBvQ,EAAKiM,MAAQkb,EAAalmB,KAAKA,KAC/BsB,EAASskB,EAAQ7mB,KAGnBuC,EAASwkB,GAAW,IArBf,0DAAP,wDA0BK,SAASlG,EAAWJ,GACzB,8CAAO,WAAgBle,EAAoBykB,GAApC,+BAAAtkB,EAAA,6DACLH,EAASwkB,GAAW,IAEdrnB,EAAQsnB,IACRhnB,EAAON,EAAMM,KAAKX,SAClB0iB,EAAS/hB,EAAK8R,GALf,kBASgB6U,yBAAe,CAAE5E,OAAQA,EAAStB,YATlD,OASH2G,EATG,yDAWwC,GAAvC1gB,QAAO,UAAC0gB,SAAD,aAAC,EAAYnmB,KAAKsP,YAC3BhO,EAASukB,EAAQ,oBAACM,SAAD,iBAAC,EAAYnmB,YAAb,aAAC,EAAkBuP,oBAAnB,QAAmC,sGAZnD,SAgBL,UAAI4W,SAAJ,aAAI,EAAYnmB,KAAKsP,aACnBvQ,EAAK+L,KAAO0U,EACZle,EAASskB,EAAQ7mB,KAGnBuC,EAASwkB,GAAW,IArBf,0DAAP,wDA0BK,SAAS9V,EAAMoW,GACpB,8CAAO,WAAgB9kB,EAAoBykB,GAApC,2BAAAtkB,EAAA,6DACLH,EAASwkB,GAAW,IAEdO,EAAe,IAAIpY,aAAWpN,KAH/B,kBAQiBwlB,EAAaC,MAAMF,GARpC,OAQHG,EARG,kEAWkC,GAAnC9gB,QAAO,UAAC8gB,SAAD,aAAC,EAAajX,WAXpB,wBAYHhO,EAASukB,EAAQ,oBAACU,SAAD,aAAC,EAAahX,oBAAd,QAA8B,sGAC/CjO,EAASwkB,GAAW,IAbjB,kCAiBDS,GACFjlB,EAASqkB,EAAQ,UAACY,SAAD,aAAC,EAAavmB,KAAKnB,QAlBjC,oBAuBiBwmB,gCAvBjB,QAuBH/C,EAvBG,kEA2BDA,GACFhhB,EAASskB,EAAQtD,EAAYtiB,KAAKA,OAGpCsB,EAASukB,EAAS,KAClBvkB,EAASwkB,GAAW,IAhCf,iEAAP,wDAqCK,SAAS7V,EAAOnP,GACrB,8CAAO,WAAgBQ,EAAoBykB,GAApC,uCAAAtkB,EAAA,6DACLH,EAASwkB,GAAW,IADf,kBAMkBP,sBAAYzkB,GAN9B,QAMH0lB,EANG,QAQcxmB,KAAKsP,WAAWhO,EAASqkB,EAASa,EAAaxmB,KAAKA,KAAKnB,QARvE,yEAU2C,GAA1C4G,QAAO,UAAC+gB,SAAD,iBAAC,EAAcxmB,YAAf,aAAC,EAAoBsP,YAC9BhO,EAASukB,EAAQ,oBAACW,SAAD,iBAAC,EAAcxmB,YAAf,aAAC,EAAoBuP,oBAArB,QAAqC,sGAXrD,oCAgBDiX,SAhBC,iBAgBD,EAAcxmB,YAhBb,aAgBD,EAAoBsP,WAhBnB,4CAkByB+V,gCAlBzB,SAkBDoB,EAlBC,QAoBqBzmB,KAAKsP,WAAWhO,EAASskB,EAAQa,EAAkBzmB,KAAKA,OApB7E,8DAwBLsB,EAASukB,EAAS,KAClBvkB,EAASwkB,GAAW,MAEJ,QAAZ,EAAAU,SAAA,mBAAcxmB,YAAd,eAAoBsP,cAApB,UAAiCmX,SAAjC,iBAAiC,EAAmBzmB,YAApD,aAAiC,EAAyBsP,WA3BzD,2CA2B2E,GA3B3E,uEAAP,wDAgCK,SAAShE,IACd,8CAAO,WAAgBhK,EAAoBykB,GAApC,SAAAtkB,EAAA,sDACLH,GAjMFoE,aAAaghB,WAAW3Y,WAASC,cAE1B,CACL3O,KAAMH,OA6LD,2CAAP,wDAMK,SAASynB,IACd,8CAAO,WAAgBrlB,EAAoBykB,GAApC,qBAAAtkB,EAAA,0DACYiE,aAAaC,QAAQoI,WAASC,cAD1C,0CAMmBsX,8BANnB,QAMDsB,EANC,QAQe5mB,KAAKsP,WACnBhO,EAASqkB,EAASiB,EAAY5mB,KAAKA,KAAKnB,QATzC,yEAa2C,GAAxC4G,QAAO,UAACmhB,SAAD,aAAC,EAAa5mB,KAAKsP,YAAqB5J,aAAaghB,WAAW3Y,WAASC,cAbnF,wBAgByC,GAAxCvI,QAAO,UAACmhB,SAAD,aAAC,EAAa5mB,KAAKsP,WAhB3B,8EAqBmB+V,gCArBnB,SAqBD/C,EArBC,QAuBetiB,KAAKsP,WAAWhO,EAASskB,EAAQtD,EAAYtiB,KAAKA,OAvBjE,sKAAP,wDCxPK,SAAS2e,EAAWnf,GACzB,MAAO,CACLH,KAAMI,IACND,a,6YCLS0R,EAAYhK,IAAOK,IAAV,wGAMTsf,EAAe3f,IAAOK,IAAV,ihBA+BZuf,EAAQ5f,IAAO6f,GAAV,wE,gBChCLC,EAA4C,SAACpnB,GACxD,OACE,eAACsR,EAAD,WACE,cAAC2V,EAAD,UACE,8BACE,8BACE,8BACE,8BACE,8BACE,8BACE,8BACE,8BACE,8BACE,4CAYpB,cAAC,EAAD,4F,0BCzBOI,EAA4C,SAACrnB,GACxD,IAAM+K,EAAqB5D,cAE3B,OACE,cAACiG,EAAA,EAAD,CACEC,QAAStC,EAAmBpF,cAAgBN,aAAW5C,KACvD6K,SAAU,kBAAMvC,EAAmBrF,eACnC6H,KAAK,QACLvD,MAAM,aCZCsd,EAAOhgB,IAAOK,IAAV,8IAUJ2J,EAAYhK,IAAOK,IAAV,0ECNE,oDDSX,SAAA3H,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MEX7Byf,EAAwC,SAACvnB,GACpD,OACE,cAACsnB,EAAD,UACE,cAAC,EAAD,UACKtnB,EAAMC,c,iBCPJunB,EAAoBlgB,IAAOK,IAAV,05DAqDjB,SAAA1C,GAAC,OAAIA,EAAEC,MAAMV,QAAQC,QAAQpC,QAK7B,SAAA4C,GAAC,OAAIA,EAAEC,MAAMV,QAAQC,QAAQpC,QAwDlB,SAAA4C,GAAC,OAAIA,EAAEC,MAAMV,QAAQijB,WAAWtjB,SC7GxDujB,IAASC,UAAU,iBAAiB,GACpCD,IAASC,UAAU,UAAU,GAC7BD,IAASC,UAAU,kBAAkB,GACrCD,IAASC,UAAU,aAAa,GAChCD,IAASC,UAAU,SAAS,GAC5BD,IAASC,UAAU,aAAa,GAChCD,IAASC,UAAU,kBAAkB,GACrCD,IAASC,UAAU,sBAAsB,GAIlC,I,UAAMC,EAAoC,SAAC5nB,GAChD,IAAM6nB,GAAO,IAAIH,IAASI,WAAYC,SAAS/nB,EAAMiZ,IAErD,OACE,cAACuO,EAAD,CAAmBQ,wBAAyB,CAACC,OAAQJ,M,iDCpB5CK,EAAa5gB,IAAOU,IAAV,gD,SCOVmgB,EAAb,4MACEtpB,MAAQ,CACNupB,UAAU,GAFd,uDASE,SAAkB3pB,EAAc4pB,GAC9BtmB,QAAQC,IAAIvD,EAAO4pB,KAVvB,oBAaE,WACE,OAAIpZ,KAAKpQ,MAAMupB,SAEX,cAAC,IAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,eAACnb,EAAA,EAAD,CAAKE,SAAU,GAAImb,QAAS,EAA5B,UACE,cAACJ,EAAD,CAAYnb,IAAKwb,IAAWvb,IAAI,oBAChC,mPACA,uBACA,gLAQLiC,KAAKjP,MAAMC,YA/BtB,uCAKE,SAAgCxB,GAC9B,MAAO,CAAE2pB,UAAU,OANvB,GAAgC5iB,IAAMgjB,WCPzBC,EAAcnhB,IAAOK,IAAV,gJAEX,SAAA3H,GAAK,OAAIA,EAAMkF,MAAM4C,QAAQ,MACpB,SAAA9H,GAAK,OAAIA,EAAMkF,MAAMV,QAAQG,OAAOR,SAE1C,SAAAnE,GAAK,OAAIA,EAAMkF,MAAMkD,QAAQ,MCAhCmR,EAAkC,SAACvZ,GAC9C,OACE,cAACyoB,EAAD,CAAa3W,UAAW9R,EAAM8R,UAA9B,SACG9R,EAAMC,Y,QCPAyoB,EAAUphB,YAAOkK,IAAPlK,CAAH,8LACT,SAAAtH,GAAK,OAAIA,EAAMkF,MAAMV,QAAQC,QAAQpC,QAMnC,SAAArC,GAAK,OAAIA,EAAMkF,MAAMV,QAAQC,QAAQpC,QAIrC,SAAArC,GAAK,OAAIA,EAAMkF,MAAMV,QAAQC,QAAQhC,Q,OCZ5CkmB,EAAgB1E,YAAH,iLASN2E,EAAYthB,IAAOU,IAAV,mOAEV,SAAA/C,GAAC,OAAIA,EAAEC,MAAM4C,QAAQ,KAMlB6gB,GCdFhX,EAAgC,SAAC3R,GAC5C,OACE,cAAC4oB,EAAD,eAAe5oB,M,gCCPnB,kS,sDCAA,kGASaoB,EAASynB,IAAMC,OAAO,CACjCC,QAAQ/Y,UACRgZ,iBAAiB,IAOZ,SAAS7Z,EAAiB8Z,GAC/B,IAAIza,EAEE0a,EAAe,IAAIL,IAAMM,aAAY,SAACC,GAC1C5a,EAAW4a,KAYb,MAAO,CACLha,WAViByZ,IAAMC,OAAO,CAC9BC,QAAS/Y,UACTqZ,YAAaH,EACbF,iBAAiB,EACjBrO,QAAS,CACP,cAAgB,UAAhB,OAA2BsO,MAM7Bza,SAAWA,GAvBfpN,EAAOkoB,aAAapoB,QAAQqoB,KAAI,SAAUC,GAExC,OADAA,EAAO7O,QAAP,+BAA4C7U,aAAaC,QAAQoI,WAASC,eACnEob,M,4GCDMC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBta,MAAK,YAAkD,IAA/Cua,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCGRO,EAAcpkB,QACW,cAA7BvF,OAAO4pB,SAASC,UAEe,UAA7B7pB,OAAO4pB,SAASC,UAEhB7pB,OAAO4pB,SAASC,SAASC,MAAM,2DAqCnC,SAASC,EAAgBC,EAAOd,GAC9Be,UAAUC,cACP1W,SAASwW,GACTjb,MAAK,SAACob,GACLA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB9rB,QACf0rB,UAAUC,cAAcM,YAI1B/oB,QAAQC,IACN,+GAKEwnB,GAAUA,EAAOuB,UACnBvB,EAAOuB,SAASN,KAMlB1oB,QAAQC,IAAI,sCAGRwnB,GAAUA,EAAOwB,WACnBxB,EAAOwB,UAAUP,WAO5Bjb,OAAM,SAAC/Q,GACNsD,QAAQtD,MAAM,4CAA6CA,M,WCxFjEwsB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACjpB,EAAA,EAAD,MAEFmE,SAAS+kB,eAAe,SDUnB,SAAkB5B,GACvB,GAA6C,kBAAmBe,UAAW,CAGzE,GADkB,IAAIrU,IAAIlG,OAAwB1P,OAAO4pB,SAASxN,MACpD2O,SAAW/qB,OAAO4pB,SAASmB,OAIvC,OAGF/qB,OAAOyL,iBAAiB,QAAQ,WAC9B,IAAMue,EAAK,UAAMta,OAAN,sBAEPia,IAgEV,SAAiCK,EAAOd,GAEtC9C,MAAM4D,EAAO,CACX3P,QAAS,CAAE,iBAAkB,YAE5BtL,MAAK,SAACP,GAEL,IAAMwc,EAAcxc,EAAS6L,QAAQyK,IAAI,gBAEnB,MAApBtW,EAASmM,QACO,MAAfqQ,IAA8D,IAAvCA,EAAYC,QAAQ,cAG5ChB,UAAUC,cAAcgB,MAAMnc,MAAK,SAACob,GAClCA,EAAagB,aAAapc,MAAK,WAC7B/O,OAAO4pB,SAASwB,eAKpBrB,EAAgBC,EAAOd,MAG1Bha,OAAM,WACLzN,QAAQC,IAAI,oEAtFV2pB,CAAwBrB,EAAOd,GAI/Be,UAAUC,cAAcgB,MAAMnc,MAAK,WACjCtN,QAAQC,IACN,+GAMJqoB,EAAgBC,EAAOd,OCnC/BoC,GACAnC,K,gCCdA,4MACO,IAAM7qB,EAAe,eACfM,EAAc,cACdG,EAAiB,iBACjBD,EAAe,eACfE,EAAiB,iBAGjBO,EAAa,c,qFCPpBgsB,EAAQ,SAGRC,EAAK,IAELC,EAAuC,CAC3CC,MAAO,EACPC,KAAM,IACNC,SAAU,IACVC,WAAY,IACZC,KAAM,IACNC,UAAW,MACXC,MAAO,MACPC,KAAM,MACNC,SAAU,MACVC,YAAa,MACbC,cAAe,MACfC,kBAAmB,MACnBC,KAAM,MACNC,YAAa,MACbC,KAAM,MACNC,KAAM,MACNC,aAAc,QACdC,WAAY,QACZC,cAAe,QACfC,YAAa,QACbC,SAAU,QACVC,cAAe,QACfC,UAAW,QACXC,eAAgB,QAChBC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,cAAe,QACfC,gBAAiB,QACjBC,OAAQ,QACRC,eAAgB,QAChBC,UAAW,QACXC,eAAgB,QAChBC,iBAAkB,QAClBC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,eAAgB,QAChBC,gBAAiB,QACjBC,UAAW,QACXC,WAAY,QACZC,WAAY,QACZC,OAAQ,QACRC,OAAQ,QACRC,MAAO,QACPC,KAAM,QACNC,QAAS,QACTC,aAAc,QACdC,WAAY,QACZC,QAAS,QACTC,YAAa,QACbC,YAAa,QACbC,aAAc,QACdC,WAAY,QACZC,aAAc,QACdC,WAAY,QACZC,UAAW,SACXC,WAAY,SACZC,YAAa,SACbC,OAAQ,SACRC,MAAO,SACPC,SAAU,SACVC,UAAW,SACXC,YAAa,SACbC,cAAe,SACfC,eAAgB,SAChBC,WAAY,SACZC,UAAW,SACXC,cAAe,SACfC,aAAc,SACdC,UAAW,SACXC,UAAW,SACXC,OAAQ,SACRC,gBAAiB,SACjBC,UAAW,SACXC,KAAM,SACNC,UAAW,SACXC,IAAK,SACLC,UAAW,SACXC,cAAe,SACfC,QAAS,SACTC,OAAQ,SACRC,UAAW,SACXC,QAAS,SACTC,UAAW,SACXC,KAAM,SACNC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,WAAY,SACZC,OAAQ,SACRC,cAAe,SACfC,WAAY,SACZC,MAAO,SACPC,UAAW,SACXC,SAAU,SACVC,MAAO,SACPC,WAAY,SACZC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,UAAW,SACXC,WAAY,SACZC,OAAQ,SACRC,aAAc,SACdC,MAAO,SACPC,qBAAsB,SACtBC,QAAS,SACTC,IAAK,SACLC,QAAS,SACTC,QAAS,SACTC,SAAU,SACVC,UAAW,SACXC,OAAQ,SACRC,QAAS,SACTC,MAAO,SACPC,WAAY,SACZC,YAAa,SACbC,OAAQ,SACRC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,UAAW,SACXC,YAAa,SACbC,SAAU,SACVC,OAAQ,SACRC,UAAW,SACXC,eAAgB,SAChBC,WAAY,SACZC,cAAe,SACfC,SAAU,SACVC,SAAU,SACVC,aAAc,SACdC,YAAa,SACbC,KAAM,SACNC,OAAQ,SACRC,YAAa,SACbC,MAAO,SACPC,MAAO,UAIHC,EAMJ,aAAkF,IAAtEC,EAAqE,uDAApD/I,EAAIgJ,EAAgD,uDAAnC,EAAGC,EAAgC,uDAAnB,EAAGC,EAAgB,uDAAH,EAAG,yBAL1EC,WAK0E,OAJ1E5c,OAI0E,OAH1E6c,OAG0E,OAF1EC,OAE0E,EAC/ElmB,KAAKgmB,MAAQJ,EACb5lB,KAAKoJ,EAAIyc,EACT7lB,KAAKimB,EAAIH,EACT9lB,KAAKkmB,EAAIH,GAIAzyB,EAAb,WAwDE,WAAYyH,GAAyB,yBAvD9BA,WAuD6B,OAtD7BorB,cAsD6B,OArD7BH,WAqD6B,OApD7B5c,OAoD6B,OAnD7B6c,OAmD6B,OAlD7BC,OAkD6B,EAClClmB,KAAKjF,MAAQA,EAAMkC,WACnB+C,KAAKmmB,SAAW7yB,EAAS8yB,UAAUrrB,GAEnCiF,KAAKgmB,MAAQhmB,KAAKmmB,WAAa,GAAKtJ,EACpC7c,KAAKoJ,EAAIpJ,KAAKmmB,WAAa,GAAKtJ,EAChC7c,KAAKimB,EAAIjmB,KAAKmmB,WAAa,EAAItJ,EAC/B7c,KAAKkmB,EAAIlmB,KAAKmmB,SAAWtJ,EA/D7B,uCAaE,WACE,OAAO7c,KAAKgmB,OAdhB,IAQE,SAAUvuB,GACRA,EAAQnE,EAAS+yB,UAAU5uB,GAC3BuI,KAAKgmB,MAAgB,EAARvuB,EACbuI,KAAKsmB,mBAXT,aAsBE,WACE,OAAOtmB,KAAKoJ,GAvBhB,IAiBE,SAAM3R,GACJA,EAAQnE,EAAS+yB,UAAU5uB,GAC3BuI,KAAKoJ,EAAY,EAAR3R,EACTuI,KAAKsmB,mBApBT,aAgCE,WACE,OAAOtmB,KAAKimB,GAjChB,IA0BE,SAAMxuB,GACJA,EAAQnE,EAAS+yB,UAAU5uB,GAC3BuI,KAAKimB,EAAY,EAARxuB,EACTuI,KAAKsmB,mBA7BT,aAyCE,WACE,OAAOtmB,KAAKkmB,GA1ChB,IAoCE,SAAMzuB,GACJA,EAAQnE,EAAS+yB,UAAU5uB,GAC3BuI,KAAKkmB,EAAY,EAARzuB,EACTuI,KAAKsmB,mBAvCT,mBA6CE,WACE,OAAOtmB,KAAKmmB,UA9ChB,IAgDE,SAAY1uB,GACVA,EAAQ8uB,KAAKtgB,IAAI,WAAYxO,GAC7BA,EAAQ8uB,KAAKrgB,IAAI,EAAYzO,GAC7BuI,KAAKmmB,SAAmB,EAAR1uB,EAEhBuI,KAAKwmB,yBArDT,oBA2LE,WACE,OAAOlzB,EAASmzB,OAAOzmB,KAAKmmB,YA5LhC,mBAyME,WACE7yB,EAASozB,MAAM1mB,KAAKmmB,YA1MxB,kCA6ME,WACE,MAAyB7yB,EAASqzB,kBAAkB3mB,KAAKmmB,UAAnDH,EAAN,EAAMA,MAAO5c,EAAb,EAAaA,EAAG6c,EAAhB,EAAgBA,EAAGC,EAAnB,EAAmBA,EACnBF,EAAQ1yB,EAAS+yB,UAAUL,GAE3B5c,EAAI9V,EAAS+yB,UAAUjd,GAEvB6c,EAAI3yB,EAAS+yB,UAAUJ,GAEvBC,EAAI5yB,EAAS+yB,UAAUH,GAEvBlmB,KAAKgmB,MAAQA,EACbhmB,KAAKoJ,EAAIA,EACTpJ,KAAKimB,EAAIA,EACTjmB,KAAKkmB,EAAIA,IA1Nb,4BA6NE,WACElmB,KAAKmmB,SAAW7yB,EAASszB,YAAY5mB,KAAKgmB,MAAOhmB,KAAKoJ,EAAGpJ,KAAKimB,EAAGjmB,KAAKkmB,KA9N1E,oBA2PE,WAGE,OAFAlmB,KAAK6mB,QAAUvzB,EAASwzB,OAAO9mB,KAAKmmB,UAE7BnmB,OA9PX,uBAiQE,WAEE,OADAA,KAAK6mB,QAAUvzB,EAASyzB,UAAU/mB,KAAKmmB,UAChCnmB,OAnQX,2BAsQE,SAAcgnB,GAEZ,OADAhnB,KAAKinB,MAAQjnB,KAAKinB,OAAS,EAAID,EAAU,KAClChnB,OAxQX,6BA2QE,WACE,OAAO1M,EAASmzB,OAAOnzB,EAAS4zB,YAAYlnB,KAAKmmB,aA5QrD,6BA+QE,SAAgBa,GAEd,OADAhnB,KAAK6mB,QAAUvzB,EAAS6zB,gBAAgBnnB,KAAKmmB,SAAUa,GAChDhnB,OAjRX,sBAsUE,WACE,OAAOA,KAAKjM,YAvUhB,mBAkEE,SAAYgH,GACV,OAAO,IAAIzH,EAASyH,KAnExB,uBAsEE,SAAiBA,GACf,MAAoB,iBAATA,EAA0BzH,EAAS8zB,WAAWrsB,IAEzDA,EAAQA,EAAMssB,eAEJC,WAAW,OAAeh0B,EAASi0B,QAAQxsB,GACjDA,EAAMusB,WAAW,QAAgBh0B,EAASk0B,SAASzsB,GAEnDA,EAAMusB,WAAW,OAAeh0B,EAASm0B,QAAQ1sB,GACjDA,EAAMusB,WAAW,QAAgBh0B,EAASo0B,SAAS3sB,GAEnDA,EAAMusB,WAAW,KAAah0B,EAASq0B,QAAQ5sB,GAE5CzH,EAASs0B,SAAS7sB,KAnF7B,qBAsFE,SAAeA,GACb,IAAI8sB,EAAUC,MAAMC,KAAKhtB,EAAMitB,SAAS10B,EAAS20B,kBAC7C7e,EAAI8e,OAAOL,EAAQ,GAAG,IACtB5B,EAAIiC,OAAOL,EAAQ,GAAG,IACtB3B,EAAIgC,OAAOL,EAAQ,GAAG,IAE1B,OAAO,IAAOjL,GAASxT,GAAK,GAAK6c,GAAK,EAAIC,KA5F9C,sBA8FE,SAAgBnrB,GACd,IAAI8sB,EAAUC,MAAMC,KAAKhtB,EAAMitB,SAAS10B,EAAS20B,kBAC7C7e,EAAI8e,OAAOL,EAAQ,GAAG,IACtB5B,EAAIiC,OAAOL,EAAQ,GAAG,IACtB3B,EAAIgC,OAAOL,EAAQ,GAAG,IACtBM,EAAUptB,EAAMogB,MAAM7nB,EAAS80B,YAC/Bx1B,EAAI,IAGR,OAFe,MAAXu1B,IAAiBv1B,EAAI2zB,KAAK8B,MAAM,IAAMC,WAAWH,EAAQ,MAEtDv1B,EAAIgqB,GAASxT,GAAK,GAAK6c,GAAK,EAAIC,KAvG3C,sBA2GE,SAAgBqC,EAAWC,EAAWjZ,GACpCiZ,GAAK,IACLjZ,GAAK,IAEL,IAAI4K,GAAK,EAAIoM,KAAKkC,IAAI,EAAIlZ,EAAI,IAAMiZ,EAClCE,EAAIvO,GAAK,EAAIoM,KAAKkC,IAAKF,EAAI,GAAM,EAAI,IACrCI,EAAIpZ,EAAI4K,EAAI,EACZ/Q,EAAI,EACJ6c,EAAI,EACJC,EAAI,EAmBN,OAjBI,GAAKqC,GAAKA,EAAI,IAChBnf,EAAI+Q,EAAG8L,EAAIyC,EAAGxC,EAAI,GACT,IAAMqC,GAAKA,EAAI,KACxBnf,EAAIsf,EAAGzC,EAAI9L,EAAG+L,EAAI,GACT,KAAOqC,GAAKA,EAAI,KACzBnf,EAAI,EAAG6c,EAAI9L,EAAG+L,EAAIwC,GACT,KAAOH,GAAKA,EAAI,KACzBnf,EAAI,EAAG6c,EAAIyC,EAAGxC,EAAI/L,GACT,KAAOoO,GAAKA,EAAI,KACzBnf,EAAIsf,EAAGzC,EAAI,EAAGC,EAAI/L,GACT,KAAOoO,GAAKA,EAAI,MACzBnf,EAAI+Q,EAAG8L,EAAI,EAAGC,EAAIwC,GAnSV,OAqSVtf,EAAImd,KAAK8B,MAAgB,KAATjf,EAAIuf,KApSX,KAqST1C,EAAIM,KAAK8B,MAAgB,KAATpC,EAAI0C,MACpBzC,EAAIK,KAAK8B,MAAgB,KAATnC,EAAIyC,OArIxB,qBAyIE,SAAe5tB,GACb,IAAI8sB,EAAUC,MAAMC,KAAKhtB,EAAMitB,SAAS10B,EAAS20B,kBAC7CM,EAAIL,OAAOL,EAAQ,GAAG,IACtBW,EAAIN,OAAOL,EAAQ,GAAG,IACtBtY,EAAI2Y,OAAOL,EAAQ,GAAG,IAE1B,OAAO,IAAOjL,EAAStpB,EAASs1B,SAASL,EAAGC,EAAGjZ,KA/InD,sBAiJE,SAAgBxU,GACd,IAAI8sB,EAAUC,MAAMC,KAAKhtB,EAAMitB,SAAS10B,EAAS20B,kBAC7CM,EAAIL,OAAOL,EAAQ,GAAG,IACtBW,EAAIN,OAAOL,EAAQ,GAAG,IACtBtY,EAAI2Y,OAAOL,EAAQ,GAAG,IACtBM,EAAUptB,EAAMogB,MAAM7nB,EAAS80B,YAC/Bx1B,EAAI,IAGR,OAFe,MAAXu1B,IAAiBv1B,EAAI2zB,KAAK8B,MAAM,IAAMC,WAAWH,EAAQ,MAEtDv1B,EAAIgqB,EAAStpB,EAASs1B,SAASL,EAAGC,EAAGjZ,KA1JhD,sBA6JE,SAAgBxU,GACd,OAAO,IAAO6hB,EAAQE,EAAY/hB,EAAMssB,iBA9J5C,qBAiKE,SAAetsB,GAGb,GAAoB,IAFpBA,EAAQA,EAAM8tB,MAAM,IAEV3gB,OAAa,OAAO,IAAO0U,EAAQxO,SAASrT,EAAO,IAE7D,IAAIqO,EAAIrO,EAAM8tB,MAAM,EAAG,GACvBzf,GAAKA,EACL,IAAI6c,EAAIlrB,EAAM8tB,MAAM,EAAG,GACvB5C,GAAKA,EACL,IAAIC,EAAInrB,EAAM8tB,MAAM,EAAG,GAGvB,OAFA3C,GAAKA,EAEE,IAAOtJ,EAAQxO,SAAShF,EAAI6c,EAAIC,EAAG,MA7K9C,wBAgLE,SAAkBnrB,GAChB,OAAIA,GAAS,SAAiB,IAAO6hB,EAAQ7hB,EACtCwrB,KAAKtgB,IAAI,WAAYlL,KAlLhC,oBAqLE,SAAc+tB,GACZ,MAAyBx1B,EAASqzB,kBAAkBmC,GAA9C9C,EAAN,EAAMA,MAAO5c,EAAb,EAAaA,EAAG6c,EAAhB,EAAgBA,EAAGC,EAAnB,EAAmBA,EAEnB,MAAM,QAAN,OAAe9c,EAAf,aAAqB6c,EAArB,aAA2BC,EAA3B,cAAkCF,EAAQ,KAAK+C,QAAQ,GAAvD,OAxLJ,mBA+LE,SAAaD,GACX,IACA,EAAkBx1B,EAASqzB,kBAAkBmC,GAAvC1f,EAAN,EAAMA,EAAG6c,EAAT,EAASA,EAAGC,EAAZ,EAAYA,EAER8C,EAAU5f,EAAEnM,SAAS,IAAIgsB,SAAS,EAAG,KACrCC,EAAUjD,EAAEhpB,SAAS,IAAIgsB,SAAS,EAAG,KACrCE,EAAUjD,EAAEjpB,SAAS,IAAIgsB,SAAS,EAAG,KAEzC,MAAM,IAAN,OAAWD,GAAX,OAAqBE,GAArB,OAA+BC,KAvMnC,uBAiOE,SAAiBC,GAGf,OAFAA,EAAS7C,KAAKtgB,IAAI,IAAKmjB,GACvBA,EAAS7C,KAAKrgB,IAAI,EAAGkjB,KAnOzB,+BAuOE,SAAyBN,GACvB,IAAMO,EAAa,IAAI1D,EAOvB,OALA0D,EAAWrD,MAAQ8C,IAAY,GAAKjM,EACpCwM,EAAWjgB,EAAI0f,IAAY,GAAKjM,EAChCwM,EAAWpD,EAAI6C,IAAY,EAAIjM,EAC/BwM,EAAWnD,EAAI4C,EAAUjM,EAElBwM,IA/OX,yBAkPE,SAAmBrD,EAAe5c,EAAW6c,EAAWC,GACtD,OAAOF,EAAQpJ,GAASxT,GAAK,GAAK6c,GAAK,EAAIC,KAnP/C,yBAqRE,SAAmB4C,GACjB,MAAyBx1B,EAASqzB,kBAAkBmC,GAA9C9C,EAAN,EAAMA,MAAO5c,EAAb,EAAaA,EAAG6c,EAAhB,EAAgBA,EAAGC,EAAnB,EAAmBA,EAGnB,OAAOF,EAAQpJ,IADE,IAAJxT,EAAc,IAAJ6c,EAAc,IAAJC,GAAW,KACb,IAAM,EAAM,YAzR/C,+BA2RE,SAAyBnrB,GACvB,OAAOzH,EAASmzB,OAAOnzB,EAAS4zB,YAAY5zB,EAAS8yB,UAAUrrB,OA5RnE,uBAgSE,SAAiB+tB,GACf,MAA2Bx1B,EAASqzB,kBAAkBmC,GAA9C9C,EAAR,EAAQA,MAEFryB,GAFN,EAAeyV,EAAf,EAAkB6c,EAAlB,EAAqBC,GAEM,GAAK,EAEhC,OAAO5yB,EAASszB,YAAYZ,EAAOryB,EAAMA,EAAMA,KArSnD,6BAuSE,SAAuBoH,GACrB,OAAOzH,EAASmzB,OAAOnzB,EAASyzB,UAAUzzB,EAAS8yB,UAAUrrB,OAxSjE,oBA2SE,SAAc+tB,GAEZ,OADUA,IAAY,GAAK,KAChBlM,GAAmB,SAAVkM,KA7SxB,0BA+SE,SAAoB/tB,GAClB,OAAOzH,EAASmzB,OAAOnzB,EAASwzB,OAAOxzB,EAAS8yB,UAAUrrB,OAhT9D,6BAmTE,SAAuB+tB,EAAiBQ,GACtC,MAAyBh2B,EAASqzB,kBAAkBmC,GAA9C9C,EAAN,EAAMA,MAAO5c,EAAb,EAAaA,EAAG6c,EAAhB,EAAgBA,EAAGC,EAAnB,EAAmBA,EACbqD,EAAMhD,KAAK8B,MAAM,KAAOiB,GAW9B,OATAlgB,GAAKmgB,EACLngB,EAAI9V,EAAS+yB,UAAUjd,GAEvB6c,GAAKsD,EACLtD,EAAI3yB,EAAS+yB,UAAUJ,GAEvBC,GAAKqD,EACLrD,EAAI5yB,EAAS+yB,UAAUH,GAEhB5yB,EAASszB,YAAYZ,EAAO5c,EAAG6c,EAAGC,KAhU7C,mCAkUE,SAA6BnrB,EAAwBuuB,GACnD,OAAOh2B,EAASmzB,OAAOnzB,EAAS6zB,gBAAgB7zB,EAAS8yB,UAAUrrB,GAAQuuB,QAnU/E,KAAah2B,EAsPJ20B,gBAAkB,YAtPd30B,EAuPJ80B,WAAa,oBAvPT90B,EAwPJk2B,WAAa,a","file":"static/js/main.38db9919.chunk.js","sourcesContent":["import { User } from \"../../../models\";\r\nimport {\r\n  UserSetToken,\r\n  UserSetData,\r\n  UserSetError,\r\n  UserSetLoading,\r\n  UserClearStore\r\n} from \"../consts\";\r\nimport {\r\n  UserAction,\r\n  UserSetDataAction,\r\n  UserSetErrorAction,\r\n  UserSetLoadingAction,\r\n  UserSetTokenAction,\r\n  UserClearStoreAction\r\n} from \"../types\";\r\n\r\nexport type UserStorage = {\r\n  userData?: User\r\n  authentication?: string\r\n  error: string\r\n  loading: boolean\r\n}\r\n\r\nconst UserStorageInitial: UserStorage = {\r\n  authentication: undefined,\r\n  userData: undefined,\r\n  error: \"\",\r\n  loading: false\r\n}\r\n\r\n\r\nconst setAuthenticationToken = (state: UserStorage, action: UserSetTokenAction) => {\r\n  return Object.assign({}, state, { authentication: action.token });\r\n}\r\n\r\nconst setUserData = (state: UserStorage, action: UserSetDataAction) => {\r\n  return Object.assign({}, state, { userData: action.user });\r\n}\r\n\r\nconst setUserLoading = (state: UserStorage, action: UserSetLoadingAction) => {\r\n  return Object.assign({}, state, { loading: action.loading });\r\n}\r\n\r\nconst setUserError = (state: UserStorage, action: UserSetErrorAction) => {\r\n  return Object.assign({}, state, { error: action.error });\r\n}\r\n\r\nconst clearStore = (state: UserStorage, action: UserClearStoreAction) => {\r\n  return Object.assign({}, {\r\n    authentication: undefined,\r\n    userData: undefined,\r\n    error: \"\",\r\n    loading: false\r\n  });\r\n}\r\n\r\n\r\nconst handlers: { [p: string]: any } = {\r\n  [UserSetToken]: setAuthenticationToken,\r\n  [UserSetData]: setUserData,\r\n  [UserSetError]: setUserError,\r\n  [UserSetLoading]: setUserLoading,\r\n  [UserClearStore]: clearStore\r\n};\r\n\r\nexport const userReducer = function (state: UserStorage = UserStorageInitial, action: UserAction): UserStorage {\r\n  const currentHandler = handlers[action.type];\r\n  return currentHandler ? currentHandler.call(null, state, action) : state;\r\n}","import { Lesson } from \"../../../models/Lesson\";\r\nimport { SetLessons } from \"../consts\";\r\nimport { AppDataAction, DataSetLessonsAction } from \"../types\";\r\n\r\n\r\nexport type AppDataStorage = {\r\n  lessons: Lesson[]\r\n}\r\n\r\nexport const AppDataInitial: AppDataStorage = {\r\n  lessons: []\r\n}\r\n\r\n\r\n\r\nconst setLessons = (state: AppDataStorage, action: DataSetLessonsAction) => {\r\n  return Object.assign({}, state, {lessons: action.lessons});\r\n}\r\n\r\nconst handlers: { [p: string]: any } = {\r\n  [SetLessons]: setLessons\r\n};\r\n\r\nexport const appDataReducer = function (state: AppDataStorage = AppDataInitial, action: AppDataAction): AppDataStorage {\r\n  const currentHandler = handlers[action.type];\r\n  return currentHandler ? currentHandler.call(null, state, action) : state;\r\n}","export * from './Providers';\r\nexport * from './router';\r\nexport * from './server';\r\nexport * from './consts';\r\nexport * from './store';\r\nexport * from './style';\r\nexport * from './App';","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { StoreProvider } from './store/StoreProvider';\r\nimport { StyleProvider } from './style';\r\nimport { ServerQueryProvider } from './server';\r\n\r\ntype ProvidersProps = {}\r\n\r\nexport const Providers: React.FC<ProvidersProps> = (props) => {\r\n  return (\r\n    <ServerQueryProvider>\r\n      <StyleProvider>\r\n        <StoreProvider>\r\n          <BrowserRouter>\r\n            {props.children}\r\n          </BrowserRouter>\r\n        </StoreProvider>\r\n      </StyleProvider>\r\n    </ServerQueryProvider>\r\n  );\r\n};","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { Provider } from 'react-redux';\r\nimport { appDataReducer, userReducer } from './storages';\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  data: appDataReducer\r\n});\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' &&\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n    }) :\r\n    compose;\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\n\r\ntype StoreProviderProps = {}\r\n\r\nexport const StoreProvider: React.FC<StoreProviderProps> = (props) => {\r\n  return (\r\n    <Provider store={store}>\r\n      {props.children}\r\n    </Provider>\r\n  );\r\n};","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { User, UserAuthView } from '../../../models';\r\nimport { UserStorage } from '../storages';\r\nimport { RootState } from '../StoreProvider';\r\n\r\nexport const useUserData = function (): UserAuthView {\r\n  const userStore = useSelector<RootState, UserStorage>(state => state.user);\r\n\r\n  return {\r\n    user: userStore.userData,\r\n    authentication: userStore.authentication\r\n  }\r\n}\r\n","import {ApiQueryFunction} from '../../ApiClient';\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\n\r\nexport type UserLoginRequest = {\r\n  mail: string,\r\n  password: string\r\n}\r\n\r\nexport type UserLoginResponse = {\r\n  token: string\r\n}\r\n\r\nexport const LoginQuery: ApiQueryFunction<UserLoginRequest, UserLoginResponse> = (request, api = appApi) => {\r\n  return api.post(\"/account/signin\", request);\r\n};","export * from './StoreProvider';\r\nexport * from './storages';\r\nexport * from './actions';\r\nexport * from './consts';\r\nexport * from './hooks';\r\nexport * from './types';","import React from 'react';\r\nimport { AppRoutes } from '.';\r\nimport { AppBounder, SplashScreen } from '../components';\r\nimport { Init } from './Init';\r\n\r\ntype AppMainProps = {}\r\n\r\nexport const AppMain: React.FC<AppMainProps> = (props) => {\r\n  const isInit = Init();\r\n\r\n  if(isInit == false) return <SplashScreen />\r\n  \r\n  return (\r\n    <AppBounder>\r\n      <AppRoutes />\r\n    </AppBounder>\r\n  );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { INIT as INIT_User } from './store';\r\n\r\nexport const Init = () => {\r\n  const [isInit, setIsInit] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    void async function () {\r\n      await dispatch(INIT_User());\r\n\r\n      setIsInit(true);\r\n\r\n      console.log(\"%c Reacter\", \"font-size: 36px;font-family: 'Courier New', Courier, monospace;font-weight: bold;color: #4d7cff;background-color: #fff;padding: 5px 20px;\");\r\n      console.log(\"%c Учим react вместе\", \"font-size: 18px;font-family: 'Courier New', Courier, monospace;font-weight: bold;color: #fff;background-color: #4d7cff;padding: 5px 20px;\");\r\n    }();\r\n  }, []);\r\n\r\n  return isInit;\r\n}","import React from 'react';\nimport { AppMain } from './AppMain';\nimport { Providers } from './Providers';\n\nimport \"./style/global/main.scss\";\n\nfunction App() {\n  return (\n    <Providers>\n      <AppMain />\n    </Providers>\n  );\n}\n\nexport default App;","// import {} from '@material-ui/core/styles';\r\nimport { AppColor } from './utilities/Colors';\r\n\r\n\r\nexport const appColors = {\r\n  backgroundLight1: \"#000e1e\",\r\n  backgroundLight2: \"#041528\",\r\n  backgroundLight3: \"#1d2c3d\",\r\n\r\n  accentRed: \"#ed5564\",\r\n  accentBlack: \"#212735\",\r\n  accentWhite: \"#d8e3f9\",\r\n  accentBlue: \"#4d7cff\",\r\n  accentPurple: \"#ac92ed\",\r\n  accentPink: \"#ec87bf\",\r\n  accentGreen: \"#a0d468\",\r\n  accentYellow: \"#ffc929\",\r\n\r\n  backgroundDark1: \"#eff5ff\",\r\n  backgroundDark2: \"#ffffff\",\r\n  backgroundDark3: \"#e0e4e8\"\r\n}\r\n\r\nexport type AppColors = \"primary\" | \"secondary\" | \"error\" | \"warning\" | \"info\" | \"success\" | \"background\" | \"layout\" | \"accentRed\" | \"accentBlack\" | \"accentWhite\" | \"accentBlue\" | \"accentPurple\" | \"accentPink\" | \"accentGreen\" | \"accentYellow\" | \"backgroundLight1\" | \"backgroundLight2\" | \"backgroundLight3\" | \"backgroundDark1\" | \"backgroundDark2\" | \"backgroundDark3\";\r\n\r\nexport const accentRed = {\r\n  main: appColors.accentRed,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentRed),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentRed, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentRed, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentRed),\r\n  negate: AppColor.From(appColors.accentRed).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentRed).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentBlack = {\r\n  main: appColors.accentBlack,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentBlack),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentBlack, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentBlack, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentBlack),\r\n  negate: AppColor.From(appColors.accentBlack).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentBlack).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentWhite = {\r\n  main: appColors.accentWhite,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentWhite),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentWhite, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentWhite, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentWhite),\r\n  negate: AppColor.From(appColors.accentWhite).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentWhite).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentBlue = {\r\n  main: appColors.accentBlue,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentBlue),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentBlue, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentBlue, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentBlue),\r\n  negate: AppColor.From(appColors.accentBlue).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentBlue).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentPurple = {\r\n  main: appColors.accentPurple,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentPurple),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentPurple, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentPurple, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentPurple),\r\n  negate: AppColor.From(appColors.accentPurple).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentPurple).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentPink = {\r\n  main: appColors.accentPink,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentPink),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentPink, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentPink, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentPink),\r\n  negate: AppColor.From(appColors.accentPink).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentPink).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentGreen = {\r\n  main: appColors.accentGreen,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentGreen),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentGreen, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentGreen, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentGreen),\r\n  negate: AppColor.From(appColors.accentGreen).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentGreen).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentYellow = {\r\n  main: appColors.accentYellow,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentYellow),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentYellow, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentYellow, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentYellow),\r\n  negate: AppColor.From(appColors.accentYellow).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentYellow).changeOpacity(-30).toRgba()\r\n};\r\n\r\nexport const backgroundLight1 = {\r\n  main: appColors.backgroundLight1,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundLight1),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundLight1, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundLight1, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundLight1),\r\n  negate: AppColor.From(appColors.backgroundLight1).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundLight1).changeOpacity(-30).toRgba()\r\n};\r\nexport const backgroundLight2 = {\r\n  main: appColors.backgroundLight2,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundLight2),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundLight2, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundLight2, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundLight2),\r\n  negate: AppColor.From(appColors.backgroundLight2).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundLight2).changeOpacity(-30).toRgba()\r\n};\r\nexport const backgroundLight3 = {\r\n  main: appColors.backgroundLight3,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundLight3),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundLight3, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundLight3, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundLight3),\r\n  negate: AppColor.From(appColors.backgroundLight3).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundLight3).changeOpacity(-30).toRgba()\r\n};\r\n\r\nexport const backgroundDark1 = {\r\n  main: appColors.backgroundDark1,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundDark1),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundDark1, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundDark1, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundDark1),\r\n  negate: AppColor.From(appColors.backgroundDark1).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundDark1).changeOpacity(-30).toRgba()\r\n};\r\nexport const backgroundDark2 = {\r\n  main: appColors.backgroundDark2,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundDark2),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundDark2, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundDark2, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundDark2),\r\n  negate: AppColor.From(appColors.backgroundDark2).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundDark2).changeOpacity(-30).toRgba()\r\n};\r\nexport const backgroundDark3 = {\r\n  main: appColors.backgroundDark3,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundDark3),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundDark3, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundDark3, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundDark3),\r\n  negate: AppColor.From(appColors.backgroundDark3).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundDark3).changeOpacity(-30).toRgba()\r\n};\r\n\r\nexport const darkLayout = {\r\n  main: appColors.backgroundLight1,\r\n  dark: appColors.accentBlack,\r\n  light: appColors.backgroundLight2,\r\n  border: appColors.accentWhite,\r\n  contrast: appColors.accentWhite,\r\n  paper: appColors.backgroundLight2,\r\n  text: appColors.backgroundDark1\r\n}\r\n\r\nexport const lightLayout = {\r\n  main: appColors.accentWhite,\r\n  dark: appColors.accentWhite,\r\n  light: appColors.backgroundDark1,\r\n  border: appColors.accentWhite,\r\n  contrast: appColors.accentBlack,\r\n  paper: appColors.backgroundDark2,\r\n  text: appColors.accentBlack\r\n}\r\n\r\nexport type AppThemeColor = {\r\n  main: string\r\n  contrastText: string\r\n  dark: string\r\n  light: string\r\n  gray: string\r\n  negate: string\r\n  weak: string\r\n}\r\n\r\nexport type LayoutColor = {\r\n  main: string\r\n  dark: string\r\n  light: string\r\n  border: string\r\n  contrast: string\r\n  paper: string\r\n  text: string\r\n}","import React from 'react';\r\nimport { createMuiTheme } from \"@material-ui/core\";\r\nimport { createGlobalStyle } from 'styled-components';\r\nimport {\r\n  accentRed,\r\n  accentBlack,\r\n  accentWhite,\r\n  accentBlue,\r\n  accentPurple,\r\n  accentPink,\r\n  accentGreen,\r\n  accentYellow,\r\n  backgroundLight1,\r\n  backgroundLight2,\r\n  backgroundLight3,\r\n  backgroundDark1,\r\n  backgroundDark2,\r\n  backgroundDark3,\r\n  darkLayout,\r\n  lightLayout,\r\n  AppThemeColor,\r\n  LayoutColor,\r\n  appColors\r\n} from './ThemeColors';\r\nimport {DefaultTheme} from 'styled-components';\r\n\r\ndeclare module \"@material-ui/core/styles/createPalette\" {\r\n  interface Palette {\r\n    accentRed: AppThemeColor;\r\n    accentBlack: AppThemeColor;\r\n    accentWhite: AppThemeColor;\r\n    accentBlue: AppThemeColor;\r\n    accentPurple: AppThemeColor;\r\n    accentPink: AppThemeColor;\r\n    accentGreen: AppThemeColor;\r\n    accentYellow: AppThemeColor;\r\n    backgroundLight1: AppThemeColor;\r\n    backgroundLight2: AppThemeColor;\r\n    backgroundLight3: AppThemeColor;\r\n    backgroundDark1: AppThemeColor;\r\n    backgroundDark2: AppThemeColor;\r\n    backgroundDark3: AppThemeColor;\r\n    layout: LayoutColor;\r\n  }\r\n  interface PaletteOptions {\r\n    accentRed: AppThemeColor;\r\n    accentBlack: AppThemeColor;\r\n    accentWhite: AppThemeColor;\r\n    accentBlue: AppThemeColor;\r\n    accentPurple: AppThemeColor;\r\n    accentPink: AppThemeColor;\r\n    accentGreen: AppThemeColor;\r\n    accentYellow: AppThemeColor;\r\n    backgroundLight1: AppThemeColor;\r\n    backgroundLight2: AppThemeColor;\r\n    backgroundLight3: AppThemeColor;\r\n    backgroundDark1: AppThemeColor;\r\n    backgroundDark2: AppThemeColor;\r\n    backgroundDark3: AppThemeColor;\r\n    layout: LayoutColor;\r\n  }\r\n}\r\n\r\nexport const LightThemeConfig: DefaultTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: accentBlue.main,\r\n    },\r\n    secondary: {\r\n      main: accentGreen.main,\r\n    },\r\n    layout: lightLayout,\r\n    accentRed,\r\n    accentBlack,\r\n    accentWhite,\r\n    accentBlue,\r\n    accentPurple,\r\n    accentPink,\r\n    accentGreen,\r\n    accentYellow,\r\n    backgroundLight1,\r\n    backgroundLight2,\r\n    backgroundLight3,\r\n    backgroundDark1,\r\n    backgroundDark2,\r\n    backgroundDark3,\r\n\r\n    text: {\r\n      primary: appColors.accentBlack\r\n    }\r\n  },\r\n});\r\nexport const DarkThemeConfig: DefaultTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: accentBlue.main,\r\n    },\r\n    secondary: {\r\n      main: accentGreen.main,\r\n    },\r\n    layout: darkLayout,\r\n    accentRed,\r\n    accentBlack,\r\n    accentWhite,\r\n    accentBlue,\r\n    accentPurple,\r\n    accentPink,\r\n    accentGreen,\r\n    accentYellow,\r\n    backgroundLight1,\r\n    backgroundLight2,\r\n    backgroundLight3,\r\n    backgroundDark1,\r\n    backgroundDark2,\r\n    backgroundDark3,\r\n\r\n    text: {\r\n      primary: appColors.backgroundDark1\r\n    }\r\n  },\r\n});\r\n\r\n\r\nexport const GlobalOverrideLight = createGlobalStyle`\r\n\r\n`;\r\nexport const GlobalOverrideDark = createGlobalStyle`\r\n\r\n`;\r\nexport const CommonStyles = createGlobalStyle`\r\n  img {\r\n    max-width: 100%;\r\n  }\r\n\r\n  ${p => p.theme.breakpoints.down(\"xs\")} {\r\n    h3.fix {\r\n      font-size: 24px;\r\n    }\r\n  }\r\n`;\r\n// --some-var-for-override: ${props.theme.some};","import React, { useEffect, useState } from 'react';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components'\r\nimport { CommonStyles, DarkThemeConfig, GlobalOverrideDark, GlobalOverrideLight, LightThemeConfig } from './Themes';\r\n\r\n\r\nexport const ThemesEnum = {\r\n  dark: \"dark\",\r\n  light: \"light\"\r\n};\r\nconst ThemeLocalstorageKey = \"userTheme\";\r\n\r\n\r\ntype StyleProviderProps = {}\r\n\r\n\r\nexport type ThemeContextProps = {\r\n  toggleTheme: () => string\r\n  currentTheme: string\r\n}\r\nexport const AppThemeContext = React.createContext<ThemeContextProps>({ toggleTheme: () => \"\", currentTheme: \"dark\" });\r\n\r\n\r\nexport const StyleProvider: React.FC<StyleProviderProps> = function (props) {\r\n  const [isDark, setIsDark] = useState(() => !Boolean(localStorage.getItem(ThemeLocalstorageKey) == ThemesEnum.light));\r\n\r\n  useEffect(() => {\r\n    const savedTheme = localStorage.getItem(ThemeLocalstorageKey);\r\n    const systemPrefer = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n\r\n    let currentTheme = systemPrefer.matches ? ThemesEnum.dark : ThemesEnum.light;\r\n    if (savedTheme) currentTheme = savedTheme;\r\n\r\n    if (currentTheme == ThemesEnum.light) setIsDark(false);\r\n\r\n    window.document.documentElement.dataset.theme = currentTheme;\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newCurrentTheme = isDark ? ThemesEnum.light : ThemesEnum.dark;\r\n    window.document.documentElement.dataset.theme = newCurrentTheme;\r\n\r\n    localStorage.setItem(ThemeLocalstorageKey, newCurrentTheme);\r\n    setIsDark(!isDark);\r\n    return newCurrentTheme;\r\n  }\r\n\r\n  let theme = DarkThemeConfig;\r\n  if (isDark === false) {\r\n    theme = LightThemeConfig;\r\n  }\r\n  // console.log(theme);\r\n\r\n  let Override = GlobalOverrideDark;\r\n  if (isDark === false) Override = GlobalOverrideLight;\r\n\r\n  return (\r\n    <AppThemeContext.Provider value={{ toggleTheme: toggleTheme, currentTheme: isDark ? ThemesEnum.dark : ThemesEnum.light }}>\r\n      <ThemeProvider theme={theme}>\r\n        <StyledThemeProvider theme={theme}>\r\n          <CommonStyles />\r\n          <Override />\r\n          {props.children}\r\n        </StyledThemeProvider>\r\n      </ThemeProvider>\r\n    </AppThemeContext.Provider>\r\n  );\r\n}","import React from 'react';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\n\r\ntype ServerQueryProviderProps = {}\r\n\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nexport const ServerQueryProvider: React.FC<ServerQueryProviderProps> = (props) => {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      {props.children}\r\n    </QueryClientProvider>\r\n  );\r\n};","export * from './ApiConfigure';\r\nexport * from './ApiClient';\r\nexport * from './ApiModel';\r\nexport * from './Queries';","import React, { useContext } from 'react';\r\nimport { AppThemeContext, ThemeContextProps } from './Global';\r\n\r\nexport function useThemeConfig(): ThemeContextProps {\r\n  const themeConfig = useContext(AppThemeContext);\r\n\r\n  return themeConfig;\r\n}","export default __webpack_public_path__ + \"static/media/react_logo.436f7205.svg\";","export * from './UserAuthView';\r\nexport * from './LessonDetailed';\r\nexport * from './PracticeOrderView';\r\nexport * from './PracticeOrderDetailedView';","import styled from 'styled-components';\r\n\r\nexport const Main = styled.main`\r\n  background-color: ${props => props.theme.palette.layout.main};\r\n  min-height: 100vh;\r\n  height: auto;\r\n`;","import React from 'react';\r\nimport {Main} from './styled';\r\n\r\ntype EmptyLayoutProps = {}\r\n\r\nexport const EmptyLayout: React.FC<EmptyLayoutProps> = (props) => {\r\n  return (\r\n    <Main>\r\n      {props.children}\r\n    </Main>\r\n  );\r\n};","import { Link, NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport BookIcon from '@material-ui/icons/Book';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { IconButton, Theme } from '@material-ui/core';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\nconst collapsedMenu = \"100px\";\r\nconst mobileModeMedia = \"724px\";\r\n\r\n\r\nexport const AppLayoutDocument = styled.div`\r\n  background-color: ${props => props.theme.palette.layout.main};\r\n\r\n  min-height: 100%;\r\n  position: relative;\r\n`;\r\n\r\nexport const EmptyBlock = styled.div`\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n`;\r\n\r\nexport const ProfileManager = styled.div`\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  position: relative;\r\n`;\r\n\r\nexport const ProfileManagerIcon = styled.img`\r\n  width: 72px;\r\n  height: 72px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  object-position: center;\r\n`;\r\n\r\nexport const ProfileManagerMenu = styled.div`\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n  position: absolute;\r\n  width: 100%;\r\n  left: 0;\r\n  top: 100%;\r\n\r\n  opacity: 0;\r\n  visibility: hidden;\r\n\r\n  border-top: 4px solid ${props => props.theme.palette.layout.main};\r\n  z-index: ${props => props.theme.zIndex.tooltip};\r\n\r\n  transition: visibility 0.3s, opacity 0.3s;\r\n\r\n  box-shadow: ${props => props.theme.shadows[4]};\r\n\r\n  ${AppLayoutDocument}[data-profile-menu=\"true\"] & {\r\n    visibility: visible;\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\n\r\nconst ProfileManagerItemBase = `\r\n  display: flex;\r\n  gap: 0 8px;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: color 0.3s;\r\n`;\r\n\r\nexport const ProfileManagerItem = styled(NavLink)`\r\n  margin: ${props => props.theme.spacing(2)}px 0;\r\n  ${ProfileManagerItemBase}\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.palette.accentBlue.main};\r\n  }\r\n`;\r\n\r\nexport const ProfileManagerPunkt = styled.div`\r\n  margin: ${props => props.theme.spacing(2)}px 0;\r\n  ${ProfileManagerItemBase}\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.palette.accentBlue.main};\r\n  }\r\n`;\r\n\r\nexport const ProfileManagerName = styled.div`\r\n  word-break: break-all;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const LayoutContent = styled.div`\r\n  word-break: break-all;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const LayoutMenu = styled.nav`\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n\r\n  position: sticky;\r\n  top: 120px;\r\n  align-self: flex-start;\r\n`;\r\n\r\nexport const Logo = styled(BookIcon)`\r\n  svg& {\r\n    font-size: 48px;\r\n  }\r\n`;\r\n\r\nexport const Burger = styled(MenuIcon)`\r\n  svg& {\r\n    font-size: 48px;\r\n  }\r\n`;\r\n\r\nexport const Clear = styled(ClearIcon)`\r\n  svg& {\r\n    font-size: 48px;\r\n  }\r\n`;\r\n\r\nexport const LogoMenu = styled.div`\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n\r\n  display: flex;\r\n  gap: 0 8px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const NavItem = styled(NavLink)`\r\n  display: flex;\r\n  gap: 0 16px;\r\n  margin: ${props => props.theme.spacing(2)}px 0;\r\n  align-items: center;\r\n  transition: color 0.2s;\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.palette.accentBlue.main};\r\n  }\r\n`;\r\n\r\nexport const LayoutHeader = styled.header`\r\n  display: grid;\r\n  grid-template-columns: 340px 1fr 290px;\r\n  grid-template-rows: auto auto;\r\n  gap: 4px;\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: ${props => props.theme.palette.layout.main};\r\n  z-index: 2;\r\n\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & {\r\n    grid-template-columns: ${collapsedMenu} 1fr 290px;\r\n  }\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & ${LogoMenu} a {\r\n    display: none;\r\n  }\r\n\r\n  @media screen and (max-width: ${mobileModeMedia}) {\r\n    ${AppLayoutDocument}[data-menu=\"true\"] & ${Clear} {\r\n      display: block;\r\n    }\r\n    ${AppLayoutDocument}[data-menu=\"true\"] & ${Burger} {\r\n      display: none;\r\n    }\r\n    &{\r\n      grid-template-columns: 75px 0 1fr !important;\r\n    }\r\n\r\n    ${AppLayoutDocument}[data-menu=\"true\"] {\r\n\r\n    }\r\n\r\n    & ${ProfileManagerIcon} {\r\n        width: 36px; \r\n        height: 36px; \r\n    }\r\n  }\r\n`;\r\n\r\nexport const LayoutBody = styled.main`\r\n  display: grid;\r\n  grid-template-columns: 340px 1fr;\r\n  gap: 0 4px;\r\n  word-break: break-all;\r\n  padding-bottom: 100px;\r\n\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & {\r\n    grid-template-columns: ${collapsedMenu} 1fr;\r\n  }\r\n\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & ${LayoutMenu} {\r\n    padding-left: 34px;\r\n  }\r\n\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & ${NavItem} > span {\r\n    display: none;\r\n  }\r\n\r\n  @media screen and (max-width: ${mobileModeMedia}) {\r\n    & {\r\n      grid-template-columns: 1fr !important;\r\n    }\r\n\r\n    & ${LayoutMenu} {\r\n      visibility: hidden;\r\n      opacity: 0;\r\n      position: fixed;\r\n      top: ${props => props.theme.spacing(1)}px;\r\n      left: ${props => props.theme.spacing(1)}px;\r\n      right: ${props => props.theme.spacing(1)}px;\r\n      bottom: ${props => props.theme.spacing(1)}px;\r\n\r\n      display: flex;\r\n      flex-direction: column-reverse;\r\n\r\n      padding-bottom: 85px;\r\n\r\n      box-shadow: 0 0 16px 0 #333;\r\n\r\n      z-index: 15;\r\n      border-radius: 8px;\r\n      border: 1px solid ${props => props.theme.palette.layout.border};\r\n\r\n      transition: visibility 0.3s, opacity 0.3s;\r\n    }\r\n\r\n    ${AppLayoutDocument}[data-menu=\"true\"] & ${LayoutMenu} {\r\n      visibility: visible;\r\n      opacity: 1;\r\n    }\r\n\r\n    ${AppLayoutDocument}[data-menu=\"true\"] & ${NavItem} > span {\r\n      display: flex;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const MenuToggler = styled(IconButton)`\r\n  transition: transform 0.2s, background-color 0.3s;\r\n  color: ${props => props.theme.palette.layout.contrast} !important;\r\n\r\n  button&:hover {\r\n    background-color: ${props => props.theme.palette.accentBlue.main};\r\n  }\r\n\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & {\r\n    transform: rotateZ(90deg);\r\n  }\r\n  ${Clear} {\r\n    display: none;\r\n  }\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & ${Clear} {\r\n    display: block;\r\n  }\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & ${Burger} {\r\n    display: none;\r\n  }\r\n\r\n  @media screen and (max-width: ${mobileModeMedia}) {\r\n    button&{\r\n      padding: 16px;\r\n      background-color: ${props => props.theme.palette.layout.paper};\r\n      border: 1px solid ${props => props.theme.palette.layout.border};\r\n      position: fixed;\r\n      box-shadow: ${props => props.theme.shadows[4]};\r\n      bottom: ${props => props.theme.spacing(2)}px;\r\n      right: ${props => props.theme.spacing(2)}px;\r\n      z-index: 25;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ProfileManagerButton = styled(MoreVertIcon)`\r\n  color: ${props => props.theme.palette.layout.contrast};\r\n`;\r\n\r\nexport const useStyles = makeStyles((theme) => {\r\n  const appTheme = theme as Theme;\r\n\r\n  return {\r\n    ActiveLink: {\r\n      color: appTheme.palette.accentBlue.main,\r\n\r\n      '& svg': {\r\n        color: appTheme.palette.accentBlue.main\r\n      }\r\n    },\r\n\r\n    mainMenuCloseButton: {\r\n      display: \"none\",\r\n    },\r\n\r\n    logoToggler: {\r\n      '@media screen and (max-width: 724px)': {\r\n        display: 'none'\r\n      }\r\n    },\r\n\r\n    mainToggler: {\r\n      display: 'none',\r\n\r\n      '@media screen and (max-width: 724px)': {\r\n        display: 'block'\r\n      }\r\n    }\r\n  };\r\n});","import React, { useCallback, useEffect, useRef } from 'react';\r\nimport { AppConsts, appFiles, appRoutes, ByRole, Logout, RootState, Secure, ThemesEnum } from '../../App';\r\nimport {\r\n  AppLayoutDocument,\r\n  Burger,\r\n  EmptyBlock,\r\n  LayoutHeader,\r\n  Logo,\r\n  LogoMenu,\r\n  ProfileManager,\r\n  ProfileManagerIcon,\r\n  ProfileManagerItem,\r\n  ProfileManagerMenu,\r\n  ProfileManagerPunkt,\r\n  useStyles,\r\n  Clear,\r\n  LayoutContent,\r\n  LayoutMenu,\r\n  LayoutBody,\r\n  NavItem,\r\n  ProfileManagerButton,\r\n  ProfileManagerName,\r\n  MenuToggler\r\n} from './styled';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { Box, CircularProgress, Switch } from '@material-ui/core';\r\nimport { useThemeConfig } from '../../App/style/theme/UseThemeConfig';\r\nimport SettingsBrightnessIcon from '@material-ui/icons/SettingsBrightness';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport { Link } from 'react-router-dom';\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { UserRoles } from '../../models';\r\n\r\ntype AppLayoutProps = {}\r\n\r\nexport const AppLayout: React.FC<AppLayoutProps> = ({ children }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [profileOpen, setProfileOpen] = React.useState(false);\r\n  const [menuOpen, setMenuOpen] = React.useState(false);\r\n  const menusStatuses = useRef({ profile: false, menu: false });\r\n  menusStatuses.current.menu = menuOpen;\r\n  menusStatuses.current.profile = profileOpen;\r\n\r\n  const themeConfiguration = useThemeConfig();\r\n  const styles = useStyles();\r\n\r\n  const userData = useSelector((state: RootState) => state.user.userData);\r\n  const userName = userData?.nick ?? \"Без имени\";\r\n  const userAvatar = userData?.photo ? appFiles(userData?.photo) : AppConsts.DefaultPhotoPath;\r\n  const loading = Boolean(userData) == false;\r\n\r\n  const exitHandel = useCallback(() => {\r\n    dispatch(Logout());\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function outClick(event: React.MouseEvent<HTMLElement> | React.TouchEvent<HTMLElement>): any {\r\n      const target = event.target as HTMLElement;\r\n\r\n      if ((Boolean(target.closest('[data-component=\"profile-manager\"]')) == false) && menusStatuses.current.profile) {\r\n        setProfileOpen(false);\r\n      }\r\n    }\r\n\r\n    document.documentElement.addEventListener(\"click\", outClick as any);\r\n    document.documentElement.addEventListener(\"touchend\", outClick as any);\r\n\r\n    return () => {\r\n      document.documentElement.removeEventListener(\"click\", outClick as any);\r\n      document.documentElement.removeEventListener(\"touchend\", outClick as any);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <AppLayoutDocument key=\"AppLayout\" data-menu={menuOpen.toString()} data-profile-menu={profileOpen.toString()}>\r\n      <LayoutHeader>\r\n        <LogoMenu>\r\n          <Link to={appRoutes.App}><Logo /></Link>\r\n\r\n          <MenuToggler data-component=\"IconButton\" classes={{ root: styles.logoToggler }} aria-label=\"toggle menu\" onClick={() => setMenuOpen(!menuOpen)}>\r\n            <Burger />\r\n            <Clear />\r\n          </MenuToggler>\r\n        </LogoMenu>\r\n        <EmptyBlock />\r\n        <ProfileManager data-component=\"profile-manager\">\r\n          {loading && <CircularProgress />}\r\n\r\n          {loading == false &&\r\n            <ProfileManagerName>{userName}</ProfileManagerName>\r\n          }\r\n\r\n          {loading == false &&\r\n            <div>\r\n              <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={() => setProfileOpen(!profileOpen)}>\r\n                <ProfileManagerIcon src={userAvatar} alt=\"user avatar\" />\r\n\r\n                <Box ml={1}>\r\n                  <ProfileManagerButton fontSize=\"large\" />\r\n                </Box>\r\n              </Button>\r\n            </div>\r\n          }\r\n\r\n\r\n          {loading == false &&\r\n            <ProfileManagerMenu>\r\n              <ProfileManagerPunkt>\r\n                <SettingsBrightnessIcon />\r\n\r\n                <Switch\r\n                  checked={themeConfiguration.currentTheme == ThemesEnum.dark}\r\n                  onChange={() => themeConfiguration.toggleTheme()}\r\n                  name=\"theme\"\r\n                  color=\"primary\"\r\n                />\r\n              </ProfileManagerPunkt>\r\n\r\n              <ProfileManagerItem activeClassName={styles.ActiveLink} to={appRoutes.Profile}><AccountCircleIcon /> Профиль</ProfileManagerItem>\r\n              <ProfileManagerItem activeClassName={styles.ActiveLink} to={appRoutes.Settings}><SettingsIcon /> Настройки</ProfileManagerItem>\r\n              <ProfileManagerPunkt onClick={exitHandel}><ExitToAppIcon /> Выйти</ProfileManagerPunkt>\r\n            </ProfileManagerMenu>\r\n          }\r\n\r\n        </ProfileManager>\r\n      </LayoutHeader>\r\n      <LayoutBody>\r\n        <LayoutMenu>\r\n          <NavItem to={appRoutes.Lessons} activeClassName={styles.ActiveLink}><ViewListIcon fontSize=\"large\" /> <span>Уроки</span></NavItem>\r\n          <NavItem to={appRoutes.About} activeClassName={styles.ActiveLink}><InfoIcon fontSize=\"large\" /> <span>О проекте</span></NavItem>\r\n\r\n          <Secure politic={ByRole([UserRoles.Teacher, UserRoles.Admin])}>\r\n            <NavItem to={appRoutes.AdminMain} activeClassName={styles.ActiveLink}><SupervisedUserCircleIcon fontSize=\"large\" /> <span>Админ панель</span></NavItem>\r\n          </Secure>\r\n        </LayoutMenu>\r\n        <LayoutContent>\r\n          {children}\r\n        </LayoutContent>\r\n        <MenuToggler data-component=\"IconButton\" classes={{ root: styles.mainToggler }} aria-label=\"toggle menu\" onClick={() => setMenuOpen(!menuOpen)}>\r\n          <Burger />\r\n          <Clear />\r\n        </MenuToggler>\r\n      </LayoutBody>\r\n    </AppLayoutDocument >\r\n  );\r\n};","import { PracticeOrder } from \"./Practice\";\r\nimport { Sertificate } from \"./Sertificate\";\r\nimport { UserProgres } from \"./UserProgress\";\r\n\r\nexport class User {\r\n  public id: number;\r\n  public nick: string;\r\n  public roles: UserRoles[];\r\n  public mail: string;\r\n  public isBanned: boolean;\r\n  public photo: string;\r\n  public subjectSertificates: Array<Sertificate>;\r\n  public userProgresses: UserProgres[]\r\n  public practiceOrders: PracticeOrder[]\r\n\r\n  constructor(\r\n    $Id: number = 0,\r\n    $Nick: string = \"\",\r\n    $Roles: UserRoles[] = [],\r\n    $Mail: string = \"\",\r\n    $IsBanned: boolean = false,\r\n    $Photo: string = \"\",\r\n    $SubjectSertificates: Array<Sertificate> = [],\r\n    userProgresses: UserProgres[] = [],\r\n    practiceOrders: PracticeOrder[] = []\r\n  ) {\r\n    this.id = $Id;\r\n    this.nick = $Nick;\r\n    this.roles = $Roles;\r\n    this.mail = $Mail;\r\n    this.isBanned = $IsBanned;\r\n    this.photo = $Photo;\r\n    this.subjectSertificates = $SubjectSertificates;\r\n    this.userProgresses = userProgresses;\r\n    this.practiceOrders = practiceOrders;\r\n  }\r\n\r\n  static Null() {\r\n    return new User();\r\n  }\r\n}\r\n\r\nexport class UserData {\r\n  static UserTokenKey = \"userTokenKey\";\r\n}\r\n\r\nexport enum UserRoles {\r\n  Participant,\r\n  Teacher,\r\n  Admin,\r\n}","import { AxiosInstance, AxiosResponse, Canceler } from \"axios\";\r\nimport { appApi, CreateHttpClient } from \"./ApiConfigure\";\r\nimport { IApiResponse } from \"./ApiModel\";\r\n\r\n\r\nexport type ApiQueryFunction<TRequest = undefined, TResponse = undefined> = (request?: TRequest, api?: AxiosInstance) => Promise<AxiosResponse<IApiResponse<TResponse>>>;\r\n\r\n\r\nexport class ApiFetcher<TRequest = undefined, TResponse = undefined> {\r\n  protected api: AxiosInstance;\r\n  protected query: ApiQueryFunction<TRequest, TResponse>;\r\n\r\n  public canceler: Canceler;\r\n\r\n  public error: any = null;\r\n  public apiError?: string;\r\n  public loading: boolean = false;\r\n\r\n  public data?: TResponse;\r\n  public fetchPromise?: Promise<IApiResponse<TResponse>>;\r\n\r\n  public isFetched: boolean = false;\r\n  public success: boolean = false;\r\n  public isCanceled: boolean = false;\r\n\r\n  public authenticateToken: string;\r\n\r\n  public response?: IApiResponse<TResponse>;\r\n  public request?: TRequest;\r\n\r\n  public onData?: (data: IApiResponse<TResponse>, fetcher?: ApiFetcher<TRequest, TResponse>) => any\r\n  public onError?: (data: IApiResponse<TResponse>, fetcher?: ApiFetcher<TRequest, TResponse>) => any\r\n\r\n  constructor(query: ApiQueryFunction<TRequest, TResponse>, authenticateToken: string = \"\") {\r\n    this.query = query;\r\n\r\n    this.authenticateToken = authenticateToken;\r\n\r\n    const newAxios = CreateHttpClient(this.authenticateToken);\r\n    this.api = newAxios.httpClient;\r\n    this.canceler = newAxios.canceler;\r\n  }\r\n\r\n  reload() {\r\n    this.error = undefined;\r\n    this.apiError = undefined;\r\n    this.loading = false;\r\n\r\n    this.data = undefined;\r\n    this.fetchPromise = undefined;\r\n\r\n    this.isFetched = false;\r\n    this.success = false;\r\n    this.isCanceled = false;\r\n\r\n    this.response = undefined;\r\n    this.request = undefined;\r\n\r\n    const newAxios = CreateHttpClient(this.authenticateToken);\r\n    this.api = newAxios.httpClient;\r\n    this.canceler = newAxios.canceler;\r\n  }\r\n\r\n  fetch(request: TRequest): Promise<IApiResponse<TResponse>> {\r\n    this.fetchPromise = this.query(request, this.api).then((data) => data.data);\r\n\r\n    this.request = request;\r\n\r\n    this.fetchPromise.then(this.finishHandler.bind(this)).catch(this.errorHandler.bind(this));\r\n\r\n    this.loading = true;\r\n\r\n    return this.fetchPromise;\r\n  }\r\n\r\n  cancel() {\r\n    this.canceler?.();\r\n\r\n    this.loading = false;\r\n\r\n    this.isFetched = false;\r\n    this.isCanceled = true;\r\n  }\r\n\r\n  private finishHandler(data: IApiResponse<TResponse>) {\r\n    this.loading = false;\r\n    this.isFetched = true;\r\n    this.success = true;\r\n\r\n    this.response = data;\r\n\r\n    if (data.succeeded == false) {\r\n      this.success = false;\r\n      this.apiError = data.errorMessage;\r\n    }\r\n\r\n    if (data.succeeded) {\r\n      this.data = data.data;\r\n    }\r\n\r\n    this.onData?.(data, this);\r\n  }\r\n\r\n  private errorHandler(error: any) {\r\n    this.loading = false;\r\n    this.success = false;\r\n    this.isFetched = true;\r\n\r\n    this.error = error;\r\n\r\n    this.onError?.(error, this);\r\n  }\r\n}","export const AppConsts = {\r\n  defaultPhoto: \"default.png\",\r\n  staticPath: '/files',\r\n\r\n  get DefaultPhotoPath() {\r\n    return this.staticPath + \"/\" + this.defaultPhoto;\r\n  },\r\n}\r\n\r\nexport function appFiles(path: string) {\r\n  return AppConsts.staticPath + \"/\" + path;\r\n}\r\n\r\nexport function apiFiles(path: string) {\r\n  return process.env.REACT_APP_API_ADDRESS! + `/api/v1/files/${path}`;\r\n}","export const routeConfig = {\r\n  App: { path: \"/\", exact: true, key: \"AppRoute\" },\r\n  Login: { path: \"/login\", exact: true, key: \"LoginRoute\" },\r\n  About: { path: \"/about\", exact: true, key: \"AboutRoute\" },\r\n  SignUp: { path: \"/signup\", exact: true, key: \"SignUpRoute\" },\r\n  Profile: { path: \"/profile\", exact: true, key: \"ProfileRoute\" },\r\n  Lessons: { path: \"/lessons\", exact: true, key: \"LessonsRoute\" },\r\n  Settings: { path: \"/settings\", exact: true, key: \"SettingsRoute\" },\r\n  Practices: { path: \"/admin/practices\", exact: true, key: \"PracticesRoute\" },\r\n  AdminMain: { path: \"/admin\", exact: true, key: \"AdminRoute\" },\r\n  AdminUser: { path: \"/admin/users/:id\", exact: true, key: \"AdminUserRoute\" },\r\n  LessonPage: { path: \"/lessons/:id\", exact: true, key: \"LessonPageRoute\" },\r\n  AdminUsers: { path: \"/admin/users\", exact: true, key: \"AdminUsersRoute\" },\r\n  AdminLesson: { path: \"/admin/lessons/:id/view\", exact: true, key: \"AdminLessonRoute\" },\r\n  AdminLessons: { path: \"/admin/lessons\", exact: true, key: \"AdminLessonsRoute\" },\r\n  AdminPractice: { path: \"/admin/practice/:id\", exact: true, key: \"AdminPracticeRoute\" },\r\n  AdminLessonEdit: { path: \"/admin/lessons/:id/edit\", exact: true, key: \"AdminLessonEditRoute\" },\r\n  AdminInstruction: { path: \"/admin/instruction\", exact: true, key: \"AdminInstractionRoute\" },\r\n  AdminLessonCreate: { path: \"/admin/lessons/create\", exact: true, key: \"AdminLessonCreateRoute\" },\r\n}\r\n\r\nexport const appRoutes = {\r\n  App: routeConfig.App.path,\r\n  Login: routeConfig.Login.path,\r\n  About: routeConfig.About.path,\r\n  SignUp: routeConfig.SignUp.path,\r\n  Profile: routeConfig.Profile.path,\r\n  Lessons: routeConfig.Lessons.path,\r\n  Settings: routeConfig.Settings.path,\r\n  Practices: routeConfig.Practices.path,\r\n  AdminMain: routeConfig.AdminMain.path,\r\n  AdminUser: routeConfig.AdminUser.path,\r\n  LessonPage: routeConfig.LessonPage.path,\r\n  AdminUsers: routeConfig.AdminUsers.path,\r\n  AdminLesson: routeConfig.AdminLesson.path,\r\n  AdminLessons: routeConfig.AdminLessons.path,\r\n  AdminPractice: routeConfig.AdminPractice.path,\r\n  AdminLessonEdit: routeConfig.AdminLessonEdit.path,\r\n  AdminInstruction: routeConfig.AdminInstruction.path,\r\n  AdminLessonCreate: routeConfig.AdminLessonCreate.path,\r\n\r\n  getLessonView(id: string) {\r\n    return `/admin/lessons/${id}/view`;\r\n  },\r\n  getLessonEdit(id: string) {\r\n    return `/admin/lessons/${id}/edit`;\r\n  },\r\n  getLessonPage(id: string) {\r\n    return `/lessons/${id}`;\r\n  },\r\n  getAdminPractice(id: string) {\r\n    return `/admin/practice/${id}`;\r\n  },\r\n  getAdminUser(id: string) {\r\n    return `/admin/users/${id}`;\r\n  }\r\n}","import styled, { keyframes } from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppColor } from '../../../App/style/theme/utilities/Colors';\r\nimport { AppImg } from '../../../components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const MainLink = styled(Link)`\r\n  color: ${p => p.theme.palette.accentBlue.main} !important;\r\n  border: 1px solid ${p => p.theme.palette.accentBlue.main};\r\n  padding: ${p => p.theme.spacing(1)}px;\r\n  border-radius: 2px;\r\n  text-align: center;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: ${p => AppColor.From(p.theme.palette.accentBlue.main).changeOpacity(-80).toRgba()};\r\n  }\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n  margin-top: 16px;\r\n`;\r\n\r\nexport const MainImg = styled(AppImg)`\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  max-width: 600px;\r\n  aspect-ratio: 4 / 3;\r\n  width: 100%;\r\n`;","export default __webpack_public_path__ + \"static/media/react_main.2355652e.jpeg\";","export default __webpack_public_path__ + \"static/media/react_neon.428f9943.png\";","import { Box, Divider, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { appRoutes } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { Container, MainLink, Content, MainImg } from './styled';\r\nimport mainReact from '../../../appstatic/react_main.jpeg';\r\nimport neonReact from '../../../appstatic/react_neon.png';\r\nimport { AppImg } from '../../../components';\r\n\r\n\r\ntype MainPageProps = {}\r\n\r\nexport const MainPage: React.FC<MainPageProps> = (props) => {\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Главная страница</Typography>\r\n\r\n        <Box paddingY={1}>\r\n          <Divider />\r\n        </Box>\r\n\r\n\r\n\r\n        <Box>\r\n          <p>\r\n            Проект Reacter создан для изучения техонологии React.js.\r\n            На данном сайте вы можете проходить уроки и отслеживать свой прогресс прохождения уроков.\r\n            Областью применения приложения является облегчение поиска и подачи материала для преподавателя\r\n            и улучшение понимания, закрепления и повторения материала студентами по технологии React.js.\r\n          </p>\r\n\r\n          <MainImg src={mainReact} alt=\"main react\" />\r\n\r\n          <p>\r\n            На данном сайте вы можете найти материалы по технологии React.js.\r\n            Также на сайте присутствуют практические уроки на которых вы можете\r\n            отработать знания на практике и услышать конструктивную критику.\r\n          </p>\r\n\r\n          <MainImg src={neonReact} alt=\"neon react\" />\r\n        </Box>\r\n\r\n        <Content>\r\n          <MainLink to={appRoutes.Lessons}>Уроки</MainLink>\r\n          <MainLink to={appRoutes.About}>О проекте</MainLink>\r\n        </Content>\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { CenterMixin } from '../../../style';\r\nimport { Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const LoginTitle = styled(Typography)`\r\n  text-align: center;\r\n`;\r\n\r\nexport const LoginForm = styled.form`\r\n  margin-top: 30px;\r\n`;\r\n\r\nexport const LoginFooter = styled.div`\r\n  display: grid;\r\n  grid-auto-flow: row;\r\n  justify-items: center;\r\n  margin-top: 50px;\r\n  padding: 0px 1rem;\r\n`;\r\n\r\nexport const LoginPasswordInputGroup = styled.div`\r\n  position: relative;\r\n\r\n  & input {\r\n    padding-right: 48px;\r\n  }\r\n`;\r\n\r\nexport const useStyles = makeStyles({\r\n  LoginButton: {\r\n    width: \"min(300px, 100%)\"\r\n  },\r\n\r\n  passwordIcon: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    right: \"2px\",\r\n    transform: \"translateY(-50%)\"\r\n  }\r\n});\r\n\r\n// LoginForm.toString() - вернёт класс;","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { EmptyLayout } from '../../../layouts';\r\nimport { appRoutes, Login, RootState } from '../../../App';\r\nimport { LoginForm, LoginTitle, LoginFooter, useStyles, LoginPasswordInputGroup } from './styled';\r\nimport { Box, Button, CircularProgress, IconButton, TextField, Typography } from '@material-ui/core';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport { AppCard, AppLink, CenterCard } from '../../../components';\r\n\r\n\r\ntype LoginPageProps = {}\r\n\r\ntype LoginFormInputs = {\r\n  mail: string\r\n  password: string\r\n}\r\n\r\nconst schema = Yup.object().shape({\r\n  mail: Yup.string().trim().required(\"поле обязательно\"),\r\n  password: Yup.string().trim().required(\"поле обязательно\")\r\n});\r\n\r\nexport const LoginPage: React.FC<LoginPageProps> = (props) => {\r\n  const dispatch = useDispatch();\r\n  const loading = useSelector((state: RootState) => state.user.loading);\r\n  const loginError = useSelector((state: RootState) => state.user.error);\r\n  const [isHide, setIsHide] = useState(true);\r\n\r\n  const styles = useStyles();\r\n  const { register, formState: { errors }, handleSubmit } = useForm<LoginFormInputs>({\r\n    resolver: yupResolver(schema)\r\n  });\r\n\r\n  const onSubmit = (data: LoginFormInputs) => {\r\n    dispatch(Login({ mail: data.mail.trim(), password: data.password.trim() }));\r\n  };\r\n  const handleHideChange = () => {\r\n    setIsHide((state) => !state);\r\n  }\r\n\r\n\r\n  return (\r\n    <EmptyLayout>\r\n      <CenterCard key=\"CenterCard\">\r\n        <AppCard key=\"LoginBody\">\r\n          <LoginTitle key=\"LoginTitle\" variant=\"h2\">Вход</LoginTitle>\r\n          <Typography color=\"error\">{loginError}</Typography>\r\n          <LoginForm key=\"LoginForm\" onSubmit={handleSubmit(onSubmit)}>\r\n            <TextField\r\n              disabled={loading}\r\n              fullWidth\r\n              id=\"mailInput\"\r\n              label=\"почта\"\r\n              variant=\"outlined\"\r\n              key=\"mailInput\"\r\n              error={Boolean(errors.mail?.message)}\r\n              helperText={errors.mail?.message}\r\n              {...register(\"mail\")}\r\n            />\r\n            <Box mb={2} />\r\n            <LoginPasswordInputGroup>\r\n              <TextField\r\n                disabled={loading}\r\n                fullWidth\r\n                id=\"passwordInput\"\r\n                label=\"пароль\"\r\n                variant=\"outlined\"\r\n                key=\"passwordInput\"\r\n                error={Boolean(errors.password?.message)}\r\n                helperText={errors.password?.message}\r\n                type={isHide ? \"password\" : \"text\"}\r\n                {...register(\"password\")}\r\n              />\r\n              {isHide ?\r\n                <IconButton aria-label=\"show password\" className={styles.passwordIcon} onClick={handleHideChange}>\r\n                  <VisibilityIcon />\r\n                </IconButton>\r\n                :\r\n                <IconButton aria-label=\"hide password\" className={styles.passwordIcon} onClick={handleHideChange}>\r\n                  <VisibilityOffIcon />\r\n                </IconButton>\r\n              }\r\n            </LoginPasswordInputGroup>\r\n            <LoginFooter>\r\n              <Button disabled={loading} classes={{ root: styles.LoginButton }} variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                {loading ? <CircularProgress /> : \"Войти\"}\r\n              </Button>\r\n              <AppLink key=\"signuplink\" to={appRoutes.SignUp}>\r\n                Нет аккаунта? Зарегистрируйте.\r\n              </AppLink>\r\n            </LoginFooter>\r\n          </LoginForm>\r\n        </AppCard>\r\n      </CenterCard>\r\n    </EmptyLayout>\r\n  );\r\n};","import { makeStyles, Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport const RegisterTitle = styled(Typography)`\r\n  text-align: center;\r\n\r\n  ${props => props.theme.breakpoints.down(\"xs\")} {\r\n    .sign-up__content & {\r\n      font-size: 28px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SignUpIcon = styled.img`\r\n  border-radius: 50%;\r\n  width: 100px;\r\n  height: 100px;\r\n  margin: 0 ${props => props.theme.spacing(2)}px;\r\n  cursor: pointer;\r\n  object-fit: cover;\r\n  object-position: center;\r\n`;\r\n\r\nexport const RegisterForm = styled.form`\r\n  margin-top: 30px;\r\n`;\r\n\r\nexport const useStyles = makeStyles({\r\n  RegisterButton: {\r\n    width: \"min(300px, 100%)\"\r\n  },\r\n\r\n  passwordIcon: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    right: \"2px\",\r\n    transform: \"translateY(-50%)\"\r\n  }\r\n});\r\n\r\nexport const SignUpFooter = styled.div`\r\n  display: grid;\r\n  grid-auto-flow: row;\r\n  justify-items: center;\r\n  margin-top: 50px;\r\n  padding: 0px 1rem;\r\n`;\r\n\r\nexport const SignUpPasswordInputGroup = styled.div`\r\n  position: relative;\r\n\r\n  & input {\r\n    padding-right: 48px;\r\n  }\r\n`;","import { Box, Button, CircularProgress, IconButton, TextField, Typography } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppConsts, appRoutes, RootState, SignUp } from '../../../App';\r\nimport { AppCard, AppLink, CenterCard } from '../../../components';\r\nimport { EmptyLayout } from '../../../layouts';\r\nimport { RegisterForm, RegisterTitle, useStyles, SignUpFooter, SignUpPasswordInputGroup, SignUpIcon } from './styled';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { PhotoCamera } from '@material-ui/icons';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { useHistory } from 'react-router';\r\n\r\n\r\ntype SignUpPageProps = {}\r\n\r\n\r\ntype SignUpInputs = {\r\n  mail: string\r\n  password: string\r\n  rpassword: string\r\n  nick: string\r\n  photo: FileList\r\n}\r\n\r\nconst schema = Yup.object().shape({\r\n  mail: Yup.string().trim().required(\"поле обязательно\").email(\"адрес не по формату\"),\r\n  password: Yup.string().trim().required(\"поле обязательно\").min(6, \"не короче 6 символов\").max(64, \"не длиннее 64 символов\"),\r\n  rpassword: Yup.string().trim().required(\"поле обязательно\").test(\"password equal\", \"пароли должны совпадать\", function (value) {\r\n    return this.parent.password == value;\r\n  }),\r\n  nick: Yup.string().trim().required(\"поле обязательно\").min(6, \"не короче 6 символов\").max(64, \"не длиннее 64 символов\")\r\n});\r\n\r\nexport const SignUpPage: React.FC<SignUpPageProps> = (props) => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const styles = useStyles();\r\n  const loading = useSelector((state: RootState) => state.user.loading);\r\n  const signUpError = useSelector((state: RootState) => state.user.error);\r\n\r\n  const [isHide, setIsHide] = useState(true);\r\n\r\n  const { register, formState: { errors }, handleSubmit, getValues, watch, reset, setValue } = useForm<SignUpInputs>({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onBlur\"\r\n  });\r\n  watch(\"photo\");\r\n  const formValues = getValues();\r\n  const userPhoto = formValues?.photo?.[0] ? URL.createObjectURL(formValues?.photo?.[0]) : AppConsts.DefaultPhotoPath;\r\n  const hasPhoto = Boolean(formValues?.photo?.[0]);\r\n\r\n  const onSubmit = (data: SignUpInputs) => {\r\n    if (loading === false) {\r\n      const signUp = dispatch(SignUp({ mail: data.mail.trim(), nick: data.nick.trim(), password: data.password.trim(), userPhoto: data.photo[0] }));\r\n      (signUp as any).then((signUpResult: boolean) => {\r\n        if (signUpResult) history.push(appRoutes.App);\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleHideChange = () => {\r\n    setIsHide((state) => !state);\r\n  }\r\n\r\n  return (\r\n    <EmptyLayout>\r\n      <CenterCard key=\"CenterCard\">\r\n        <AppCard key=\"signupbody\">\r\n          <div className=\"sign-up__content\">\r\n            <RegisterTitle variant=\"h2\">Регистрация</RegisterTitle>\r\n            <Typography color=\"error\">{signUpError}</Typography>\r\n            <RegisterForm onSubmit={handleSubmit(onSubmit)}>\r\n              <TextField\r\n                fullWidth\r\n                id=\"mailInput\"\r\n                label=\"почта\"\r\n                variant=\"outlined\"\r\n                key=\"mailInput\"\r\n                disabled={loading}\r\n                error={Boolean(errors.mail?.message)}\r\n                helperText={errors.mail?.message}\r\n                {...register(\"mail\")}\r\n              />\r\n              <Box mb={2} />\r\n\r\n              <TextField\r\n                fullWidth\r\n                id=\"nickInput\"\r\n                label=\"ник\"\r\n                variant=\"outlined\"\r\n                key=\"nickInput\"\r\n                disabled={loading}\r\n                error={Boolean(errors.nick?.message)}\r\n                helperText={errors.nick?.message}\r\n                {...register(\"nick\")}\r\n              />\r\n              <Box mb={2} />\r\n\r\n              <SignUpPasswordInputGroup>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"passwordInput\"\r\n                  label=\"пароль\"\r\n                  variant=\"outlined\"\r\n                  key=\"passwordInput\"\r\n                  type={isHide ? \"password\" : \"text\"}\r\n                  disabled={loading}\r\n                  error={Boolean(errors.password?.message)}\r\n                  helperText={errors.password?.message}\r\n                  {...register(\"password\")}\r\n                />\r\n\r\n                {isHide ?\r\n                  <IconButton aria-label=\"show password\" className={styles.passwordIcon} onClick={handleHideChange}>\r\n                    <VisibilityIcon />\r\n                  </IconButton>\r\n                  :\r\n                  <IconButton aria-label=\"hide password\" className={styles.passwordIcon} onClick={handleHideChange}>\r\n                    <VisibilityOffIcon />\r\n                  </IconButton>\r\n                }\r\n              </SignUpPasswordInputGroup>\r\n              <Box mb={2} />\r\n\r\n              <TextField\r\n                fullWidth\r\n                id=\"rpasswordInput\"\r\n                label=\"повторите пароль\"\r\n                variant=\"outlined\"\r\n                key=\"rpasswordInput\"\r\n                disabled={loading}\r\n                error={Boolean(errors.rpassword?.message)}\r\n                helperText={errors.rpassword?.message}\r\n                type={isHide ? \"password\" : \"text\"}\r\n                {...register(\"rpassword\")}\r\n              />\r\n              <Box mb={2} />\r\n\r\n              <Box mb={1}>\r\n                <Typography>Аватар пользователя</Typography>\r\n              </Box>\r\n              <input\r\n                accept=\"image/*;capture=camera\"\r\n                key=\"photoInput\"\r\n                className=\"visually-hidden\"\r\n                id=\"userPhoto\"\r\n                type=\"file\"\r\n                {...register(\"photo\")}\r\n              />\r\n              <label htmlFor=\"userPhoto\">\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"medium\"\r\n                  startIcon={<PhotoCamera />}\r\n                  component=\"span\"\r\n                >\r\n                  {hasPhoto ? \"поменять фото\" : \"выбрать фото\"}\r\n                </Button>\r\n              </label>\r\n              <Box mt={2} display=\"flex\" alignItems=\"center\">\r\n                <label htmlFor=\"userPhoto\">\r\n                  <SignUpIcon src={userPhoto} />\r\n                </label>\r\n                {hasPhoto &&\r\n                  <IconButton aria-label=\"clear avatar\" onClick={() => {\r\n                    // reset({ photo: undefined });\r\n                    // reset(\"photo\", undefined);\r\n                    setValue(\"photo\", undefined as any);\r\n                  }}>\r\n                    <ClearIcon />\r\n                  </IconButton>\r\n                }\r\n              </Box>\r\n\r\n\r\n              <SignUpFooter>\r\n                <Button disabled={loading} classes={{ root: styles.RegisterButton }} variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                  {loading ? <CircularProgress /> : \"Регистрация\"}\r\n                </Button>\r\n                <AppLink to={appRoutes.Login} key=\"signuplink\">\r\n                  Есть аккаунт? Войдите.\r\n                </AppLink>\r\n              </SignUpFooter>\r\n            </RegisterForm>\r\n          </div>\r\n        </AppCard>\r\n      </CenterCard>\r\n    </EmptyLayout>\r\n  );\r\n};","import { UserAuthView, UserRoles } from '../../models';\r\n\r\n\r\nexport function ByRole(roles: UserRoles[]) {\r\n  return (user: UserAuthView) => {\r\n    if (Boolean(user.user) === false) return false;\r\n    \r\n    return roles.filter(role => user.user?.roles.includes(role)).length > 0;\r\n  }\r\n}\r\n\r\nexport function ByAuth(isAuth: boolean = true) {\r\n  return (user: UserAuthView) => {\r\n    if (isAuth == false) return Boolean(user.authentication) == false && Boolean(user.user) == false;\r\n\r\n    return Boolean(user.user || user.authentication) === true;\r\n  }\r\n}","import React, { ReactElement, ReactNode } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { User, UserAuthView } from '../../models';\r\nimport { useUserData } from '../store/hooks/useUser';\r\n\r\nexport type SecureProps = {\r\n  redirectPath?: string\r\n  politic?: (userData: UserAuthView) => boolean\r\n\r\n  substituteComponent?: React.ComponentType<any>\r\n  substituteElement?: React.ReactNode\r\n  // some: React.ReactElement\r\n}\r\n\r\n// Если понадобится, то можно добавить асинхронные политики\r\nexport const Secure: React.FC<SecureProps> = (props): React.ReactElement<any> | null => {\r\n  const userData: UserAuthView = useUserData();\r\n  \r\n  const accessStatus = props.politic ? props.politic(userData) : true;\r\n  \r\n  if (accessStatus === false && props.redirectPath) return <Redirect to={props.redirectPath} />;\r\n  if(accessStatus == false && props.substituteElement) return props.substituteElement as ReactElement;\r\n  if(accessStatus == false && props.substituteComponent) {\r\n    const ComponentToRender = props.substituteComponent;\r\n    return React.createElement(ComponentToRender);\r\n  };\r\n  if (accessStatus === false) return null;\r\n\r\n  return props.children as ReactElement;\r\n};","import { Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport { AppColor } from '../../../App/style/theme/utilities/Colors';\r\n\r\nexport const AdminLessonViewContainer = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Buttons = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 16px;\r\n`;\r\n\r\nexport const DeleteButton = styled(Button)`\r\n  button& {\r\n    background-color: ${p => p.theme.palette.accentRed.dark};\r\n\r\n    &:hover {\r\n      background-color: ${p => AppColor.From(p.theme.palette.accentRed.dark).shadeLightColor(-25).toRgba()};\r\n    }\r\n  }\r\n`;","import { Box, Button, CircularProgress, Divider, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React from 'react';\r\nimport { useMutation, useQuery } from 'react-query';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport { appRoutes } from '../../../App';\r\nimport { MarkDown } from '../../../components';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { IApiResponse } from '../../../server';\r\nimport { GetLesson, GetLessonResponse, DeleteLesson, DeleteLessonRequest } from '../../../server';\r\nimport { AdminLessonViewContainer, Buttons, DeleteButton } from './styled';\r\n\r\ntype AdminViewLessonProps = {}\r\n\r\ntype AdminViewLessonRouteParams = {\r\n  id: string\r\n}\r\n\r\nexport const AdminViewLesson: React.FC<AdminViewLessonProps> = (props) => {\r\n  const history = useHistory();\r\n  const params = useParams<AdminViewLessonRouteParams>();\r\n  const id = params.id;\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetLessonResponse>>>(\r\n    [{ lessonId: id }] as any,\r\n    (r: any) => GetLesson(r.queryKey[0]),\r\n    {\r\n      enabled: Boolean(id)\r\n    }\r\n  );\r\n  const deleteReq = useMutation<any, any, DeleteLessonRequest, any>(DeleteLesson as any);\r\n  const lesson = data?.data?.data;\r\n\r\n  return (\r\n    <AppLayout>\r\n      <AdminLessonViewContainer>\r\n        {(isLoading || deleteReq.isLoading) && <CircularProgress />}\r\n\r\n        {isLoading == false && deleteReq.isLoading == false &&\r\n          <>\r\n            <Typography className=\"fix\" variant=\"h3\">{lesson?.name}</Typography>\r\n            <Typography variant=\"body1\">номер: {lesson?.index}</Typography>\r\n            <Typography variant=\"body1\">тип: {lesson?.isPractice ? \"практика\" : \"теория\"}</Typography>\r\n\r\n            <Box mt={1} />\r\n            <Divider />\r\n\r\n            <MarkDown md={lesson?.content!} />\r\n\r\n            <Box mt={1} />\r\n            <Divider />\r\n\r\n            <Buttons>\r\n              <DeleteButton\r\n                disabled={deleteReq.isLoading}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  deleteReq.mutateAsync({ lessonId: lesson?.id.toString()! })\r\n                  .then((result) => {\r\n                    history.push(appRoutes.AdminLessons);\r\n                  });\r\n                }}>\r\n                удалить\r\n              </DeleteButton>\r\n\r\n              <Link to={appRoutes.getLessonEdit(lesson!?.id.toString())}>\r\n                <Button variant=\"contained\" color=\"primary\">\r\n                  редактировать\r\n                </Button>\r\n              </Link>\r\n            </Buttons>\r\n          </>\r\n        }\r\n      </AdminLessonViewContainer>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;","import { Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { Container } from './styled';\r\n\r\ntype InstructionPageProps = {}\r\n\r\nexport const InstructionPage: React.FC<InstructionPageProps> = (props) => {\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Инструкция</Typography>\r\n        <Typography variant=\"body1\">\r\n          Из это панели можно управлять проектом.\r\n        </Typography>\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { AppCard } from '../../../components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(226px, 1fr));\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n  }\r\n`;  \r\n\r\nexport const Item = styled(AppCard)`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport const ItemItems = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto auto 1fr;\r\n\r\n  margin-top: 0.5rem;\r\n  gap: 1rem;\r\n`;","import { Box, Button, CircularProgress, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useInfiniteQuery } from 'react-query';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { IApiResponse, GetLessonsResponse, GetAllPracticesOrders, GetAllPracticesOrdersResponse } from '../../../server';\r\nimport { Container, Content, Item, ItemItems } from './styled';\r\nimport DateRangeIcon from '@material-ui/icons/DateRange';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport { Link } from 'react-router-dom';\r\nimport { PracticeOrder } from '../../../models';\r\nimport { PracticeOrderView } from '../../../models/views/PracticeOrderView';\r\nimport { appRoutes } from '../../../App';\r\n\r\n\r\ntype PracticeCardProps = {\r\n  practice: PracticeOrderView\r\n}\r\nconst PracticeCard: React.FC<PracticeCardProps> = (props) => {\r\n  return (\r\n    <Link key={1} to={appRoutes.getAdminPractice(props.practice.id.toString())}>\r\n      <Item>\r\n        <Box textAlign=\"center\">{props.practice.id}</Box>\r\n\r\n        <ItemItems>\r\n          <ListAltIcon /> <div>урок</div> <div>{props.practice.lessonName}</div>\r\n          <MailIcon /> <div>ник</div> <div>{props.practice.userNick}</div>\r\n          <DateRangeIcon /> <div>дата</div> <div>{new Date(props.practice.createdDate).toLocaleDateString(\"ru-Ru\")}</div>\r\n        </ItemItems>\r\n      </Item>\r\n    </Link>\r\n  );\r\n}\r\n\r\ntype PracticesPageProps = {}\r\n\r\nconst pageLimit = 16;\r\nexport const PracticesPage: React.FC<PracticesPageProps> = (props) => {\r\n  const {\r\n    data,\r\n    error,\r\n    fetchNextPage,\r\n    hasNextPage,\r\n    isFetching,\r\n    isFetchingNextPage,\r\n    status,\r\n  } = useInfiniteQuery<AxiosResponse<IApiResponse<GetAllPracticesOrdersResponse>>>(\r\n    [\"practices\"], (({ pageParam = 1 }) => {\r\n      return GetAllPracticesOrders({ page: pageParam.toString()!, limit: pageLimit.toString() });\r\n    }) as any,\r\n    {\r\n      getNextPageParam: (lastPage, pages) => {\r\n        let total = lastPage.headers['x-total-count'];\r\n        let page = pages.length + 1;\r\n\r\n        if (page * pageLimit >= total) return undefined;\r\n\r\n        return page;\r\n      }\r\n    }\r\n  );\r\n\r\n  const practices = data?.pages?.map(el => el.data.data).flat(1) ?? [];\r\n  const cards = [];\r\n\r\n  for (let i = 0; i < practices.length; i++) {\r\n    const practice = practices[i];\r\n    cards.push(<PracticeCard key={practice.id} practice={practice} />);\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Практики пользователей</Typography>\r\n\r\n        <Content>\r\n          {cards}\r\n\r\n          {isFetching == false && cards.length == 0 && <Typography variant=\"body1\" color=\"primary\">Пока ничего нет...</Typography>}\r\n        </Content>\r\n\r\n        {(isFetching || isFetchingNextPage) &&\r\n          <Box mt={2}>\r\n            <CircularProgress />\r\n          </Box>\r\n        }\r\n\r\n        {isFetching == false && isFetchingNextPage == false &&\r\n          <Box display=\"flex\" justifyContent=\"center\" mt={2}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              disabled={!hasNextPage || isFetchingNextPage}\r\n              onClick={() => {\r\n                fetchNextPage();\r\n              }}>ещё</Button>\r\n          </Box>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import { Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport { AppColor } from '../../../App/style/theme/utilities/Colors';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const DeleteButton = styled(Button)`\r\n  button& {\r\n    background-color: ${p => p.theme.palette.accentRed.dark};\r\n\r\n    &:hover {\r\n      background-color: ${p => AppColor.From(p.theme.palette.accentRed.dark).shadeLightColor(-25).toRgba()};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Buttons = styled.div`\r\n  display: flex;\r\n  gap: 0 ${p => p.theme.spacing(2)}px;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const DownloadLink = styled.a`\r\n  display: inline-block;\r\n  margin: ${p => p.theme.spacing(2)}px 0;\r\n`;","import React from 'react';\r\nimport { Box, Button, CircularProgress, Divider, TextField, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport { useMutation, useQuery } from 'react-query';\r\nimport { Redirect, useParams } from 'react-router';\r\nimport { apiFiles, AppConsts, appFiles, appRoutes, RootState } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { IApiResponse, GetPracticeInfoResponse, GetPracticeInfo, RejectPractice, RejectPracticeRequest, ResolvePractice, ResolvePracticeRequest } from '../../../server';\r\nimport { Container, DeleteButton, Buttons, DownloadLink } from './styled';\r\nimport { MarkDown } from '../../../components';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\ntype PracticePageProps = {}\r\n\r\ntype PracticePageRouteParams = {\r\n  id: string\r\n}\r\ntype PracticePageInputs = {\r\n  reason: string\r\n}\r\nconst schema = Yup.object().shape({\r\n  reason: Yup.string().trim().required(\"поле обязательно\").min(24, \"минимум 24 символа\").max(256, \"максимум 256 символов\"),\r\n});\r\n\r\nexport const PracticePage: React.FC<PracticePageProps> = (props) => {\r\n  const history = useHistory();\r\n  const params = useParams<PracticePageRouteParams>();\r\n  const id = params.id;\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetPracticeInfoResponse>>>(\r\n    [{ practiceId: id }] as any,\r\n    (r: any) => GetPracticeInfo(r.queryKey[0]),\r\n    {\r\n      enabled: Boolean(id)\r\n    }\r\n  );\r\n  const user = useSelector((state: RootState) => state.user.userData);\r\n\r\n\r\n  const resolveReq = useMutation<any, any, ResolvePracticeRequest, any>(ResolvePractice as any);\r\n  const rejectReq = useMutation<any, any, RejectPracticeRequest, any>(RejectPractice as any);\r\n  const loading = isLoading || resolveReq.isLoading || rejectReq.isLoading;\r\n  const practice = data?.data?.data;\r\n\r\n  const { register, formState: { errors }, handleSubmit, getValues, watch, reset } = useForm<PracticePageInputs>({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onBlur\"\r\n  });\r\n\r\n  const [openReject, setOpenReject] = React.useState(false);\r\n  const [openResolve, setOpenResolve] = React.useState(false);\r\n  const [instuctionOpen, setInstructionOpen] = React.useState(false);\r\n\r\n  const rejectHandle = (data: PracticePageInputs) => {\r\n    rejectReq.mutateAsync({ description: data.reason, practiceId: id, teacherId: user?.id.toString()! })\r\n      .then((result) => {\r\n        history.push(appRoutes.Practices);\r\n      });\r\n  }\r\n\r\n  const resolveHandle = () => {\r\n    resolveReq.mutateAsync({ practiceId: id, teacherId: user?.id.toString()! })\r\n      .then((result) => {\r\n        history.push(appRoutes.Practices);\r\n      });\r\n  }\r\n\r\n\r\n  if (Boolean(id) == false) return <Redirect to={appRoutes.Practices} />;\r\n\r\n  if (practice && practice.isDone) return <Redirect to={appRoutes.Practices} />;\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Проверка практики</Typography>\r\n        <Box>\r\n          <IconButton title=\"инструкция\" color=\"primary\" onClick={() => setInstructionOpen(true)}>\r\n            <InfoIcon />\r\n          </IconButton>\r\n        </Box>\r\n        <Box mt={1}>\r\n          <Divider />\r\n        </Box>\r\n\r\n        {loading &&\r\n          <Box mt={2}><CircularProgress /></Box>\r\n        }\r\n\r\n        {loading == false && practice &&\r\n          <Box mt={2}>\r\n            <Typography variant=\"h4\">{practice?.lesson.name}</Typography>\r\n            <Typography variant=\"body1\">{practice?.lesson.description}</Typography>\r\n            <Box mt={2} />\r\n\r\n            <MarkDown md={practice?.lesson.content} />\r\n          </Box>\r\n        }\r\n\r\n        {loading == false && practice &&\r\n          <Box mt={2}>\r\n            <Divider />\r\n            <DownloadLink\r\n              title=\"скачать код ученика\"\r\n              href={apiFiles(practice?.codePath!)}\r\n              download\r\n              target=\"_self\"\r\n              type=\".zip,.rar,.7zip,.7z,application/octet-stream\"\r\n            >\r\n              <Button variant=\"contained\" color=\"primary\">скачать код</Button>\r\n            </DownloadLink>\r\n            <Divider />\r\n            <Buttons>\r\n              <DeleteButton\r\n                title=\"отказать\"\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={() => setOpenReject(true)}>отказать</DeleteButton>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                onClick={() => setOpenResolve(true)}\r\n                title=\"принять\">принять</Button>\r\n            </Buttons>\r\n          </Box>\r\n        }\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setOpenReject(false)} aria-labelledby=\"customized-dialog-title\" open={openReject}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Отказ практики <IconButton onClick={() => setOpenReject(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              <form onSubmit={handleSubmit(rejectHandle)} id=\"reasonform\">\r\n                Убедитесь что вы хорошо проверили работу ученика. Возможно он выполнил минимальные требования и может пройти этот урок.\r\n\r\n                <Box mb={2} />\r\n                <TextField\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  id=\"outlined-basic\"\r\n                  label=\"причина\"\r\n                  variant=\"filled\"\r\n                  key=\"reasonInput\"\r\n                  disabled={loading}\r\n                  error={Boolean(errors.reason?.message)}\r\n                  helperText={errors.reason?.message}\r\n                  {...register(\"reason\")}\r\n                />\r\n                <Box mb={2} />\r\n              </form>\r\n            </MuiDialogContent>\r\n            <MuiDialogActions>\r\n              <DeleteButton\r\n                disabled={resolveReq.isLoading}\r\n                form=\"reasonform\"\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                autoFocus\r\n                onClick={() => { }} color=\"primary\">\r\n                {rejectReq.isLoading ? <CircularProgress /> : \"отказать\"}\r\n              </DeleteButton>\r\n            </MuiDialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setOpenResolve(false)} aria-labelledby=\"customized-dialog-title\" open={openResolve}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Принять практику <IconButton onClick={() => setOpenResolve(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              Вы уверены что ученик выполнил всё требования?\r\n            </MuiDialogContent>\r\n            <MuiDialogActions>\r\n              <Button disabled={resolveReq.isLoading} variant=\"contained\" color=\"secondary\" autoFocus onClick={() => {\r\n                resolveHandle();\r\n              }}>\r\n                {resolveReq.isLoading ? <CircularProgress /> : \"принять\"}\r\n              </Button>\r\n            </MuiDialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              <p>Оцените работу ученика исходя из задания. Если она выполнена верно то примите её. Если присутствуют недочёты\r\n                то откажите и уточните причину, так человеку будет ясно что исправить.\r\n              </p>\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type CreateLessonRequest = {\r\n  index: number,\r\n  name: string,\r\n  description: string,\r\n  content: string,\r\n  isPractice: boolean\r\n}\r\n\r\nexport const CreateLesson: ApiQueryFunction<CreateLessonRequest, number> = (request, api = appApi) => {\r\n  return api.post(`/lesson`, request);\r\n};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;","import { yupResolver } from '@hookform/resolvers/yup';\r\nimport { Box, Button, CircularProgress, FormControlLabel, Switch, TextField, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useMutation } from 'react-query';\r\nimport { useHistory } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport { appRoutes } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { CreateLesson, CreateLessonRequest } from '../../../server/Queries/Lesson/CreateLesson';\r\nimport { Container } from './styled';\r\n\r\ntype LessonCreateProps = {}\r\n\r\ntype LessonCreateInputs = {\r\n  index: string\r\n  name: string\r\n  description: string\r\n  content: string\r\n  isPractice: boolean\r\n}\r\n\r\nconst schema = Yup.object().shape({\r\n  index: Yup.string().required(\"поле обязательно\").test(\"index min 0\", \"минимум 1\", (value) => {\r\n    return parseInt(value!) > 0;\r\n  }),\r\n  name: Yup.string().required(\"поле обязательно\"),\r\n  description: Yup.string().required(\"поле обязательно\"),\r\n  content: Yup.string().required(\"поле обязательно\"),\r\n  isPractice: Yup.boolean()\r\n});\r\n\r\nexport const LessonCreate: React.FC<LessonCreateProps> = (props) => {\r\n  const history = useHistory();\r\n  const createReq = useMutation<any, any, CreateLessonRequest, any>(CreateLesson as any);\r\n  const { register, formState: { errors }, handleSubmit, setValue } = useForm<LessonCreateInputs>({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onBlur\"\r\n  });\r\n\r\n  const handleCreate = (data: LessonCreateInputs) => {\r\n    createReq.mutateAsync({ content: data.content, description: data.description, index: parseInt(data.index), isPractice: data.isPractice ?? false, name: data.name })\r\n      .then(result => {\r\n        history.push(appRoutes.getLessonView(result.data.data));\r\n      });\r\n  }\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        {createReq.isLoading && <CircularProgress />}\r\n\r\n        {createReq.isLoading == false &&\r\n          <form onSubmit={handleSubmit(handleCreate)}>\r\n            <Typography className=\"fix\" variant=\"h3\">Создание урока</Typography>\r\n            <Box mb={2} />\r\n\r\n            <TextField\r\n              fullWidth\r\n              id=\"outlined-basic\"\r\n              label=\"название\"\r\n              variant=\"outlined\"\r\n              key=\"nameInput\"\r\n              type=\"text\"\r\n              error={Boolean(errors.name?.message)}\r\n              helperText={errors.name?.message}\r\n              {...register(\"name\")}\r\n              onChange={(e) => setValue(\"name\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <TextField\r\n              fullWidth\r\n              id=\"outlined-basic1\"\r\n              label=\"индекс\"\r\n              variant=\"outlined\"\r\n              key=\"indexInput\"\r\n              type=\"number\"\r\n              InputProps={{ inputProps: { min: 0 } }}\r\n              error={Boolean(errors.index?.message)}\r\n              helperText={errors.index?.message}\r\n              {...register(\"index\")}\r\n              onChange={(e) => setValue(\"index\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <TextField\r\n              fullWidth\r\n              id=\"outlined-basic3\"\r\n              label=\"краткое описание\"\r\n              variant=\"outlined\"\r\n              key=\"descriptionInput\"\r\n              type=\"text\"\r\n              error={Boolean(errors.description?.message)}\r\n              helperText={errors.description?.message}\r\n              {...register(\"description\")}\r\n              onChange={(e) => setValue(\"description\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <TextField\r\n              fullWidth\r\n              multiline\r\n              rowsMax=\"40\"\r\n              id=\"outlined-basic2\"\r\n              label=\"содержание\"\r\n              variant=\"outlined\"\r\n              key=\"contentInput\"\r\n              type=\"text\"\r\n              error={Boolean(errors.content?.message)}\r\n              helperText={errors.content?.message}\r\n              {...register(\"content\")}\r\n              onChange={(e) => {\r\n                e.preventDefault();\r\n                setValue(\"content\", e.target.value);\r\n              }}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  {...register(\"isPractice\")}\r\n                  onChange={(e: React.ChangeEvent<HTMLInputElement>) => setValue(\"isPractice\", e.target.checked as any)}\r\n                />\r\n              }\r\n              label=\"практика\"\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <Button\r\n              disabled={Boolean(errors.content || errors.description || errors.index || errors.name)}\r\n              variant=\"contained\"\r\n              type=\"submit\"\r\n              color=\"secondary\">\r\n              создать\r\n            </Button>\r\n          </form>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const SettingsContainer = styled.div`\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n`;","import { Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { ThemeToggler } from '../../../components';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { SettingsContainer } from './styled';\r\n\r\ntype SettingsPageProps = {}\r\n\r\nexport const SettingsPage: React.FC<SettingsPageProps> = (props) => {\r\n  return (\r\n    <AppLayout>\r\n      <SettingsContainer>\r\n        <div key=\"toggler\">\r\n          <Typography className=\"fix\" variant=\"h3\">Настройки</Typography>\r\n          <Typography variant=\"body1\">\r\n            Тема\r\n          </Typography>\r\n          <ThemeToggler />\r\n        </div>\r\n      </SettingsContainer>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { AppCard } from '../../../components';\r\n\r\nexport const AdminLessonsContainer = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const AdminLessonsContent = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(226px, 1fr));\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n  }\r\n`;  \r\n\r\nexport const AdminLessonsItem = styled(AppCard)`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport const AdminLessonsItemItems = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto auto 1fr;\r\n\r\n  margin-top: 0.5rem;\r\n  gap: 1rem;\r\n`;","import { Box, CircularProgress, Dialog, Divider, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppCard } from '../../../components';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { GetLessons, GetLessonsResponse, IApiResponse } from '../../../server';\r\nimport { AdminLessonsContainer, AdminLessonsContent, AdminLessonsItem, AdminLessonsItemItems } from './styled';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { appRoutes } from '../../../App';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport IconButton from '@material-ui/core/IconButton/IconButton';\r\n\r\ntype AdminLessonsProps = {}\r\n\r\nexport const AdminLessons: React.FC<AdminLessonsProps> = (props) => {\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetLessonsResponse>>>([\"lessons\"], GetLessons as any);\r\n  const [instuctionOpen, setInstructionOpen] = React.useState(false);\r\n\r\n  let lessons = data?.data.data;\r\n  lessons?.sort((l, r) => l.index - r.index);\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <AdminLessonsContainer>\r\n        <Typography className=\"fix\" variant=\"h3\">Уроки</Typography>\r\n\r\n        <Box mt={1} pb={2}>\r\n          <IconButton title=\"инструкция\" color=\"primary\" onClick={() => setInstructionOpen(true)}>\r\n            <InfoIcon />\r\n          </IconButton>\r\n          <Divider />\r\n        </Box>\r\n\r\n        {isLoading && <CircularProgress />}\r\n        <AdminLessonsContent>\r\n          {lessons?.map((lesson) => (\r\n            <Link key={lesson.id} to={appRoutes.getLessonView(lesson.id.toString())}>\r\n              <AdminLessonsItem>\r\n                <Box textAlign=\"center\">{lesson.name}</Box>\r\n\r\n                <AdminLessonsItemItems>\r\n                  <ListAltIcon /> <div>номер</div> <div>{lesson.index}</div>\r\n                  <AssignmentTurnedInIcon /> <div>тип</div> <div>{lesson.isPractice ? \"* практика\" : \"теория\"}</div>\r\n                </AdminLessonsItemItems>\r\n              </AdminLessonsItem>\r\n            </Link>\r\n          ))}\r\n\r\n          {isLoading == false &&\r\n            <Link key=\"create\" to=\"/admin/lessons/create\">\r\n              <AdminLessonsItem>\r\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" p={3}>\r\n                  <AddIcon />\r\n                </Box>\r\n              </AdminLessonsItem>\r\n            </Link>\r\n          }\r\n        </AdminLessonsContent>\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              <p>Список уроков. Важно чтобы индексы уроков шли по порядку и начинались с 1.</p>\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n      </AdminLessonsContainer >\r\n    </AppLayout >\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { AppColor } from '../../../App/style/theme/utilities/Colors';\r\nimport { AppCard } from '../../../components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const LessonsContent = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n  }\r\n`;  \r\n\r\nexport const LessonsItem = styled(AppCard)`\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  border: 1px solid ${p => p.theme.palette.layout.border};\r\n\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const LessonsItemDisabled = styled(LessonsItem)`\r\n  background-color: ${p => p.theme.palette.action.disabled};\r\n`;","import { Box, CircularProgress, Dialog, Divider, IconButton, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { GetLessons, GetLessonsResponse, IApiResponse } from '../../../server';\r\nimport { Container, LessonsContent, LessonsItem, LessonsItemDisabled } from './styled';\r\nimport { Link } from 'react-router-dom';\r\nimport { Lesson } from '../../../models/Lesson';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { appRoutes, RootState, setLessons } from '../../../App';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\ntype LessonsPageProps = {}\r\n\r\ntype LessonCardProps = {\r\n  disabled?: boolean\r\n  lesson: Lesson\r\n}\r\n\r\nconst LessonCard: React.FC<LessonCardProps> = (props) => {\r\n  if (props.disabled) {\r\n    return (\r\n      <LessonsItemDisabled>\r\n        <Box textAlign=\"center\">{props.lesson.name}</Box>\r\n\r\n        <Box display=\"flex\" mt={3} justifyContent=\"space-between\">\r\n          <div>{props.lesson.index}</div>\r\n          <div>{props.lesson.isPractice ? \"практика\" : \"теория\"}</div>\r\n        </Box>\r\n      </LessonsItemDisabled>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Link to={appRoutes.getLessonPage(props.lesson.id.toString())}>\r\n      <LessonsItem>\r\n        <Box textAlign=\"center\">{props.lesson.name}</Box>\r\n\r\n        <Box display=\"flex\" mt={3} justifyContent=\"space-between\">\r\n          <div>{props.lesson.index}</div>\r\n          <div>{props.lesson.isPractice ? \"практика\" : \"теория\"}</div>\r\n        </Box>\r\n      </LessonsItem>\r\n    </Link>\r\n  );\r\n}\r\n\r\n\r\nexport const LessonsPage: React.FC<LessonsPageProps> = (props) => {\r\n  const dispatch = useDispatch();\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetLessonsResponse>>>([\"lessons\"], GetLessons as any);\r\n  const user = useSelector((state: RootState) => state.user.userData);\r\n\r\n  const [instuctionOpen, setInstructionOpen] = React.useState(false);\r\n\r\n  let lessons = data?.data.data;\r\n  lessons?.sort((l, r) => l.index - r.index);\r\n\r\n  useEffect(() => {\r\n    if (isLoading == false && lessons) {\r\n      dispatch(setLessons(lessons!));\r\n    }\r\n  }, [isLoading]);\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Уроки</Typography>\r\n        <Box mt={1} pb={2}>\r\n          <IconButton title=\"инструкция\" color=\"primary\" onClick={() => setInstructionOpen(true)}>\r\n            <InfoIcon />\r\n          </IconButton>\r\n          <Divider />\r\n        </Box>\r\n\r\n        <LessonsContent>\r\n          {isLoading && <CircularProgress />}\r\n\r\n          {isLoading == false && lessons?.map((lesson, idx) => {\r\n            let status = true;\r\n\r\n            const prevLesson = lessons?.[idx - 1];\r\n            status = !Boolean(user?.userProgresses.some(p => p.lessonId == prevLesson?.id));\r\n\r\n            if (idx == 0) status = false;\r\n\r\n            return (\r\n              <LessonCard key={lesson.id} lesson={lesson} disabled={status} />\r\n            );\r\n          })}\r\n        </LessonsContent>\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              <p>Список уроков. Для доступа к следующему уроку нужно пройти предидущий.</p>\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import { Theme } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport styled from 'styled-components';\r\n\r\nexport const ProfileContainer = styled.div`\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const NickBlock = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const AvatarButtons = styled.div`\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0 8px;\r\n`;\r\n\r\nexport const useStyles = makeStyles(appTheme => {\r\n  const theme = appTheme as Theme;\r\n\r\n  return {\r\n    nickSaveButton: {\r\n      marginLeft: '16px',\r\n      width: '54px',\r\n      height: '54px'\r\n    }\r\n  };\r\n});","import { Box, Button, CircularProgress, IconButton, TextField, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { appFiles, RootState } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { ProfileContainer, NickBlock, useStyles, AvatarButtons } from './styled';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport { SignUpIcon } from '../SignUpPage/styled';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { PhotoCamera } from '@material-ui/icons';\r\nimport { ChangeAvatar, ChangeNick } from '../../../App';\r\n\r\ntype ProfilePageProps = {}\r\n\r\ntype ProfileInputs = {\r\n  nick: string\r\n  photo: FileList\r\n}\r\n\r\nconst schema = Yup.object().shape({\r\n  nick: Yup.string().required(\"поле обязательно\").min(6, \"не короче 6 символов\").max(64, \"не длиннее 64 символов\")\r\n});\r\n\r\nexport const ProfilePage: React.FC<ProfilePageProps> = (props) => {\r\n  const styles = useStyles();\r\n\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state: RootState) => state.user.userData);\r\n  const loading = useSelector((state: RootState) => state.user.loading);\r\n  const mainError = useSelector((state: RootState) => state.user.error);\r\n\r\n  const { register, formState: { errors }, watch, reset } = useForm<ProfileInputs>({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onChange\",\r\n  });\r\n  const newNick = watch(\"nick\");\r\n  const newPhoto = watch(\"photo\");\r\n  const userPhoto = newPhoto?.[0] ? URL.createObjectURL(newPhoto?.[0]) : appFiles(user?.photo!);\r\n  const hasPhoto = Boolean(newPhoto?.[0]);\r\n  const nickHasChanged = newNick && (newNick != user?.nick) && (Boolean(errors.nick?.message) == false);\r\n\r\n\r\n  const changeAvatar = () => {\r\n    dispatch(ChangeAvatar(newPhoto[0]));\r\n  }\r\n\r\n  const changeNick = () => {\r\n    dispatch(ChangeNick(newNick));\r\n  }\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <ProfileContainer>\r\n        <Typography className=\"fix\" key=\"maintitle\" variant=\"h3\">Профиль</Typography>\r\n\r\n        {loading && <CircularProgress key=\"loading\" />}\r\n\r\n        <Typography key=\"mainError\" color=\"error\">{mainError}</Typography>\r\n        <Box mb={1} key=\"box1\" />\r\n\r\n        <Typography key=\"nickTitle\">Ник</Typography>\r\n        <Box mb={1} key=\"box2\" />\r\n        <NickBlock key=\"Nick\">\r\n\r\n          <TextField\r\n            fullWidth\r\n            id=\"outlined-basic\"\r\n            label=\"ник\"\r\n            variant=\"outlined\"\r\n            key=\"nickInput\"\r\n            defaultValue={user?.nick}\r\n            type=\"text\"\r\n            disabled={loading}\r\n            error={Boolean(errors.nick?.message)}\r\n            helperText={errors.nick?.message}\r\n            {...register(\"nick\")}\r\n          />\r\n\r\n          {nickHasChanged && !errors.nick?.message &&\r\n            <IconButton disabled={loading} classes={{ root: styles.nickSaveButton }} color=\"primary\" onClick={changeNick}>\r\n              <DoneIcon />\r\n            </IconButton>}\r\n        </NickBlock>\r\n        <Box key=\"box3\" mb={2} />\r\n\r\n        <Typography>Аватар</Typography>\r\n        <Box mb={1} key=\"box4\" />\r\n        <div key=\"Avatar\">\r\n          <input\r\n            accept=\"image/*;capture=camera\"\r\n            key=\"photoInput\"\r\n            className=\"visually-hidden\"\r\n            id=\"userPhoto\"\r\n            type=\"file\"\r\n            disabled={loading}\r\n            {...register(\"photo\")}\r\n          />\r\n          <label htmlFor=\"userPhoto\">\r\n            <Button\r\n              disabled={loading}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"medium\"\r\n              startIcon={<PhotoCamera />}\r\n              component=\"span\"\r\n            >\r\n              {hasPhoto ? \"поменять фото\" : \"выбрать фото\"}\r\n            </Button>\r\n          </label>\r\n          <AvatarButtons>\r\n            <label htmlFor=\"userPhoto\">\r\n              <SignUpIcon src={userPhoto} />\r\n            </label>\r\n            {hasPhoto &&\r\n              <IconButton disabled={loading} aria-label=\"clear avatar\" key=\"clearAvatar\" onClick={() => {\r\n                reset({ photo: undefined });\r\n              }}>\r\n                <ClearIcon />\r\n              </IconButton>\r\n            }\r\n            {hasPhoto &&\r\n              <IconButton disabled={loading} aria-label=\"save avatar\" key=\"saveAvatar\" color=\"secondary\" onClick={changeAvatar}>\r\n                <DoneIcon />\r\n              </IconButton>\r\n            }\r\n          </AvatarButtons>\r\n        </div>\r\n      </ProfileContainer>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Buttons = styled.div`\r\n  display: flex;\r\n  gap: 0 ${p => p.theme.spacing(2)}px;\r\n  align-items: center;\r\n`;","import React, { useRef, useState } from 'react';\r\nimport { Box, Button, CircularProgress, Dialog, Divider, IconButton, Tooltip, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport { useQuery } from 'react-query';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect, useHistory, useParams } from 'react-router';\r\nimport { AddProgress, AddUserPracticeOrder, appRoutes, RootState } from '../../../App';\r\nimport { MarkDown } from '../../../components';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { GetLesson, GetLessonResponse, IApiResponse } from '../../../server';\r\nimport { Container, Buttons } from './styled';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { PhotoCamera } from '@material-ui/icons';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\ntype LessonPageProps = {}\r\n\r\ntype LessonPageRouteParams = {\r\n  id: string\r\n}\r\n\r\nexport const LessonPage: React.FC<LessonPageProps> = (props) => {\r\n  const dispatch = useDispatch();\r\n  const params = useParams<LessonPageRouteParams>();\r\n  const history = useHistory();\r\n  const id = params.id;\r\n\r\n  const storeLoading = useSelector((state: RootState) => state.user.loading);\r\n  const storeError = useSelector((state: RootState) => state.user.error);\r\n\r\n  const [instuctionOpen, setInstructionOpen] = React.useState(false);\r\n\r\n  const [codeError, setCodeError] = useState(\"\");\r\n\r\n  const [userCode, setUserCode] = useState<File | null>(null);\r\n  const codeRef = useRef<HTMLInputElement>(null);\r\n\r\n  const lessons = useSelector((state: RootState) => state.data.lessons);\r\n  const user = useSelector((state: RootState) => state.user.userData);\r\n  const userPractices = useSelector((state: RootState) => state.user.userData?.practiceOrders);\r\n  const lastPractice = userPractices?.sort((l, r) => Date.parse(r.createdDate) - Date.parse(l.createdDate))[0];\r\n\r\n  // lesson status\r\n  let isOnProgress = false;\r\n  if (lastPractice && (lastPractice.isDone == false)) isOnProgress = true;\r\n  let hasDone = false;\r\n\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetLessonResponse>>>(\r\n    [{ lessonId: id }] as any,\r\n    (r: any) => GetLesson(r.queryKey[0]),\r\n    {\r\n      enabled: Boolean(id)\r\n    }\r\n  );\r\n  const loading = isLoading || storeLoading;\r\n\r\n  // lesson access check\r\n  const lesson = data?.data?.data;\r\n  lessons?.sort((l, r) => l.index - r.index);\r\n  if (lesson) {\r\n    let status = true;\r\n    const prevLesson = lessons?.[lesson.index - 2];\r\n    status = !Boolean(user?.userProgresses.some(p => p.lessonId == prevLesson?.id));\r\n    hasDone = Boolean(user?.userProgresses.some(p => p.lessonId == lesson.id));\r\n\r\n    if (lesson.index == 1) status = false;\r\n\r\n    if (status) return <Redirect to={appRoutes.Lessons} />;\r\n  }\r\n\r\n  // id is not found\r\n  if (Boolean(id) == false) {\r\n    return <Redirect to={appRoutes.Lessons} />;\r\n  }\r\n\r\n  const addProgressHandle = () => {\r\n    dispatch<any>(AddProgress({ userId: user?.id.toString()!, lessonId: lesson?.id.toString()! }))\r\n      .then((result: any) => {\r\n        history.push(appRoutes.Lessons);\r\n      });\r\n  }\r\n\r\n  const addPracticeHandle = () => {\r\n    if (Boolean(userCode) == false) return setCodeError(\"выбирите архив с готовым проектом\");\r\n    dispatch(AddUserPracticeOrder({ codeFile: userCode!, lessonId: lesson?.id.toString()!, userId: user?.id.toString()! }));\r\n  }\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" color=\"error\">{storeError}</Typography>\r\n\r\n        {loading && <CircularProgress />}\r\n\r\n        {loading == false &&\r\n          <>\r\n            <Typography variant=\"h3\">{lesson?.name}</Typography>\r\n            <Typography variant=\"body1\">{lesson?.description}</Typography>\r\n\r\n            <Box mt={1} pb={2}>\r\n              <Divider />\r\n              <IconButton title=\"инструкция\" color=\"primary\" onClick={() => setInstructionOpen(true)}>\r\n                <InfoIcon />\r\n              </IconButton>\r\n              <Divider />\r\n            </Box>\r\n\r\n            <MarkDown md={lesson?.content!} />\r\n\r\n            <Box mt={1} mb={1}>\r\n              <Divider />\r\n            </Box>\r\n          </>\r\n        }\r\n\r\n        {loading == false && hasDone == false && Boolean(lesson?.isPractice) == false &&\r\n          <Box mt={5}>\r\n            <Tooltip title=\"завершить урок\">\r\n              <Button startIcon={<SaveIcon />} variant=\"outlined\" color=\"primary\" onClick={addProgressHandle}>завершить</Button>\r\n            </Tooltip>\r\n          </Box>\r\n        }\r\n\r\n        {loading == false && hasDone == false && lastPractice && lesson?.isPractice &&\r\n          <div>\r\n            <div>\r\n              дата прохождения: {new Date(lastPractice.createdDate).toLocaleDateString('ru-RU')}\r\n            </div>\r\n\r\n            {isOnProgress &&\r\n              <Typography color=\"primary\">Работа ждёт проверки.</Typography>\r\n            }\r\n\r\n            {isOnProgress == false &&\r\n              <Typography color=\"primary\">причина отказа: {lastPractice.rejectReason}</Typography>\r\n            }\r\n\r\n            <Box mt={1} mb={1}>\r\n              <Divider />\r\n            </Box>\r\n          </div>\r\n        }\r\n\r\n        {loading == false && hasDone == false && Boolean(lesson?.isPractice) && isOnProgress == false &&\r\n          <form onSubmit={(e: React.FormEvent) => {\r\n            e.preventDefault();\r\n\r\n            addPracticeHandle();\r\n          }}>\r\n            <Typography color=\"error\">{codeError}</Typography>\r\n            <input\r\n              accept=\".zip,.rar,.7zip,.7z\"\r\n              key=\"codeInput\"\r\n              className=\"visually-hidden\"\r\n              id=\"usercode\"\r\n              type=\"file\"\r\n              ref={codeRef}\r\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                const file = e.target?.files?.[0];\r\n\r\n                if (Boolean(file) == false) return;\r\n\r\n                setUserCode(file as File);\r\n              }}\r\n            />\r\n\r\n            <Box mt={5}>\r\n              <Buttons>\r\n                <label htmlFor=\"usercode\">\r\n                  <Button\r\n                    disabled={loading}\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    size=\"medium\"\r\n                    startIcon={<PhotoCamera />}\r\n                    component=\"span\"\r\n                  >\r\n                    {userCode ? \"изменить\" : \"выбрать\"}\r\n                  </Button>\r\n                </label>\r\n\r\n                {userCode &&\r\n                  <div>{userCode.name}</div>\r\n                }\r\n\r\n                {userCode &&\r\n                  <IconButton disabled={loading} aria-label=\"clear avatar\" key=\"clearAvatar\" onClick={() => {\r\n                    if (codeRef.current) {\r\n                      codeRef.current.type = \"text\";\r\n                      codeRef.current.type = \"file\";\r\n                      setUserCode(null);\r\n                    }\r\n                  }}>\r\n                    <ClearIcon />\r\n                  </IconButton>\r\n                }\r\n              </Buttons>\r\n            </Box>\r\n\r\n            <Box mt={2} />\r\n            <Button variant=\"outlined\" color=\"primary\" type=\"submit\">Отправить</Button>\r\n          </form>\r\n        }\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              {lesson?.isPractice &&\r\n                <p>Чтобы завершить урок вам нужно выполнить задание. Напишите ваше решение и упокуйте его в архив.\r\n                  <br /> Понадобится время на проверку, подождите пока преподователи проверят работу.\r\n                </p>\r\n              }\r\n\r\n              {lesson?.isPractice == false &&\r\n                <p>Ознакомтесь с материалом урока и в конце нажмите завершить чтобы окончить урок.</p>\r\n              }\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const InstructionLink = styled.a`\r\n  color: ${p => p.theme.palette.accentBlue.main};\r\n\r\n  &:visited {\r\n    color: ${p => p.theme.palette.accentBlue.main};\r\n  }\r\n`;","import React, { useEffect, useState } from 'react';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { Container, InstructionLink } from './styled';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { GetLesson, GetLessonResponse, IApiResponse, EditLesson, EditLessonRequest } from '../../../server';\r\nimport { useMutation, useQuery } from 'react-query';\r\nimport { AxiosResponse } from 'axios';\r\nimport { Box, Button, CircularProgress, Dialog, Divider, IconButton, TextField, Typography } from '@material-ui/core';\r\nimport { appRoutes } from '../../../App';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport { DeleteButton } from '../AdminViewLesson/styled';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n\r\ntype LessonWorkProps = {}\r\n\r\ntype AdminEditLessonRouteParams = {\r\n  id: string\r\n}\r\n\r\ntype LessonWorkInputs = {\r\n  index: string\r\n  name: string\r\n  description: string\r\n  content: string\r\n}\r\n\r\nconst schema = Yup.object().shape({\r\n  index: Yup.string().required(\"поле обязательно\").test(\"index min 0\", \"минимум 1\", (value) => {\r\n    return parseInt(value!) > 0;\r\n  }),\r\n  name: Yup.string().required(\"поле обязательно\"),\r\n  description: Yup.string().required(\"поле обязательно\"),\r\n  content: Yup.string().required(\"поле обязательно\")\r\n});\r\n\r\nexport const LessonWork: React.FC<LessonWorkProps> = (props) => {\r\n  const history = useHistory();\r\n  const params = useParams<AdminEditLessonRouteParams>();\r\n  const id = params.id;\r\n\r\n  const [instuctionOpen, setInstructionOpen] = useState(false);\r\n\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetLessonResponse>>>(\r\n    [{ lessonId: id }] as any,\r\n    (r: any) => GetLesson(r.queryKey[0]),\r\n    {\r\n      enabled: Boolean(id)\r\n    }\r\n  );\r\n  const editReq = useMutation<any, any, EditLessonRequest, any>(EditLesson as any);\r\n  const lesson = data?.data?.data;\r\n  const { register, formState: { errors }, handleSubmit, setValue } = useForm<LessonWorkInputs>({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onBlur\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isLoading == false) {\r\n      setValue(\"content\", lesson?.content!);\r\n      setValue(\"description\", lesson?.description!);\r\n      setValue(\"name\", lesson?.name!);\r\n      setValue(\"index\", lesson?.index.toString()!);\r\n    }\r\n  }, [isLoading]);\r\n\r\n  const handleEdit = (data: LessonWorkInputs) => {\r\n    editReq.mutateAsync({ content: data.content, description: data.description, index: data.index, name: data.name, lessonId: lesson?.id.toString()! })\r\n      .then((result) => history.push(appRoutes.getLessonView(lesson?.id.toString()!)));\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        {(isLoading || editReq.isLoading) && <CircularProgress />}\r\n\r\n        {isLoading == false && editReq.isLoading == false &&\r\n          <form onSubmit={handleSubmit(handleEdit)}>\r\n            <Typography className=\"fix\" variant=\"h3\">{lesson?.name}</Typography>\r\n            <Box>\r\n              <IconButton title=\"инструкция\" color=\"primary\" onClick={() => setInstructionOpen(true)}>\r\n                <InfoIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box mt={1} pb={2}>\r\n              <Divider />\r\n            </Box>\r\n\r\n            <TextField\r\n              fullWidth\r\n              id=\"outlined-basic\"\r\n              label=\"название\"\r\n              variant=\"outlined\"\r\n              key=\"nameInput\"\r\n              defaultValue={lesson?.name}\r\n              type=\"text\"\r\n              error={Boolean(errors.name?.message)}\r\n              helperText={errors.name?.message}\r\n              {...register(\"name\")}\r\n              onChange={(e) => setValue(\"name\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <TextField\r\n              fullWidth\r\n              id=\"outlined-basic1\"\r\n              label=\"индекс\"\r\n              variant=\"outlined\"\r\n              key=\"indexInput\"\r\n              type=\"number\"\r\n              InputProps={{ inputProps: { min: 0 } }}\r\n              defaultValue={lesson?.index}\r\n              error={Boolean(errors.index?.message)}\r\n              helperText={errors.index?.message}\r\n              {...register(\"index\")}\r\n              onChange={(e) => setValue(\"index\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <TextField\r\n              fullWidth\r\n              id=\"outlined-basic3\"\r\n              label=\"краткое описание\"\r\n              variant=\"outlined\"\r\n              key=\"descriptionInput\"\r\n              type=\"text\"\r\n              defaultValue={lesson?.description}\r\n              error={Boolean(errors.description?.message)}\r\n              helperText={errors.description?.message}\r\n              {...register(\"description\")}\r\n              onChange={(e) => setValue(\"description\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <TextField\r\n              fullWidth\r\n              multiline\r\n              id=\"outlined-basic2\"\r\n              label=\"содержание\"\r\n              variant=\"outlined\"\r\n              key=\"contentInput\"\r\n              type=\"text\"\r\n              defaultValue={lesson?.content}\r\n              error={Boolean(errors.content?.message)}\r\n              helperText={errors.content?.message}\r\n              {...register(\"content\")}\r\n              onChange={(e) => setValue(\"content\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <Button\r\n              disabled={Boolean(errors.content || errors.description || errors.index || errors.name)}\r\n              variant=\"contained\"\r\n              type=\"submit\"\r\n              color=\"secondary\">\r\n              редактировать\r\n            </Button>\r\n          </form>\r\n        }\r\n\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              <p>Чтобы вставить не внешнуюю картинку, следует вставить ![] (/appstatic/name)</p>\r\n              <p>все возможности создания разметки можно узнать <InstructionLink\r\n                href=\"https://about.gitlab.com/handbook/markdown-guide/\"\r\n                target=\"_blank\">здесь</InstructionLink>\r\n              </p>\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { AppCard } from '../../../components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Search = styled.form`\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  padding: 1rem 0;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(226px, 1fr));\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n  }\r\n`;  \r\n\r\nexport const Item = styled(AppCard)`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport const ItemItems = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto auto 1fr;\r\n\r\n  margin-top: 0.5rem;\r\n  gap: 1rem;\r\n`;\r\n\r\nexport const ToolButtons = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n`;","import { Box, Button, CircularProgress, Dialog, Divider, IconButton, TextField, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React, { useRef, useState } from 'react';\r\nimport { useInfiniteQuery } from 'react-query';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { IApiResponse, GetAllUsersResponse, GetAllUsers } from '../../../server';\r\nimport { Container, Content, Search, Item, ItemItems, ToolButtons } from './styled';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { User, UserRoles } from '../../../models';\r\nimport { appRoutes } from '../../../App';\r\nimport { Link } from 'react-router-dom';\r\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport WorkIcon from '@material-ui/icons/Work';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\n\r\ntype UserCardProps = {\r\n  user: User\r\n};\r\nconst UserCard: React.FC<UserCardProps> = (props) => {\r\n  let userRole = props.user.roles[0];\r\n  let userRoleString = \"ученик\";\r\n  if (userRole == 1) userRoleString = \"учитель\";\r\n  if (userRole == 2) userRoleString = \"админ\";\r\n\r\n  return (\r\n    <Link key={1} to={appRoutes.getAdminUser(props.user.id.toString())}>\r\n      <Item>\r\n        <Box textAlign=\"center\">{props.user.nick}</Box>\r\n\r\n        <ItemItems>\r\n          <AssignmentIndIcon /> <div>id</div> <div>{props.user.id}</div>\r\n          <MailIcon /> <div>почта</div> <div>{props.user.mail}</div>\r\n          <WorkIcon /> <div>роль</div> <div>{userRoleString}</div>\r\n        </ItemItems>\r\n      </Item>\r\n    </Link>\r\n  );\r\n}\r\n\r\ntype AdminUsersProps = {}\r\n\r\nconst pageLimit = 8;\r\nexport const AdminUsers: React.FC<AdminUsersProps> = (props) => {\r\n  const [searchError, setSearchError] = useState(\"\");\r\n  const searchRef = useRef<HTMLInputElement>(null);\r\n\r\n  const {\r\n    data,\r\n    error,\r\n    fetchNextPage,\r\n    hasNextPage,\r\n    isFetching,\r\n    isFetchingNextPage,\r\n    status,\r\n    refetch\r\n  } = useInfiniteQuery<AxiosResponse<IApiResponse<GetAllUsersResponse>>>(\r\n    [\"practices\"], (({ pageParam = 1 }) => {\r\n      return GetAllUsers({ page: pageParam.toString(), search: searchRef.current?.value?.trim() ?? \"\", limit: pageLimit.toString() });\r\n    }) as any,\r\n    {\r\n      getNextPageParam: (lastPage, pages) => {\r\n        let total = lastPage.headers['x-total-count'];\r\n        let page = pages.length + 1;\r\n\r\n        if (page * pageLimit > total) return undefined;\r\n\r\n        return page;\r\n      }\r\n    }\r\n  );\r\n  const loading = isFetching || isFetchingNextPage;\r\n\r\n  const [instuctionOpen, setInstructionOpen] = React.useState(false);\r\n\r\n  const users = data?.pages?.map(el => el.data.data).flat(1) ?? [];\r\n  const cards = [];\r\n\r\n  for (let i = 0; i < users.length; i++) {\r\n    const currentUser = users[i];\r\n    cards.push(<UserCard key={currentUser.id} user={currentUser} />);\r\n  }\r\n\r\n  const searchHandle = () => {\r\n    if (loading) return;\r\n\r\n    const search = searchRef.current?.value?.trim() ?? \"\";\r\n\r\n    if (Boolean(search) == false) return setSearchError(\"поле пустое\");\r\n    if (search.length > 64) return setSearchError(\"максимум 64 символа\");\r\n\r\n    setSearchError(\"\");\r\n    refetch();\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Пользователи</Typography>\r\n\r\n        <Search onSubmit={(e: React.FormEvent) => {\r\n          e.preventDefault();\r\n\r\n          searchHandle();\r\n        }}>\r\n          <TextField\r\n            inputRef={searchRef}\r\n            fullWidth\r\n            id=\"outlined-basic\"\r\n            label=\"ник или mail пользователя\"\r\n            variant=\"outlined\"\r\n            key=\"searchInput\"\r\n            error={Boolean(searchError)}\r\n            helperText={searchError}\r\n            disabled={loading}\r\n          />\r\n\r\n          <IconButton type=\"submit\">\r\n            <SearchIcon />\r\n          </IconButton>\r\n        </Search>\r\n\r\n        <ToolButtons>\r\n          <IconButton color=\"primary\" onClick={() => {\r\n            if (searchRef.current) searchRef.current.value = \"\";\r\n\r\n            setSearchError(\"\");\r\n            refetch();\r\n          }}>\r\n            <RefreshIcon />\r\n          </IconButton>\r\n          <IconButton title=\"инструкция\" onClick={() => setInstructionOpen(true)}>\r\n            <InfoIcon />\r\n          </IconButton>\r\n        </ToolButtons>\r\n        <Divider />\r\n\r\n        <Content>\r\n          {cards}\r\n\r\n          {isFetching == false && cards.length == 0 && <Typography variant=\"body1\" color=\"primary\">Пока ничего нет...</Typography>}\r\n        </Content>\r\n\r\n        {(isFetching || isFetchingNextPage) &&\r\n          <Box mt={2} textAlign=\"center\">\r\n            <CircularProgress />\r\n          </Box>\r\n        }\r\n\r\n        {isFetching == false && isFetchingNextPage == false &&\r\n          <Box display=\"flex\" justifyContent=\"center\" mt={2}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              disabled={!hasNextPage || isFetchingNextPage}\r\n              onClick={() => {\r\n                fetchNextPage();\r\n              }}>ещё</Button>\r\n          </Box>\r\n        }\r\n\r\n        {isFetching == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              Список пользователей\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: inline-grid;\r\n  grid-template-columns: repeat(3, auto);\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n`;\r\n\r\nexport const RoleRow = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin: 1rem 0;\r\n  padding: 1px 0;\r\n`;","import { Box, Button, CircularProgress, FormControl, FormHelperText, InputLabel, MenuItem, Select, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useQuery, useMutation } from 'react-query';\r\nimport { useParams } from 'react-router';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { appRoutes } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { IApiResponse, GetUserDetailedResponse, GetUserDetailed, BanUserRequest, BanUser, ChangeUserRoleRequest, ChangeUserRole } from '../../../server';\r\nimport { Container, Content, RoleRow } from './stlyed';\r\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport WorkIcon from '@material-ui/icons/Work';\r\n\r\ntype AdminUserProps = {}\r\n\r\ntype AdminUserRouteParams = {\r\n  id: string\r\n}\r\n\r\nexport const AdminUser: React.FC<AdminUserProps> = (props) => {\r\n  const params = useParams<AdminUserRouteParams>();\r\n  const id = params.id;\r\n\r\n  const [userRole, setUserRole] = useState(0);\r\n  const [roleError, setRoleError] = useState(\"\");\r\n\r\n  const { data, isError, error, isLoading, refetch } = useQuery<AxiosResponse<IApiResponse<GetUserDetailedResponse>>>(\r\n    [{ userId: id }] as any,\r\n    (r: any) => GetUserDetailed(r.queryKey[0]),\r\n    {\r\n      enabled: Boolean(id)\r\n    }\r\n  );\r\n  const banReq = useMutation<any, any, BanUserRequest, any>(BanUser as any);\r\n  const changeRoleReq = useMutation<any, any, ChangeUserRoleRequest, any>(ChangeUserRole as any);\r\n  const user = data?.data?.data;\r\n\r\n  const loading = banReq.isLoading || changeRoleReq.isLoading || isLoading;\r\n\r\n  useEffect(() => {\r\n    if (isLoading == false && user) {\r\n      setUserRole(user.roles[0]);\r\n    }\r\n  }, [isLoading]);\r\n\r\n  const changeRoleHandle = () => {\r\n    if (user?.roles[0] == userRole) return setRoleError(\"эта роль уже выбрана\");\r\n\r\n    changeRoleReq.mutateAsync({userId: user?.id?.toString()!, newRole: userRole.toString()})\r\n      .then((result) => refetch());\r\n  }\r\n\r\n  const banHandle = () => {\r\n    banReq.mutateAsync({userForBannId: user?.id.toString()!})\r\n      .then((result) => refetch());\r\n  }\r\n\r\n  if (Boolean(id) == false) return <Redirect to={appRoutes.App} />\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        {loading && <CircularProgress />}\r\n\r\n        {isLoading == false && user &&\r\n          <Typography className=\"fix\" variant=\"h3\">{user.nick}</Typography>\r\n        }\r\n\r\n        {isLoading == false &&\r\n          <div>\r\n            <Content>\r\n              <AssignmentIndIcon /> <div>id</div> <div>{user?.id}</div>\r\n              <MailIcon /> <div>mail</div> <div>{user?.mail}</div>\r\n            </Content>\r\n\r\n            <RoleRow>\r\n              <div><WorkIcon /></div>\r\n              <div>роль</div>\r\n              <div>\r\n                <FormControl variant=\"outlined\" fullWidth error={Boolean(roleError)} disabled={loading}>\r\n                  <InputLabel id=\"rolelabel\">Age</InputLabel>\r\n                  <Select\r\n                    labelId=\"rolelabel\"\r\n                    id=\"rolelabel1\"\r\n                    value={userRole}\r\n                    onChange={(e: React.ChangeEvent<{ value: any }>) => setUserRole(e.target.value)}\r\n                    label=\"Age\"\r\n                    disabled={loading}\r\n                  >\r\n                    <MenuItem value={0}>Ученик</MenuItem>\r\n                    <MenuItem value={1}>Учитель</MenuItem>\r\n                    <MenuItem value={2}>Админ</MenuItem>\r\n                  </Select>\r\n                  <FormHelperText>{roleError}</FormHelperText>\r\n                </FormControl>\r\n              </div>\r\n              <Button variant=\"text\" color=\"primary\" onClick={changeRoleHandle} disabled={loading}>\r\n                {changeRoleReq.isLoading ? <CircularProgress size={14} /> : \"изменить\"}\r\n              </Button>\r\n            </RoleRow>\r\n\r\n            <Box>\r\n              <Button\r\n                onClick={banHandle}\r\n                variant={user?.isBanned ? \"contained\" : \"text\"} color=\"primary\"\r\n                disabled={loading}>\r\n                {banReq.isLoading && <CircularProgress size={14} />}\r\n                {user?.isBanned ? \"разбанить пользователя\" : \"забанить пользователя\"}\r\n              </Button>\r\n            </Box>\r\n          </div>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled, { keyframes } from 'styled-components';\r\nimport { AppImg } from '../../../components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n  overflow: hidden;\r\n  height: 100%;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  position: relative;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Planets = styled.div`\r\n  position: relative;\r\n  perspective: 800px;\r\n  transform-style: preserve-3d;\r\n  transform-origin: center;\r\n`;\r\n\r\nconst rotate = keyframes`\r\n  0% {\r\n    transform: translateZ(450px) translateY(-45px) translateX(0) rotateZ(0deg);\r\n  }\r\n  25%{\r\n    transform: translateZ(400px) translateY(-40px) translateX(-100px)  rotateZ(90deg);\r\n  }\r\n  50%{\r\n    transform: translateZ(350px) translateY(-35px) translateX(0)  rotateZ(180deg);\r\n  }\r\n  75%{\r\n    transform: translateZ(400px) translateY(-40px) translateX(+100px)  rotateZ(270deg);\r\n  }\r\n  100% {\r\n    transform: translateZ(450px) translateY(-45px) translateX(0)  rotateZ(360deg);\r\n  }\r\n`;\r\nconst rotate1 = keyframes`\r\n  from {\r\n    transform: rotateZ(0deg) translateZ(400px) translateY(45px);\r\n  }\r\n  to{\r\n    transform: rotateZ(-360deg) translateZ(400px) translateY(45px);\r\n  }\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  max-width: 200px;\r\n  object-fit: cover;\r\n  object-position: center;\r\n  margin: 0 auto;\r\n  display: block;\r\n\r\n  transform-origin: 101px 115px;\r\n  animation: ${rotate1} 7s infinite linear;\r\n`;\r\n\r\nexport const ImgLove = styled.img`\r\n  max-width: 55px;\r\n  object-fit: cover;\r\n  object-position: center;\r\n  margin: 0 auto;\r\n  display: block;\r\n  transform: translateZ(450px) translateY(-45px);\r\n  transform-origin: center;\r\n  animation: ${rotate} 7s infinite linear;\r\n`;\r\n\r\nexport const AboutImg = styled(AppImg)`\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  max-width: 600px;\r\n  aspect-ratio: 4 / 3;\r\n  width: 100%;\r\n`;","export default __webpack_public_path__ + \"static/media/react_img.73ac128a.png\";","export default __webpack_public_path__ + \"static/media/globalweb.de200d6a.webp\";","export default __webpack_public_path__ + \"static/media/react_material.267187f3.png\";","import React from 'react';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { Container, Content, Img, ImgLove, Planets, AboutImg } from './styled';\r\nimport ReactImage from '../../../appstatic/react_img.png';\r\nimport ReactLove from '../../../appstatic/react_logo.svg';\r\nimport { Box, Divider, Typography } from '@material-ui/core';\r\nimport globalImg from '../../../appstatic/globalweb.webp';\r\nimport reactMaterial from '../../../appstatic/react_material.png';\r\nimport { AppImg } from '../../../components';\r\n\r\ntype AboutPageProps = {}\r\n\r\nexport const AboutPage: React.FC<AboutPageProps> = (props) => {\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">О проекте</Typography>\r\n        <Box paddingY={1}>\r\n          <Divider />\r\n        </Box>\r\n\r\n        <Content>\r\n          <Planets>\r\n            <Img src={ReactImage} alt=\"react image\" />\r\n            <ImgLove src={ReactLove} alt=\"react Love image\" />\r\n          </Planets>\r\n\r\n          <Box mt={8} />\r\n          <Typography variant=\"body1\">\r\n            React.js - JavaScript-библиотека для создания пользовательских интерфейсов.\r\n            Данный проект поможет вам изучить технологию React.js и понять её преимущества и недостатки.\r\n          </Typography>\r\n\r\n          <AboutImg alt=\"react\" src={reactMaterial} />\r\n          <Typography variant=\"body1\">\r\n            React — JavaScript-библиотека с открытым исходным кодом\r\n            для разработки пользовательских интерфейсов. React разрабатывается и\r\n            поддерживается Facebook, Instagram и сообществом отдельных\r\n            разработчиков и корпораций. React может использоваться\r\n            для разработки одностраничных и мобильных приложений\r\n          </Typography>\r\n          <AboutImg alt=\"react\" src={globalImg} />\r\n          <Typography variant=\"body1\">\r\n            В ходе курса мы изучим с вами react от основ до продвинутых тем. Надеемся что вам понравится. Давайте учиться вместе.\r\n          </Typography>\r\n          <Typography variant=\"h5\">\r\n            Для написания материалов к курсу использовались материалы сайта - https://metanit.com/\r\n          </Typography>\r\n          <Typography variant=\"h5\">\r\n            Большое спасибо автору данного сайта. Евгений просто Программист с большой буквы, для изучения других тем советую данный сайт.\r\n          </Typography>\r\n        </Content>\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { AppColor } from '../../../App/style/theme/utilities/Colors';\r\n\r\nexport const AdminMainContainer = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const AdminContent = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n\r\n  margin-top: 1rem;\r\n`;\r\n\r\nexport const AdminLink = styled(Link)`\r\n  color: ${p => p.theme.palette.accentBlue.main} !important;\r\n  border: 1px solid ${p => p.theme.palette.accentBlue.main};\r\n  padding: ${p => p.theme.spacing(1)}px;\r\n  border-radius: 2px;\r\n  text-align: center;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: ${p => AppColor.From(p.theme.palette.accentBlue.main).changeOpacity(-80).toRgba()};\r\n  }\r\n`;","import { Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { appRoutes } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { AdminLink, AdminMainContainer, AdminContent } from './styled';\r\n\r\ntype AdminMainProps = {}\r\n\r\nexport const AdminMain: React.FC<AdminMainProps> = (props) => {\r\n  return (\r\n    <AppLayout>\r\n      <AdminMainContainer>\r\n        <Typography className=\"fix\" variant=\"h3\">Админ панель</Typography>\r\n\r\n        <AdminContent>\r\n          <AdminLink to={appRoutes.AdminUsers}>Пользователи</AdminLink>\r\n          <AdminLink to={appRoutes.Practices}>Практики</AdminLink>\r\n          <AdminLink to={appRoutes.AdminLessons}>Уроки</AdminLink>\r\n          <AdminLink to={appRoutes.AdminInstruction}>инструкция</AdminLink>\r\n        </AdminContent>\r\n      </AdminMainContainer>\r\n    </AppLayout>\r\n  );\r\n};","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router';\r\nimport { MainPage } from '../../containers/pages/MainPage';\r\nimport { LoginPage } from '../../containers/pages/LoginPage/LoginPage';\r\nimport { SignUpPage } from '../../containers/pages/SignUpPage';\r\nimport { ByAuth, ByRole } from './politics';\r\nimport { routeConfig } from './RouteConfig';\r\nimport { Secure, SecureProps } from './Secure';\r\nimport { AboutPage, AdminLessons, AdminMain, AdminUser, AdminUsers, AdminViewLesson, InstructionPage, LessonCreate, LessonPage, LessonsPage, LessonWork, PracticePage, PracticesPage, ProfilePage, SettingsPage } from '../../containers';\r\nimport { UserRoles } from '../../models';\r\n\r\ntype AppRoutesProps = {}\r\n\r\nexport const AppRoutes: React.FC<AppRoutesProps> = (props) => {\r\n  return (\r\n    <Switch key=\"MainSwitch\">\r\n\r\n      {/* Main */}\r\n      <Route {...routeConfig.App} key=\"some\">\r\n        <Secure politic={ByAuth()} key=\"AppSecure\" redirectPath={routeConfig.Login.path}>\r\n          <MainPage key=\"page\" />\r\n        </Secure>\r\n      </Route>\r\n\r\n      {/* Login */}\r\n      <Route {...routeConfig.Login}>\r\n        <Secure key=\"LoginSecure\" politic={ByAuth(false)} redirectPath={routeConfig.App.path}>\r\n          <LoginPage key=\"page\" />\r\n        </Secure>\r\n      </Route>\r\n\r\n      {/* sign up */}\r\n      <Route {...routeConfig.SignUp}>\r\n        <AppSecure key=\"SignUpSecure\" politic={ByAuth(false)}>\r\n          <SignUpPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* profile */}\r\n      <Route {...routeConfig.Profile}>\r\n        <AppSecure key=\"ProfileSecure\" politic={ByAuth()}>\r\n          <ProfilePage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* lessons */}\r\n      <Route {...routeConfig.Lessons}>\r\n        <AppSecure key=\"ProfileSecure\" politic={ByAuth()}>\r\n          <LessonsPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* settings */}\r\n      <Route {...routeConfig.Settings}>\r\n        <AppSecure key=\"SettingsSecure\" politic={ByAuth()}>\r\n          <SettingsPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* lesson page view for user */}\r\n      <Route {...routeConfig.LessonPage}>\r\n        <AppSecure key=\"LessonPageSecure\" politic={ByAuth()}>\r\n          <LessonPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* about page */}\r\n      <Route {...routeConfig.About}>\r\n        <AppSecure key=\"AboutPageSecure\" politic={ByAuth()}>\r\n          <AboutPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin main */}\r\n      <Route {...routeConfig.AdminMain}>\r\n        <AppSecure key=\"AdminMainSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <AdminMain key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin practices */}\r\n      <Route {...routeConfig.Practices}>\r\n        <AppSecure key=\"PracticesSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <PracticesPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin users */}\r\n      <Route {...routeConfig.AdminUsers}>\r\n        <AppSecure key=\"AdminUsersSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <AdminUsers key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin user */}\r\n      <Route {...routeConfig.AdminUser}>\r\n        <AppSecure key=\"AdminUserSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <AdminUser key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin instruction */}\r\n      <Route {...routeConfig.AdminInstruction}>\r\n        <AppSecure key=\"InstructionPageSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <InstructionPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin lesson edit */}\r\n      <Route {...routeConfig.AdminPractice}>\r\n        <AppSecure key=\"AdminPracticeEditSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <PracticePage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin lessons */}\r\n      <Route {...routeConfig.AdminLessons}>\r\n        <AppSecure key=\"AdminLessonsSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <AdminLessons key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin lesson view */}\r\n      <Route {...routeConfig.AdminLesson}>\r\n        <AppSecure key=\"AdminLessonsViewSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <AdminViewLesson key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin lesson edit */}\r\n      <Route {...routeConfig.AdminLessonEdit}>\r\n        <AppSecure key=\"AdminLessonEditSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <LessonWork key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin lesson create */}\r\n      <Route {...routeConfig.AdminLessonCreate}>\r\n        <AppSecure key=\"AdminLessonCreateSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <LessonCreate />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      <Redirect to={routeConfig.App.path} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport const AppSecure: React.FC<SecureProps> = (props) => (\r\n  <Secure {...props} redirectPath={routeConfig.App.path}>\r\n    {props.children}\r\n  </Secure>\r\n);\r\n\r\nexport const LoginSecure: React.FC<SecureProps> = (props) => (\r\n  <Secure {...props} redirectPath={routeConfig.Login.path}>\r\n    {props.children}\r\n  </Secure>\r\n);\r\n\r\n// * -> /(check auth) ?-> /login\r\n\r\n// также можно просто скрывать route\r\n// {ByAuth(user) && <Route></Route>}\r\n// switch выбирает первого ребёнка с подходящим параметром path","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\nexport type AddPracticeOrderRequest = {\r\n  userId: string\r\n  lessonId: string\r\n\r\n  codeFile: File\r\n}\r\n\r\nexport type AddPracticeOrderResponse = number;\r\n\r\nexport const AddPracticeOrder: ApiQueryFunction<AddPracticeOrderRequest, AddPracticeOrderResponse> = (request, api = appApi) => {\r\n  const data = new FormData();\r\n  data.set(\"userId\", request?.userId!);\r\n  data.set(\"lessonId\", request?.lessonId!);\r\n\r\n  data.set(\"codeFile\", request?.codeFile!, request?.codeFile.name);\r\n\r\n  return api.post(`/practice`, data);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\nexport type GetAllPracticesOrdersRequest = {\r\n  search?: string\r\n  page?: string\r\n  limit?: string\r\n}\r\n\r\nexport type GetAllPracticesOrdersResponse = {\r\n  id: string\r\n  createdDate: string\r\n  lessonName: string\r\n  userNick: string\r\n}[];\r\n\r\nexport const GetAllPracticesOrders: ApiQueryFunction<GetAllPracticesOrdersRequest, GetAllPracticesOrdersResponse> = (request, api = appApi) => {\r\n  const search = new URLSearchParams();\r\n  if(request?.limit) search.set(\"limit\", request?.limit);\r\n  if(request?.page) search.set(\"page\", request?.page);\r\n  if(request?.search) search.set(\"search\", request?.search);\r\n\r\n  return api.get(`/practice?`+search.toString());\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\nimport { PracticeOrder } from \"../../../models\";\r\n\r\n\r\nexport type GetUserPracticesResponse = PracticeOrder[];\r\n\r\nexport const GetUserPractices: ApiQueryFunction<undefined, GetUserPracticesResponse> = (request, api = appApi) => {\r\n  return api.get(`/practice/current`);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\nimport { PracticeOrderDetailedView } from \"../../../models\";\r\n\r\n\r\nexport type GetPracticeInfoRequest = {\r\n  practiceId: string\r\n}\r\n\r\nexport type GetPracticeInfoResponse = PracticeOrderDetailedView\r\n\r\nexport const GetPracticeInfo: ApiQueryFunction<GetPracticeInfoRequest, GetPracticeInfoResponse> = (request, api = appApi) => {\r\n  return api.get(`/practice/${request?.practiceId}`);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\nexport type RejectPracticeRequest = {\r\n  practiceId: string,\r\n  teacherId: string,\r\n  description: string\r\n}\r\n\r\nexport type RejectPracticeResponse = number\r\n\r\nexport const RejectPractice: ApiQueryFunction<RejectPracticeRequest, RejectPracticeResponse> = (request, api = appApi) => {\r\n  return api.put(`/practice/reject`, request);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\n\r\nexport type ResolvePracticeRequest = {\r\n  practiceId: string,\r\n  teacherId: string\r\n}\r\n\r\nexport type ResolvePracticeResponse = number\r\n\r\nexport const ResolvePractice: ApiQueryFunction<ResolvePracticeRequest, ResolvePracticeResponse> = (request, api = appApi) => {\r\n  return api.put(`/practice/resolve`, request);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\nimport { UserProgres } from \"../../../models\";\r\n\r\nexport type AddUserProgressRequest = {\r\n  userId: string\r\n  lessonId: string\r\n}\r\n\r\nexport type AddUserProgressResponse = UserProgres[];\r\n\r\nexport const AddUserProgress: ApiQueryFunction<AddUserProgressRequest, AddUserProgressResponse> = (request, api = appApi) => {\r\n  return api.post(`/progress`, request);\r\n};","import { LessonDetailed } from \"../../../models/views/LessonDetailed\";\r\nimport { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type GetLessonRequest = {\r\n  lessonId: string\r\n}\r\n\r\nexport type GetLessonResponse = LessonDetailed;\r\n\r\nexport const GetLesson: ApiQueryFunction<GetLessonRequest, GetLessonResponse> = (request, api = appApi) => {\r\n  return api.get(`/lesson/${request?.lessonId}`);\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type DeleteLessonRequest = {\r\n  lessonId: string\r\n}\r\n\r\nexport const DeleteLesson: ApiQueryFunction<DeleteLessonRequest, undefined> = (request, api = appApi) => {\r\n  return api.delete(`/lesson/${request?.lessonId}`);\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type EditLessonRequest = {\r\n  lessonId: string\r\n  index: string\r\n  name: string\r\n  description: string\r\n  content: string\r\n}\r\n\r\nexport const EditLesson: ApiQueryFunction<EditLessonRequest> = (request, api = appApi) => {\r\n  return api.put(`/lesson/${request?.lessonId}`, request);\r\n};","import { AxiosResponse } from \"axios\";\r\nimport { Lesson } from \"../../../models/Lesson\";\r\nimport { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\nimport { IApiResponse } from \"../../ApiModel\";\r\n\r\n\r\nexport type GetLessonsResponse = Lesson[];\r\n\r\nexport const GetLessons: ApiQueryFunction<undefined, GetLessonsResponse> = (request, api = appApi) => {\r\n  return api.get(\"/lesson\");\r\n};","import { User } from \"../../../models\";\r\nimport { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport const GetCurrentUserQuery: ApiQueryFunction<undefined, User> = (request, api = appApi) => {\r\n  return api.get(\"/user/current\");\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\n\r\n\r\nexport type CheckTokenResponse = {\r\n  token: string\r\n}\r\n\r\nexport const CheckCurrentToken: ApiQueryFunction<undefined, CheckTokenResponse> = (request, api = appApi) => {\r\n  return api.post(\"/account/check\");\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\n\r\n\r\nexport type SignUpResponse = { token: string }\r\nexport type SignUpRequest = {\r\n  mail: string\r\n  nick: string\r\n  password: string\r\n\r\n  userPhoto?: File\r\n}\r\n\r\nexport const SignUpQuery: ApiQueryFunction<SignUpRequest, SignUpResponse> = (request, api = appApi) => {\r\n  const userData = new FormData();\r\n  userData.set(\"Mail\", request?.mail!);\r\n  userData.set(\"Nick\", request?.nick!);\r\n  userData.set(\"Password\", request?.password!);\r\n\r\n  if (request?.userPhoto) userData.set(\"UserPhoto\", request?.userPhoto!, request?.userPhoto?.name);\r\n\r\n  return api.post(\"/account/signup\", userData);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\nimport { User } from \"../../../models\";\r\n\r\n\r\nexport type GetUserDetailedRequest = {\r\n  userId: string\r\n}\r\n\r\nexport type GetUserDetailedResponse = User\r\n\r\nexport const GetUserDetailed: ApiQueryFunction<GetUserDetailedRequest, GetUserDetailedResponse> = (request, api = appApi) => {\r\n  return api.get(`/user/${request?.userId}`);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\nexport type ChangeUserRoleRequest = {\r\n  userId: string\r\n  newRole: string\r\n}\r\n\r\nexport type ChangeUserRoleResponse = undefined\r\n\r\nexport const ChangeUserRole: ApiQueryFunction<ChangeUserRoleRequest, ChangeUserRoleResponse> = (request, api = appApi) => {\r\n  return api.put(`/user/role`, request);\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type ChangeUserAvatarRequest = {\r\n  userId: number\r\n  newPhoto: File\r\n}\r\n\r\nexport type ChangeUserAvatarResponse = string;\r\n\r\nexport const ChangeUserAvatar: ApiQueryFunction<ChangeUserAvatarRequest, ChangeUserAvatarResponse> = (request, api = appApi) => {\r\n  const requestData = new FormData();\r\n  requestData.set(\"userId\", request?.userId.toString()!);\r\n  requestData.set(\"newPhoto\", request?.newPhoto!, request?.newPhoto.name);\r\n\r\n  return api.put(\"/user/photo\", requestData);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\nimport { User } from \"../../../models\";\r\n\r\nexport type GetAllUsersRequest = {\r\n  search?: string\r\n  page?: string\r\n  limit?: string\r\n}\r\n\r\nexport type GetAllUsersResponse = User[]\r\n\r\nexport const GetAllUsers: ApiQueryFunction<GetAllUsersRequest, GetAllUsersResponse> = (request, api = appApi) => {\r\n  const search = new URLSearchParams();\r\n  if(request?.limit) search.set(\"limit\", request?.limit);\r\n  if(request?.page) search.set(\"page\", request?.page);\r\n  if(request?.search) search.set(\"search\", request?.search);\r\n\r\n  return api.get(`/user?`+search.toString());\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type ChangeUserNickRequest = {\r\n  newNick: string\r\n  userId: number\r\n}\r\n\r\nexport const ChangeUserNick: ApiQueryFunction<ChangeUserNickRequest> = (request, api = appApi) => {\r\n  return api.put(\"/user/nick\", request);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\nexport type BanUserRequest = {\r\n  userForBannId: string\r\n}\r\n\r\nexport type BanUserResponse = undefined\r\n\r\nexport const BanUser: ApiQueryFunction<BanUserRequest, BanUserResponse> = (request, api = appApi) => {\r\n  return api.put(`/user/ban`, request);\r\n};","import { UserAction } from \"../types\";\r\nimport { UserSetToken, UserSetData, UserSetError, UserSetLoading, UserClearStore } from '../consts';\r\nimport { User, UserData } from \"../../../models\";\r\nimport { LoginQuery, UserLoginRequest } from \"../../../server/Queries/Auth/LoginQuery\";\r\nimport { RootState } from \"../StoreProvider\";\r\nimport {\r\n  ApiFetcher,\r\n  GetCurrentUserQuery,\r\n  CheckCurrentToken,\r\n  SignUpRequest,\r\n  SignUpQuery,\r\n  ChangeUserNick,\r\n  ChangeUserAvatar,\r\n  AddUserProgress,\r\n  AddUserProgressRequest,\r\n  AddPracticeOrder,\r\n  AddPracticeOrderRequest,\r\n  GetUserPractices\r\n} from \"../../../server\";\r\n\r\n\r\n// actions\r\nexport function setToken(token: string): UserAction {\r\n  localStorage.setItem(UserData.UserTokenKey, token);\r\n\r\n  return {\r\n    type: UserSetToken,\r\n    token: token\r\n  }\r\n}\r\n\r\nexport function setUser(user: User): UserAction {\r\n  return {\r\n    type: UserSetData,\r\n    user: user\r\n  }\r\n}\r\n\r\nexport function setError(error: string): UserAction {\r\n  return {\r\n    type: UserSetError,\r\n    error: error\r\n  }\r\n}\r\n\r\nexport function setLoading(loading: boolean): UserAction {\r\n  return {\r\n    type: UserSetLoading,\r\n    loading: loading\r\n  }\r\n}\r\n\r\nexport function clearUserStore() {\r\n  localStorage.removeItem(UserData.UserTokenKey);\r\n\r\n  return {\r\n    type: UserClearStore\r\n  };\r\n}\r\n\r\n// logick\r\n\r\n/**add user practice order */\r\nexport function AddUserPracticeOrder(request: AddPracticeOrderRequest) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    const state = getState();\r\n    const user = state.user.userData!;\r\n\r\n    let addAnswer;\r\n    try{\r\n      addAnswer = await AddPracticeOrder(request);\r\n    } catch(err) {}\r\n    if(Boolean(addAnswer?.data?.succeeded) == false) {\r\n      dispatch(setError(addAnswer?.data?.errorMessage ?? \"Что-то пошло не так...\"));\r\n      return dispatch(setLoading(false));\r\n    }\r\n\r\n    let userPractices;\r\n    try {\r\n      userPractices = await GetUserPractices();\r\n    } catch(err) {}\r\n    if(userPractices?.data?.succeeded == true) {\r\n      user.practiceOrders = userPractices.data.data;\r\n      dispatch(setUser(user));\r\n    }\r\n\r\n    dispatch(setLoading(false));\r\n  }\r\n}\r\n\r\n/**add user progress */\r\nexport function AddProgress(request: AddUserProgressRequest) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    const state = getState();\r\n    const user = state.user.userData!;\r\n\r\n    let addAnswer;\r\n    try {\r\n      addAnswer = await AddUserProgress(request);\r\n    } catch (err) {}\r\n\r\n    if(Boolean(addAnswer?.data.succeeded) == false) {\r\n      dispatch(setError(addAnswer?.data?.errorMessage ?? \"Что-то пошло не так...\"));\r\n    }\r\n\r\n    if(addAnswer?.data.succeeded == true) {\r\n      user.userProgresses = addAnswer.data.data;\r\n      dispatch(setUser(user));\r\n    }\r\n\r\n    dispatch(setLoading(false));\r\n  }\r\n}\r\n\r\n/**change avatar */\r\nexport function ChangeAvatar(newAvatar: File) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    const state = getState();\r\n    const user = state.user.userData!;\r\n    const userId = user.id;\r\n\r\n    let changeAvatar;\r\n    try {\r\n      changeAvatar = await ChangeUserAvatar({ userId: userId!, newPhoto: newAvatar });\r\n    } catch (err) {\r\n      if (Boolean(changeAvatar?.data.succeeded) == false) {\r\n        dispatch(setError(changeAvatar?.data?.errorMessage ?? \"Что-то пошло не так...\"));\r\n      }\r\n    }\r\n\r\n    if (changeAvatar?.data.succeeded) {\r\n      user.photo = changeAvatar.data.data;\r\n      dispatch(setUser(user));\r\n    }\r\n\r\n    dispatch(setLoading(false));\r\n  }\r\n}\r\n\r\n/**change nick */\r\nexport function ChangeNick(newNick: string) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    const state = getState();\r\n    const user = state.user.userData!;\r\n    const userId = user.id;\r\n\r\n    let changeNick;\r\n    try {\r\n      changeNick = await ChangeUserNick({ userId: userId!, newNick });\r\n    } catch (err) {\r\n      if (Boolean(changeNick?.data.succeeded) == false) {\r\n        dispatch(setError(changeNick?.data?.errorMessage ?? \"Что-то пошло не так...\"));\r\n      }\r\n    }\r\n\r\n    if (changeNick?.data.succeeded) {\r\n      user.nick = newNick;\r\n      dispatch(setUser(user));\r\n    }\r\n\r\n    dispatch(setLoading(false));\r\n  }\r\n}\r\n\r\n/**Login */\r\nexport function Login(loginData: UserLoginRequest) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    const loginFetcher = new ApiFetcher(LoginQuery);\r\n\r\n    let loginAnswer;\r\n\r\n    try {\r\n      loginAnswer = await loginFetcher.fetch(loginData);\r\n    } catch (err) { }\r\n\r\n    if (Boolean(loginAnswer?.succeeded) == false) {\r\n      dispatch(setError(loginAnswer?.errorMessage ?? \"что-то пошло не так...\"));\r\n      dispatch(setLoading(false));\r\n      return;\r\n    }\r\n\r\n    if (loginAnswer) {\r\n      dispatch(setToken(loginAnswer?.data.token));\r\n    }\r\n\r\n    let currentUser;\r\n    try {\r\n      currentUser = await GetCurrentUserQuery();\r\n    } catch (err) {\r\n    }\r\n\r\n    if (currentUser) {\r\n      dispatch(setUser(currentUser.data.data));\r\n    }\r\n\r\n    dispatch(setError(\"\"));\r\n    dispatch(setLoading(false));\r\n  }\r\n}\r\n\r\n/**register */\r\nexport function SignUp(request: SignUpRequest) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    let signUpAnswer;\r\n\r\n    try {\r\n      signUpAnswer = await SignUpQuery(request);\r\n\r\n      if (signUpAnswer.data.succeeded) dispatch(setToken(signUpAnswer.data.data.token));\r\n    } catch (err) { } finally {\r\n      if (Boolean(signUpAnswer?.data?.succeeded) == false) {\r\n        dispatch(setError(signUpAnswer?.data?.errorMessage ?? \"Что-то пошло не так...\"));\r\n      }\r\n    }\r\n\r\n    let currentUserAnswer;\r\n    if (signUpAnswer?.data?.succeeded) {\r\n      try {\r\n        currentUserAnswer = await GetCurrentUserQuery();\r\n\r\n        if (currentUserAnswer.data.succeeded) dispatch(setUser(currentUserAnswer.data.data));\r\n      } catch (err) { }\r\n    }\r\n\r\n    dispatch(setError(\"\"));\r\n    dispatch(setLoading(false));\r\n\r\n    if (signUpAnswer?.data?.succeeded && currentUserAnswer?.data?.succeeded) return true;\r\n  }\r\n}\r\n\r\n/**logout */\r\nexport function Logout() {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(clearUserStore());\r\n  }\r\n}\r\n\r\n/**init user storage */\r\nexport function INIT() {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    let savedToken = localStorage.getItem(UserData.UserTokenKey);\r\n\r\n    if (savedToken) {\r\n      let checkAnswer;\r\n      try {\r\n        checkAnswer = await CheckCurrentToken();\r\n\r\n        if (checkAnswer.data.succeeded) {\r\n          dispatch(setToken(checkAnswer.data.data.token));\r\n        }\r\n      } catch (err) {\r\n      } finally {\r\n        if (Boolean(checkAnswer?.data.succeeded) == false) localStorage.removeItem(UserData.UserTokenKey);\r\n      }\r\n\r\n      if (Boolean(checkAnswer?.data.succeeded) == false) return;\r\n\r\n      let currentUser;\r\n\r\n      try {\r\n        currentUser = await GetCurrentUserQuery();\r\n\r\n        if (currentUser.data.succeeded) dispatch(setUser(currentUser.data.data));\r\n      } catch (err) { } finally { }\r\n    }\r\n  }\r\n}\r\n\r\n","import { Lesson } from \"../../../models/Lesson\";\r\nimport { SetLessons } from \"../consts\";\r\nimport { AppDataAction } from \"../types\";\r\n\r\nexport function setLessons(lessons: Lesson[]): AppDataAction {\r\n  return {\r\n    type: SetLessons,\r\n    lessons\r\n  }\r\n}","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  background-color: var(--main-2);\r\n  height: 100%;\r\n  padding: 75px 15px;\r\n`;\r\n\r\nexport const SplashLoader = styled.div`\r\n  position: relative;\r\n\tmargin: 0 auto;\r\n\twidth: 150px;\r\n\theight: 150px;\r\n\tdisplay: block;\r\n\toverflow: hidden;\r\n\r\n\tdiv {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n  &, & div {\r\n    border-radius: 50%;\r\n\t  padding: 8px;\r\n\t  border: 2px solid transparent;\r\n\t  animation: rotate linear 3.5s infinite;\r\n    border-radius: 50%;\r\n    padding: 4px;\r\n    animation: rotate2 4s infinite linear;\r\n  }\r\n\r\n  &:hover, & div:hover {\r\n    animation-play-state: paused;\r\n  } \r\n\r\n  &, * {\r\n    will-change: transform;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  text-align: center;\r\n  margin-top: 16px;\r\n`;","import React from 'react';\r\nimport { SplashLoader, Title, Container } from './styled';\r\n\r\nimport './SplashScreen.scss';\r\n\r\ntype SplashScreenProps = {}\r\n\r\nexport const SplashScreen: React.FC<SplashScreenProps> = (props) => {\r\n  return (\r\n    <Container>\r\n      <SplashLoader>\r\n        <div>\r\n          <div>\r\n            <div>\r\n              <div>\r\n                <div>\r\n                  <div>\r\n                    <div>\r\n                      <div>\r\n                        <div>\r\n                          <div></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </SplashLoader>\r\n\r\n      <Title>Идёт загрузка</Title>\r\n    </Container>\r\n  );\r\n};","import { Switch } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { ThemesEnum } from '../../App';\r\nimport { useThemeConfig } from '../../App/style/theme/UseThemeConfig';\r\n\r\ntype ThemeTogglerProps = {}\r\n\r\nexport const ThemeToggler: React.FC<ThemeTogglerProps> = (props) => {\r\n  const themeConfiguration = useThemeConfig();\r\n\r\n  return (\r\n    <Switch\r\n      checked={themeConfiguration.currentTheme == ThemesEnum.dark}\r\n      onChange={() => themeConfiguration.toggleTheme()}\r\n      name=\"theme\"\r\n      color=\"primary\"\r\n    />\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { CenterMixin } from '../../style';\r\n\r\nexport const Wrap = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  min-height: 100%;\r\n  ${CenterMixin}\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n`;","export const CenteredMixin = `\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%);\r\n`;\r\n\r\nexport const CenterMixin = `\r\n    display: grid;\r\n    place-items: center;\r\n`;\r\n\r\nexport const ChangeThemeTransition = `\r\n    transition: background-color 0.3s, color 0.3s, background 0.3s;\r\n`;","import React from 'react';\r\nimport { Wrap, Container } from './styled';\r\n\r\ntype CenterCardProps = {}\r\n\r\nexport const CenterCard: React.FC<CenterCardProps> = (props) => {\r\n  return (\r\n    <Wrap>\r\n      <Container>\r\n          {props.children as any}\r\n      </Container>\r\n    </Wrap>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const MarkDownContainer = styled.div`\r\n  padding: 0.5rem;\r\n\r\n  p {\r\n    font-size: 18px;\r\n    margin: 0.5rem 0;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 36px;\r\n    font-weight: bold;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  h2 {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  h3 {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  h4 {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  h5 {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  li {\r\n    font-size: 18px;\r\n  }\r\n  ul {\r\n    padding-left: 1rem;\r\n  }\r\n\r\n  img, frame, iframe {\r\n    max-width: 100%;\r\n    margin: 10px auto;\r\n    display: block;\r\n  }\r\n\r\n  a {\r\n    font-size: 18px;\r\n    color: ${p => p.theme.palette.primary.main};\r\n    text-decoration: underline;\r\n  }\r\n\r\n  ul li::marker {\r\n    color: ${p => p.theme.palette.primary.main};\r\n  }\r\n\r\n  table {\r\n    border-collapse: separate;\r\n    border-spacing: 0;\r\n    margin: 10px auto;\r\n  }\r\n  \r\n  thead {\r\n    vertical-align: middle;\r\n  }\r\n  \r\n  tbody {\r\n   vertical-align: middle;\r\n  }\r\n  \r\n  tfoot {\r\n    vertical-align: middle;\r\n  }\r\n  \r\n  tr {\r\n    display: table-row;\r\n    vertical-align: middle;\r\n  }\r\n  \r\n  td {\r\n    border-bottom: 1px solid var(--accentColor);\r\n    padding: .5em 1em;\r\n    text-align: center;\r\n    vertical-align: top;\r\n    border-style: solid;\r\n    border-color: rgba(0,0,0,.1);\r\n    border-width: 0 0 1px;\r\n    font-size: 18px;\r\n  }\r\n\r\n  img + em { \r\n    display: block;\r\n    text-align: center;\r\n  }\r\n  \r\n  th {\r\n    border-bottom: 2px solid var(--accentColor);\r\n    font-size: 24px;\r\n  }\r\n  \r\n  tfoot td{\r\n    border-bottom: 2px solid var(--accentColor);\r\n  }\r\n\r\n  code {\r\n    font-family: 'Courier New', Courier, monospace;\r\n    display: block;\r\n    padding: 1rem;\r\n    border-radius: 1rem;\r\n    background-color: ${p => p.theme.palette.background.paper};\r\n    word-break: break-all;\r\n    word-wrap: break-word;\r\n    width: 100%;\r\n    max-width: 100%;\r\n    white-space: pre-wrap;\r\n    margin: 1rem 0;\r\n  }\r\n`;","import React from 'react';\r\nimport showdown from 'showdown';\r\n\r\nimport { MarkDownContainer } from './styled';\r\n\r\n\r\n\r\nshowdown.setOption('strikethrough', true);\r\nshowdown.setOption('tables', true);\r\nshowdown.setOption('tablesHeaderId', true);\r\nshowdown.setOption('tasklists', true);\r\nshowdown.setOption('emoji', true);\r\nshowdown.setOption('tasklists', true);\r\nshowdown.setOption('tablesHeaderId', true);\r\nshowdown.setOption('parseImgDimensions', true);\r\n\r\ntype MarkDownProps = { md: string }\r\n\r\nexport const MarkDown: React.FC<MarkDownProps> = (props) => {\r\n  const html = new showdown.Converter().makeHtml(props.md);\r\n\r\n  return (\r\n    <MarkDownContainer dangerouslySetInnerHTML={{__html: html}} />\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const BounderImg = styled.img`\r\n  max-width: 100%;\r\n`;","import React from 'react';\r\nimport { CenterCard, AppCard } from '..';\r\nimport { EmptyLayout } from '../../layouts';\r\nimport reactLogo from '../../appstatic/react_logo.svg';\r\nimport { BounderImg } from './styled';\r\nimport { Box } from '@material-ui/core';\r\n\r\ntype AppBounderProps = {}\r\n\r\nexport class AppBounder extends React.Component {\r\n  state = {\r\n    hasError: false\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error) {\r\n    return { hasError: true }\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: any) {\r\n    console.log(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <EmptyLayout>\r\n          <CenterCard>\r\n            <AppCard>\r\n              <Box fontSize={18} padding={2}>\r\n                <BounderImg src={reactLogo} alt=\"react love logo\" />\r\n                <p>Произошла серьёзная ошибка приложения :(</p>\r\n                <br />\r\n                <p>Пожалуйста зайдите позже</p>\r\n              </Box>\r\n            </AppCard>\r\n          </CenterCard>\r\n        </EmptyLayout>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}","import styled from 'styled-components';\r\n\r\nexport const AppCardBody = styled.div`\r\n  width: min(100%, 550px);\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n  border-radius: 8px;\r\n  box-shadow: ${props => props.theme.shadows[4]};\r\n`;","import React from 'react';\r\nimport { AppCardBody } from './styled';\r\n\r\ntype AppCardProps = {\r\n  className?: string\r\n}\r\n\r\nexport const AppCard: React.FC<AppCardProps> = (props) => {\r\n  return (\r\n    <AppCardBody className={props.className}>\r\n      {props.children}\r\n    </AppCardBody>\r\n  );\r\n};","import { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport const AppLink = styled(Link)`\r\n  color: ${props => props.theme.palette.primary.main};\r\n  margin-top: 1rem;\r\n  transition: color 0.3s;\r\n  text-align: center;\r\n\r\n  &:visited {\r\n    color: ${props => props.theme.palette.primary.main};\r\n  }\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.palette.primary.dark};\r\n  }\r\n`;","import styled, { keyframes } from 'styled-components';\r\n\r\nconst ShadowAnimate = keyframes`\r\n  from{\r\n    box-shadow: 0 0 16px 0 #000, 0 24px 16px -20px #4d7cff;\r\n  }\r\n  to {\r\n    box-shadow: 0 0 16px 0 #000, 0 22px 24px -18px #4d7cff;\r\n  }\r\n`;\r\n\r\nexport const MainImage = styled.img`\r\n  border-radius: 8px;\r\n  margin: ${p => p.theme.spacing(2)}px 0px;\r\n  box-shadow: 0 0 16px 0 #000, 0 24px 16px -20px #4d7cff;\r\n\r\n  object-fit: cover;\r\n  object-position: center;\r\n\r\n  animation: ${ShadowAnimate} 1s infinite alternate;\r\n`;","import React from 'react';\r\nimport { MainImage } from './styled';\r\n\r\ntype AppImgProps = Partial<HTMLImageElement>\r\n\r\nexport const AppImg: React.FC<AppImgProps> = (props) => {\r\n  return (\r\n    <MainImage {...props as any} />\r\n  );\r\n};","export * from './UserProgress';\r\nexport * from './Sertificate';\r\nexport * from './Practice';\r\nexport * from './AppFile';\r\nexport * from './Subject';\r\nexport * from './views';\r\nexport * from './User';","import { UserData } from '../models';\r\nimport axios, { AxiosInstance, Canceler } from 'axios';\r\n\r\n\r\ntype ReturnType = {\r\n  httpClient: AxiosInstance;\r\n  canceler: Canceler;\r\n};\r\n\r\nexport const appApi = axios.create({\r\n  baseURL:process.env.REACT_APP_API_VERSION,\r\n  withCredentials: true,\r\n});\r\nappApi.interceptors.request.use(function (config) {\r\n  config.headers['Authorization'] = `Bearer ${localStorage.getItem(UserData.UserTokenKey)}`;\r\n  return config;\r\n});\r\n\r\nexport function CreateHttpClient(auth: string): ReturnType {\r\n  let canceler: Canceler | undefined;\r\n\r\n  const cancellation = new axios.CancelToken((c: any) => {\r\n    canceler = c;\r\n  });\r\n\r\n  const httpClient = axios.create({\r\n    baseURL: process.env.REACT_APP_API_VERSION,\r\n    cancelToken: cancellation,\r\n    withCredentials: true,\r\n    headers: {\r\n      'Authorization': `Bearer ${auth}`,\r\n    }\r\n  });\r\n\r\n  return {\r\n    httpClient,\r\n    canceler: (canceler as Canceler),\r\n  };\r\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App/App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorkerRegistration.register();\nreportWebVitals();\n","// user\r\nexport const UserSetToken = \"UserSetToken\";\r\nexport const UserSetData = \"UserSetData\";\r\nexport const UserSetLoading = \"UserSetLoading\";\r\nexport const UserSetError = \"UserSetError\";\r\nexport const UserClearStore = \"UserClearStore\";\r\n\r\n// appData\r\nexport const SetLessons = \"SetLessons\";","\r\nconst bit24 = 0x1000000;\r\nconst bit16 = 0x10000;\r\nconst bit8 = 0x100;\r\nconst ff = 0xff;\r\n\r\nconst NamedColors: { [p: string]: number } = {\r\n  BLACK: 0x000000,\r\n  NAVY: 0x000080,\r\n  DARKBLUE: 0x00008B,\r\n  MEDIUMBLUE: 0x0000CD,\r\n  BLUE: 0x0000FF,\r\n  DARKGREEN: 0x006400,\r\n  GREEN: 0x008000,\r\n  TEAL: 0x008080,\r\n  DARKCYAN: 0x008B8B,\r\n  DEEPSKYBLUE: 0x00BFFF,\r\n  DARKTURQUOISE: 0x00CED1,\r\n  MEDIUMSPRINGGREEN: 0x00FA9A,\r\n  LIME: 0x00FF00,\r\n  SPRINGGREEN: 0x00FF7F,\r\n  AQUA: 0x00FFFF,\r\n  CYAN: 0x00FFFF,\r\n  MIDNIGHTBLUE: 0x191970,\r\n  DODGERBLUE: 0x1E90FF,\r\n  LIGHTSEAGREEN: 0x20B2AA,\r\n  FORESTGREEN: 0x228B22,\r\n  SEAGREEN: 0x2E8B57,\r\n  DARKSLATEGRAY: 0x2F4F4F,\r\n  LIMEGREEN: 0x32CD32,\r\n  MEDIUMSEAGREEN: 0x3CB371,\r\n  TURQUOISE: 0x40E0D0,\r\n  ROYALBLUE: 0x4169E1,\r\n  STEELBLUE: 0x4682B4,\r\n  DARKSLATEBLUE: 0x483D8B,\r\n  MEDIUMTURQUOISE: 0x48D1CC,\r\n  INDIGO: 0x4B0082,\r\n  DARKOLIVEGREEN: 0x556B2F,\r\n  CADETBLUE: 0x5F9EA0,\r\n  CORNFLOWERBLUE: 0x6495ED,\r\n  MEDIUMAQUAMARINE: 0x66CDAA,\r\n  DIMGRAY: 0x696969,\r\n  SLATEBLUE: 0x6A5ACD,\r\n  OLIVEDRAB: 0x6B8E23,\r\n  SLATEGRAY: 0x708090,\r\n  LIGHTSLATEGRAY: 0x778899,\r\n  MEDIUMSLATEBLUE: 0x7B68EE,\r\n  LAWNGREEN: 0x7CFC00,\r\n  CHARTREUSE: 0x7FFF00,\r\n  AQUAMARINE: 0x7FFFD4,\r\n  MAROON: 0x800000,\r\n  PURPLE: 0x800080,\r\n  OLIVE: 0x808000,\r\n  GRAY: 0x808080,\r\n  SKYBLUE: 0x87CEEB,\r\n  LIGHTSKYBLUE: 0x87CEFA,\r\n  BLUEVIOLET: 0x8A2BE2,\r\n  DARKRED: 0x8B0000,\r\n  DARKMAGENTA: 0x8B008B,\r\n  SADDLEBROWN: 0x8B4513,\r\n  DARKSEAGREEN: 0x8FBC8F,\r\n  LIGHTGREEN: 0x90EE90,\r\n  MEDIUMPURPLE: 0x9370D8,\r\n  DARKVIOLET: 0x9400D3,\r\n  PALEGREEN: 0x98FB98,\r\n  DARKORCHID: 0x9932CC,\r\n  YELLOWGREEN: 0x9ACD32,\r\n  SIENNA: 0xA0522D,\r\n  BROWN: 0xA52A2A,\r\n  DARKGRAY: 0xA9A9A9,\r\n  LIGHTBLUE: 0xADD8E6,\r\n  GREENYELLOW: 0xADFF2F,\r\n  PALETURQUOISE: 0xAFEEEE,\r\n  LIGHTSTEELBLUE: 0xB0C4DE,\r\n  POWDERBLUE: 0xB0E0E6,\r\n  FIREBRICK: 0xB22222,\r\n  DARKGOLDENROD: 0xB8860B,\r\n  MEDIUMORCHID: 0xBA55D3,\r\n  ROSYBROWN: 0xBC8F8F,\r\n  DARKKHAKI: 0xBDB76B,\r\n  SILVER: 0xC0C0C0,\r\n  MEDIUMVIOLETRED: 0xC71585,\r\n  INDIANRED: 0xCD5C5C,\r\n  PERU: 0xCD853F,\r\n  CHOCOLATE: 0xD2691E,\r\n  TAN: 0xD2B48C,\r\n  LIGHTGRAY: 0xD3D3D3,\r\n  PALEVIOLETRED: 0xD87093,\r\n  THISTLE: 0xD8BFD8,\r\n  ORCHID: 0xDA70D6,\r\n  GOLDENROD: 0xDAA520,\r\n  CRIMSON: 0xDC143C,\r\n  GAINSBORO: 0xDCDCDC,\r\n  PLUM: 0xDDA0DD,\r\n  BURLYWOOD: 0xDEB887,\r\n  LIGHTCYAN: 0xE0FFFF,\r\n  LAVENDER: 0xE6E6FA,\r\n  DARKSALMON: 0xE9967A,\r\n  VIOLET: 0xEE82EE,\r\n  PALEGOLDENROD: 0xEEE8AA,\r\n  LIGHTCORAL: 0xF08080,\r\n  KHAKI: 0xF0E68C,\r\n  ALICEBLUE: 0xF0F8FF,\r\n  HONEYDEW: 0xF0FFF0,\r\n  AZURE: 0xF0FFFF,\r\n  SANDYBROWN: 0xF4A460,\r\n  WHEAT: 0xF5DEB3,\r\n  BEIGE: 0xF5F5DC,\r\n  WHITESMOKE: 0xF5F5F5,\r\n  MINTCREAM: 0xF5FFFA,\r\n  GHOSTWHITE: 0xF8F8FF,\r\n  SALMON: 0xFA8072,\r\n  ANTIQUEWHITE: 0xFAEBD7,\r\n  LINEN: 0xFAF0E6,\r\n  LIGHTGOLDENRODYELLOW: 0xFAFAD2,\r\n  OLDLACE: 0xFDF5E6,\r\n  RED: 0xFF0000,\r\n  FUCHSIA: 0xFF00FF,\r\n  MAGENTA: 0xFF00FF,\r\n  DEEPPINK: 0xFF1493,\r\n  ORANGERED: 0xFF4500,\r\n  TOMATO: 0xFF6347,\r\n  HOTPINK: 0xFF69B4,\r\n  CORAL: 0xFF7F50,\r\n  DARKORANGE: 0xFF8C00,\r\n  LIGHTSALMON: 0xFFA07A,\r\n  ORANGE: 0xFFA500,\r\n  LIGHTPINK: 0xFFB6C1,\r\n  PINK: 0xFFC0CB,\r\n  GOLD: 0xFFD700,\r\n  PEACHPUFF: 0xFFDAB9,\r\n  NAVAJOWHITE: 0xFFDEAD,\r\n  MOCCASIN: 0xFFE4B5,\r\n  BISQUE: 0xFFE4C4,\r\n  MISTYROSE: 0xFFE4E1,\r\n  BLANCHEDALMOND: 0xFFEBCD,\r\n  PAPAYAWHIP: 0xFFEFD5,\r\n  LAVENDERBLUSH: 0xFFF0F5,\r\n  SEASHELL: 0xFFF5EE,\r\n  CORNSILK: 0xFFF8DC,\r\n  LEMONCHIFFON: 0xFFFACD,\r\n  FLORALWHITE: 0xFFFAF0,\r\n  SNOW: 0xFFFAFA,\r\n  YELLOW: 0xFFFF00,\r\n  LIGHTYELLOW: 0xFFFFE0,\r\n  IVORY: 0xFFFFF0,\r\n  WHITE: 0xFFFFFF\r\n};\r\n\r\n\r\nclass ArgbComponents {\r\n  public alpha: number;\r\n  public r: number;\r\n  public g: number;\r\n  public b: number;\r\n\r\n  constructor($alpha: number = ff, $r: number = 0, $g: number = 0, $b: number = 0) {\r\n    this.alpha = $alpha;\r\n    this.r = $r;\r\n    this.g = $g;\r\n    this.b = $b;\r\n  }\r\n}\r\n\r\nexport class AppColor {\r\n  public color: string;\r\n  public colorHex: number;\r\n  public alpha: number;\r\n  public r: number;\r\n  public g: number;\r\n  public b: number;\r\n\r\n  set Alpha(value: number) {\r\n    value = AppColor.ToRangeFF(value);\r\n    this.alpha = value ^ 0;\r\n    this.updateColorHex();\r\n  }\r\n  get Alpha() {\r\n    return this.alpha;\r\n  }\r\n\r\n  set R(value: number) {\r\n    value = AppColor.ToRangeFF(value);\r\n    this.r = value ^ 0;\r\n    this.updateColorHex();\r\n  }\r\n  get R() {\r\n    return this.r;\r\n  }\r\n\r\n  set G(value: number) {\r\n    value = AppColor.ToRangeFF(value);\r\n    this.g = value ^ 0;\r\n    this.updateColorHex();\r\n  }\r\n\r\n  get G() {\r\n    return this.g;\r\n  }\r\n\r\n  set B(value: number) {\r\n    value = AppColor.ToRangeFF(value);\r\n    this.b = value ^ 0;\r\n    this.updateColorHex();\r\n  }\r\n  get B() {\r\n    return this.b;\r\n  }\r\n\r\n  get ArgbHex() {\r\n    return this.colorHex;\r\n  }\r\n  set ArgbHex(value: number) {\r\n    value = Math.min(0xffffffff, value);\r\n    value = Math.max(0x00000000, value);\r\n    this.colorHex = value ^ 0;\r\n\r\n    this.updateArgbComponents();\r\n  }\r\n\r\n  constructor(color: string | number) {\r\n    this.color = color.toString();\r\n    this.colorHex = AppColor.toArgbHex(color);\r\n\r\n    this.alpha = this.colorHex >>> 24 & ff;\r\n    this.r = this.colorHex >>> 16 & ff;\r\n    this.g = this.colorHex >>> 8 & ff;\r\n    this.b = this.colorHex & ff;\r\n  }\r\n\r\n  static From(color: string) {\r\n    return new AppColor(color);\r\n  }\r\n\r\n  static toArgbHex(color: number | string, isNumber: boolean = false): number {\r\n    if (typeof color == \"number\") return AppColor.fromNumber(color);\r\n\r\n    color = color.toUpperCase();\r\n\r\n    if (color.startsWith(\"RGB\")) return AppColor.fromRgb(color);\r\n    if (color.startsWith(\"RGBA\")) return AppColor.fromRgba(color);\r\n\r\n    if (color.startsWith(\"HSL\")) return AppColor.fromHsl(color);\r\n    if (color.startsWith(\"HSLA\")) return AppColor.fromHsla(color);\r\n\r\n    if (color.startsWith(\"#\")) return AppColor.fromHex(color);\r\n\r\n    return AppColor.fromName(color);\r\n  }\r\n\r\n  static fromRgb(color: string): number {\r\n    let chanels = Array.from(color.matchAll(AppColor.rgbNumbersRegex));\r\n    let r = Number(chanels[0][0]);\r\n    let g = Number(chanels[1][0]);\r\n    let b = Number(chanels[2][0]);\r\n\r\n    return 0xff * bit24 + (r << 16 | g << 8 | b);\r\n  }\r\n  static fromRgba(color: string): number {\r\n    let chanels = Array.from(color.matchAll(AppColor.rgbNumbersRegex));\r\n    let r = Number(chanels[0][0]);\r\n    let g = Number(chanels[1][0]);\r\n    let b = Number(chanels[2][0]);\r\n    let aChanel = color.match(AppColor.alphaRegex);\r\n    let a = 0xff;\r\n    if (aChanel != null) a = Math.round(255 * parseFloat(aChanel[1]));\r\n\r\n    return a * bit24 + (r << 16 | g << 8 | b);\r\n  }\r\n\r\n  /** make #rgb from h s l */\r\n  static hslToRgb(h: number, s: number, l: number): number {\r\n    s /= 100;\r\n    l /= 100;\r\n\r\n    let c = (1 - Math.abs(2 * l - 1)) * s,\r\n      x = c * (1 - Math.abs((h / 60) % 2 - 1)),\r\n      m = l - c / 2,\r\n      r = 0,\r\n      g = 0,\r\n      b = 0;\r\n\r\n    if (0 <= h && h < 60) {\r\n      r = c; g = x; b = 0;\r\n    } else if (60 <= h && h < 120) {\r\n      r = x; g = c; b = 0;\r\n    } else if (120 <= h && h < 180) {\r\n      r = 0; g = c; b = x;\r\n    } else if (180 <= h && h < 240) {\r\n      r = 0; g = x; b = c;\r\n    } else if (240 <= h && h < 300) {\r\n      r = x; g = 0; b = c;\r\n    } else if (300 <= h && h < 360) {\r\n      r = c; g = 0; b = x;\r\n    }\r\n    r = Math.round((r + m) * 255);\r\n    g = Math.round((g + m) * 255);\r\n    b = Math.round((b + m) * 255);\r\n\r\n    return r * bit16 | g * bit8 | b;\r\n  }\r\n  static fromHsl(color: string): number {\r\n    let chanels = Array.from(color.matchAll(AppColor.rgbNumbersRegex));\r\n    let h = Number(chanels[0][0]);\r\n    let s = Number(chanels[1][0]);\r\n    let l = Number(chanels[2][0]);\r\n\r\n    return 0xff * bit24 + (AppColor.hslToRgb(h, s, l));\r\n  }\r\n  static fromHsla(color: string): number {\r\n    let chanels = Array.from(color.matchAll(AppColor.rgbNumbersRegex));\r\n    let h = Number(chanels[0][0]);\r\n    let s = Number(chanels[1][0]);\r\n    let l = Number(chanels[2][0]);\r\n    let aChanel = color.match(AppColor.alphaRegex);\r\n    let a = 0xff;\r\n    if (aChanel != null) a = Math.round(255 * parseFloat(aChanel[1]));\r\n\r\n    return a * bit24 + (AppColor.hslToRgb(h, s, l));\r\n  }\r\n\r\n  static fromName(color: string): number {\r\n    return 0xff * bit24 + NamedColors[color.toUpperCase()];\r\n  }\r\n\r\n  static fromHex(color: string): number {\r\n    color = color.slice(1);\r\n\r\n    if (color.length == 6) return 0xff * bit24 + parseInt(color, 16);\r\n\r\n    let r = color.slice(0, 1);\r\n    r += r;\r\n    let g = color.slice(1, 2);\r\n    g += g;\r\n    let b = color.slice(2, 3);\r\n    b += b;\r\n\r\n    return 0xff * bit24 + parseInt(r + g + b, 16);\r\n  }\r\n\r\n  static fromNumber(color: number): number {\r\n    if (color <= 0xffffff) return 0xff * bit24 + color;\r\n    return Math.min(0xffffffff, color);\r\n  }\r\n\r\n  static ToRgba(argbHex: number) {\r\n    let { alpha, r, g, b } = AppColor.GetArgbComponents(argbHex);\r\n\r\n    return `rgba(${r}, ${g}, ${b}, ${(alpha / 255).toFixed(2)})`;\r\n  }\r\n\r\n  toRgba(): string {\r\n    return AppColor.ToRgba(this.colorHex);\r\n  }\r\n\r\n  static ToHex(argbHex: number) {\r\n    let color = argbHex;\r\n    let { r, g, b } = AppColor.GetArgbComponents(argbHex);\r\n\r\n    let rChanel = r.toString(16).padStart(2, \"0\");\r\n    let gChanel = g.toString(16).padStart(2, \"0\");\r\n    let bChanel = b.toString(16).padStart(2, \"0\");\r\n\r\n    return `#${rChanel}${gChanel}${bChanel}`;\r\n  }\r\n  toHex() {\r\n    AppColor.ToHex(this.colorHex);\r\n  }\r\n\r\n  updateArgbComponents() {\r\n    let { alpha, r, g, b } = AppColor.GetArgbComponents(this.colorHex);\r\n    alpha = AppColor.ToRangeFF(alpha);\r\n\r\n    r = AppColor.ToRangeFF(r);\r\n\r\n    g = AppColor.ToRangeFF(g);\r\n\r\n    b = AppColor.ToRangeFF(b);\r\n\r\n    this.alpha = alpha;\r\n    this.r = r;\r\n    this.g = g;\r\n    this.b = b;\r\n  }\r\n\r\n  updateColorHex() {\r\n    this.colorHex = AppColor.MakeArgbHex(this.alpha, this.r, this.g, this.b);\r\n  }\r\n\r\n  static ToRangeFF(chanel: number) {\r\n    chanel = Math.min(255, chanel);\r\n    chanel = Math.max(0, chanel);\r\n    return chanel;\r\n  }\r\n\r\n  static GetArgbComponents(argbHex: number): ArgbComponents {\r\n    const components = new ArgbComponents();\r\n\r\n    components.alpha = argbHex >>> 24 & ff;\r\n    components.r = argbHex >>> 16 & ff;\r\n    components.g = argbHex >>> 8 & ff;\r\n    components.b = argbHex & ff;\r\n\r\n    return components;\r\n  }\r\n\r\n  static MakeArgbHex(alpha: number, r: number, g: number, b: number): number {\r\n    return alpha * bit24 + (r << 16 | g << 8 | b);\r\n  }\r\n\r\n  static rgbNumbersRegex = /\\d{1,3}/ig;\r\n  static alphaRegex = /(0?.?\\d{1,})\\D*$/i;\r\n  static maxArgbHex = 0xffffffff;\r\n\r\n  // current operations\r\n  negate() {\r\n    this.ArgbHex = AppColor.Negate(this.colorHex);\r\n\r\n    return this;\r\n  }\r\n\r\n  greyScale() {\r\n    this.ArgbHex = AppColor.GreyScale(this.colorHex);\r\n    return this;\r\n  }\r\n\r\n  changeOpacity(percent: number) {\r\n    this.Alpha = this.Alpha * (1 + percent / 100)\r\n    return this;\r\n  }\r\n\r\n  getContrastRgba() {\r\n    return AppColor.ToRgba(AppColor.ContrastYiq(this.colorHex));\r\n  }\r\n\r\n  shadeLightColor(percent: number) {\r\n    this.ArgbHex = AppColor.ShadeLightColor(this.colorHex, percent);\r\n    return this;\r\n  }\r\n\r\n  // static operations\r\n  static ContrastYiq(argbHex: number): number {\r\n    let { alpha, r, g, b } = AppColor.GetArgbComponents(argbHex);\r\n\r\n    const yiq = (r * 299 + g * 587 + b * 114) / 1000;\r\n    return alpha * bit24 + (yiq >= 128 ? 0x0 : 0xffffff);\r\n  };\r\n  static ContrastYiqToRgba(color: number | string): string {\r\n    return AppColor.ToRgba(AppColor.ContrastYiq(AppColor.toArgbHex(color)));\r\n  };\r\n\r\n\r\n  static GreyScale(argbHex: number): number {\r\n    const { alpha, r, g, b } = AppColor.GetArgbComponents(argbHex);\r\n\r\n    const gray = (r + g + b) / 3 >> 0;\r\n\r\n    return AppColor.MakeArgbHex(alpha, gray, gray, gray);\r\n  };\r\n  static GreyScaleToRgba(color: number | string): string {\r\n    return AppColor.ToRgba(AppColor.GreyScale(AppColor.toArgbHex(color)));\r\n  };\r\n\r\n  static Negate(argbHex: number): number {\r\n    const a = argbHex >>> 24 & 0xff;\r\n    return a * bit24 + (argbHex ^ 0xffffff);\r\n  }\r\n  static NegateToRgba(color: number | string): string {\r\n    return AppColor.ToRgba(AppColor.Negate(AppColor.toArgbHex(color)));\r\n  }\r\n\r\n  static ShadeLightColor(argbHex: number, deviationPercent: number): number {\r\n    let { alpha, r, g, b } = AppColor.GetArgbComponents(argbHex);\r\n    const amt = Math.round(2.55 * deviationPercent);\r\n\r\n    r += amt;\r\n    r = AppColor.ToRangeFF(r);\r\n\r\n    g += amt;\r\n    g = AppColor.ToRangeFF(g);\r\n\r\n    b += amt;\r\n    b = AppColor.ToRangeFF(b);\r\n\r\n    return AppColor.MakeArgbHex(alpha, r, g, b);\r\n  }\r\n  static ShadeLightColorToRgba(color: number | string, deviationPercent: number): string {\r\n    return AppColor.ToRgba(AppColor.ShadeLightColor(AppColor.toArgbHex(color), deviationPercent));\r\n  }\r\n\r\n  toString() {\r\n    return this.toRgba();\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n// THEORY\r\n// f = 2 ** 4 -> 0xff00 = 0xff << 8((2 ** 4) * 2)\r\n\r\n// color = 0x123456;\r\n// get r = color >> 16(4 * f(0b1111)) & 0xff(0b11111111)\r\n// get g = color >> 8 & 0xff\r\n// get b = color & 0xff\r\n// to create color\r\n// r = 0x12\r\n// g = 0x34\r\n// b = 0x56\r\n// color = r << 16 | g << 8 | b; // color = 0x123456\r\n\r\n// пример color = 0xf5443c;\r\n// для получения g нужно сдивинуть биты так, чтобы g была в конце -> color >> 8\r\n// 0xf5443c -> 0x00f544 , затем нужно взять этот сектор из цвета, для этого нужно умножить на бит. 0x00f544 & 0xff\r\n// 0x00f544 & 0xff -> 0x44"],"sourceRoot":""}