{"version":3,"sources":["App/index.tsx","App/store/storages/user.ts","App/store/storages/appData.ts","App/Providers.tsx","App/store/StoreProvider.tsx","App/store/hooks/useUser.ts","server/Queries/Auth/LoginQuery.ts","App/store/index.tsx","App/AppMain.tsx","App/Init.tsx","App/App.tsx","App/style/theme/ThemeColors.tsx","App/style/theme/Themes.tsx","App/style/theme/Global.tsx","App/server/ServerQueryProvider.tsx","server/index.ts","App/style/theme/UseThemeConfig.tsx","appstatic/react_logo.svg","models/views/index.ts","layouts/EmptyLayout/styled.tsx","layouts/EmptyLayout/EmptyLayout.tsx","layouts/AppLayout/styled.tsx","layouts/AppLayout/AppLayout.tsx","models/User.ts","server/ApiClient.ts","App/consts.ts","App/router/RouteConfig.ts","containers/pages/MainPage/styled.tsx","appstatic/react_main.jpeg","appstatic/react_neon.png","containers/pages/MainPage/MainPage.tsx","containers/pages/LoginPage/styled.tsx","containers/pages/LoginPage/LoginPage.tsx","containers/pages/SignUpPage/styled.tsx","containers/pages/SignUpPage/SignUpPage.tsx","App/router/politics.tsx","App/router/Secure.tsx","containers/pages/AdminViewLesson/styled.tsx","containers/pages/AdminViewLesson/AdminViewLesson.tsx","containers/pages/InstructionPage/styled.tsx","containers/pages/InstructionPage/InstructionPage.tsx","containers/pages/PracticesPage/styled.tsx","containers/pages/PracticesPage/PracticesPage.tsx","containers/pages/PracticePage/styled.tsx","containers/pages/PracticePage/PracticePage.tsx","server/Queries/Lesson/CreateLesson.ts","containers/pages/LessonCreate/styled.tsx","containers/pages/LessonCreate/LessonCreate.tsx","containers/pages/SettingsPage/styled.tsx","containers/pages/SettingsPage/SettingsPage.tsx","containers/pages/AdminLessons/styled.tsx","containers/pages/AdminLessons/AdminLessons.tsx","containers/pages/LessonsPage/styled.tsx","containers/pages/LessonsPage/LessonsPage.tsx","containers/pages/ProfilePage/styled.tsx","containers/pages/ProfilePage/ProfilePage.tsx","containers/pages/LessonPage/styled.tsx","containers/pages/LessonPage/LessonPage.tsx","containers/pages/LessonWork/styled.ts","containers/pages/LessonWork/LessonWork.tsx","containers/pages/AdminUsers/styled.tsx","containers/pages/AdminUsers/AdminUsers.tsx","containers/pages/AdminUser/stlyed.tsx","containers/pages/AdminUser/AdminUser.tsx","containers/pages/AboutPage/styled.tsx","appstatic/react_img.png","appstatic/globalweb.webp","appstatic/react_material.png","containers/pages/AboutPage/AboutPage.tsx","containers/pages/AdminMain/styled.tsx","containers/pages/AdminMain/AdminMain.tsx","App/router/AppRoutes.tsx","server/Queries/PracticeOrder/AddPracticeOrder.ts","server/Queries/PracticeOrder/GetAllPractice.ts","server/Queries/PracticeOrder/GetUserPractices.ts","server/Queries/PracticeOrder/GetPracticeInfo.ts","server/Queries/PracticeOrder/RejectPractice.ts","server/Queries/PracticeOrder/ResolvePractice.ts","server/Queries/UserProgress/AddUserProgress.ts","server/Queries/Lesson/GetLessonDetailed.ts","server/Queries/Lesson/DeleteLesson.ts","server/Queries/Lesson/EditLesson.ts","server/Queries/Lesson/GetLessons.ts","server/Queries/Auth/GetCurrentUser.ts","server/Queries/Auth/CheckToken.ts","utils/resizer.js","server/Queries/Auth/SignUp.ts","server/Queries/User/GetUserDetailed.ts","server/Queries/User/ChangeUserRole.ts","server/Queries/User/ChangeAvatar.ts","server/Queries/User/GetAllUsers.ts","server/Queries/User/ChangeNick.ts","server/Queries/User/BanUser.ts","App/store/actions/user.ts","App/store/actions/appData.ts","models/index.tsx","components/SplashScreen/styled.tsx","components/SplashScreen/SplashScreen.tsx","components/ThemeToggler/ThemeToggler.tsx","components/CenterCard/styled.tsx","style/mixins/mixins.ts","components/CenterCard/CenterCard.tsx","components/MarkDown/styled.tsx","components/MarkDown/MarkDown.tsx","components/Bounder/styled.tsx","components/Bounder/Bounder.tsx","components/AppCard/styled.tsx","components/AppCard/AppCard.tsx","components/AppLink/AppLink.tsx","components/AppImg/styled.tsx","components/AppImg/AppImg.tsx","server/ApiConfigure.ts","reportWebVitals.ts","serviceWorkerRegistration.js","index.tsx","App/store/consts.ts","App/style/theme/utilities/Colors.ts"],"names":["UserStorageInitial","authentication","undefined","userData","error","loading","handlers","UserSetToken","state","action","Object","assign","token","UserSetData","user","UserSetError","UserSetLoading","UserClearStore","userReducer","currentHandler","type","call","AppDataInitial","lessons","SetLessons","appDataReducer","Providers","props","children","rootReducer","combineReducers","data","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","StoreProvider","useUserData","userStore","useSelector","LoginQuery","request","api","appApi","post","AppMain","useState","isInit","setIsInit","dispatch","useDispatch","useEffect","a","INIT_User","console","log","Init","App","appColors","accentRed","main","contrastText","AppColor","ContrastYiqToRgba","dark","ShadeLightColorToRgba","light","gray","GreyScaleToRgba","negate","From","toRgba","weak","changeOpacity","accentBlack","accentWhite","accentBlue","accentPurple","accentPink","accentGreen","accentYellow","backgroundLight1","backgroundLight2","backgroundLight3","backgroundDark1","backgroundDark2","backgroundDark3","darkLayout","border","contrast","paper","text","lightLayout","LightThemeConfig","createMuiTheme","palette","primary","secondary","layout","DarkThemeConfig","GlobalOverrideLight","createGlobalStyle","GlobalOverrideDark","CommonStyles","p","theme","breakpoints","down","ThemesEnum","ThemeLocalstorageKey","AppThemeContext","React","createContext","toggleTheme","currentTheme","StyleProvider","Boolean","localStorage","getItem","isDark","setIsDark","savedTheme","matchMedia","matches","document","documentElement","dataset","APP_THEME","Override","Provider","value","newCurrentTheme","setItem","ThemeProvider","queryClient","QueryClient","ServerQueryProvider","QueryClientProvider","client","useThemeConfig","useContext","Main","styled","EmptyLayout","collapsedMenu","mobileModeMedia","AppLayoutDocument","div","EmptyBlock","ProfileManager","spacing","ProfileManagerIcon","img","ProfileManagerMenu","zIndex","tooltip","shadows","ProfileManagerItemBase","ProfileManagerItem","NavLink","ProfileManagerPunkt","ProfileManagerName","LayoutContent","LayoutMenu","nav","Logo","BookIcon","Burger","MenuIcon","Clear","ClearIcon","LogoMenu","NavItem","LayoutHeader","header","LayoutBody","MenuToggler","IconButton","ProfileManagerButton","MoreVertIcon","useStyles","makeStyles","appTheme","ActiveLink","color","mainMenuCloseButton","display","logoToggler","mainToggler","AppLayout","profileOpen","setProfileOpen","menuOpen","setMenuOpen","menusStatuses","useRef","profile","menu","current","themeConfiguration","styles","userName","nick","userAvatar","photo","appFiles","AppConsts","DefaultPhotoPath","exitHandel","useCallback","Logout","outClick","event","target","closest","addEventListener","removeEventListener","data-menu","toString","data-profile-menu","to","appRoutes","data-component","classes","root","aria-label","onClick","CircularProgress","Button","aria-controls","aria-haspopup","src","alt","Box","ml","lineHeight","fontSize","Switch","checked","onChange","name","activeClassName","Profile","Settings","Lessons","About","politic","ByRole","UserRoles","Teacher","Admin","AdminMain","UserData","UserTokenKey","ApiFetcher","query","authenticateToken","canceler","apiError","fetchPromise","isFetched","success","isCanceled","response","onData","onError","this","newAxios","CreateHttpClient","httpClient","then","finishHandler","bind","catch","errorHandler","succeeded","errorMessage","defaultPhoto","staticPath","maxFileSize","path","apiFiles","routeConfig","exact","key","Login","SignUp","Practices","AdminUser","LessonPage","AdminUsers","AdminLesson","AdminLessons","AdminPractice","AdminLessonEdit","AdminInstruction","AdminLessonCreate","getLessonView","id","getLessonEdit","getLessonPage","getAdminPractice","getAdminUser","Container","MainLink","Link","Content","MainImg","AppImg","MainPage","Typography","className","variant","paddingY","Divider","mainReact","neonReact","pt","LoginTitle","LoginForm","form","LoginFooter","LoginPasswordInputGroup","LoginButton","width","passwordIcon","position","top","right","transform","schema","Yup","shape","mail","trim","required","password","LoginPage","loginError","isHide","setIsHide","useForm","resolver","yupResolver","register","errors","formState","handleSubmit","handleHideChange","onSubmit","TextField","disabled","fullWidth","label","message","helperText","mb","RegisterTitle","SignUpIcon","RegisterForm","RegisterButton","SignUpFooter","SignUpPasswordInputGroup","email","min","max","rpassword","test","parent","SignUpPage","history","useHistory","signUpError","mode","getValues","watch","setValue","reset","formValues","userPhoto","URL","createObjectURL","hasPhoto","signUpResult","push","accept","e","files","nativeEvent","htmlFor","size","startIcon","PhotoCamera","component","mt","alignItems","roles","filter","role","includes","length","ByAuth","isAuth","Secure","accessStatus","redirectPath","substituteElement","substituteComponent","ComponentToRender","createElement","AdminLessonViewContainer","Buttons","DeleteButton","shadeLightColor","AdminViewLesson","useParams","deleteDialog","setDeleteDialog","useQuery","lessonId","r","GetLesson","queryKey","enabled","isLoading","isError","deleteReq","useMutation","DeleteLesson","lesson","index","isPractice","md","content","Dialog","onClose","aria-labelledby","open","justifyContent","dividers","autoFocus","mutateAsync","result","InstructionPage","Item","AppCard","ItemItems","PracticeCard","practice","textAlign","lessonName","userNick","Date","createdDate","toLocaleDateString","PracticesPage","useInfiniteQuery","pageParam","GetAllPracticesOrders","page","limit","getNextPageParam","lastPage","pages","total","headers","fetchNextPage","hasNextPage","isFetching","isFetchingNextPage","practices","status","map","el","flat","cards","i","DownloadLink","reason","PracticePage","practiceId","GetPracticeInfo","resolveReq","ResolvePractice","rejectReq","RejectPractice","openReject","setOpenReject","openResolve","setOpenResolve","instuctionOpen","setInstructionOpen","isDone","title","description","href","codePath","download","teacherId","CreateLesson","parseInt","LessonCreate","createReq","createError","setCreateError","InputProps","inputProps","multiline","rowsMax","preventDefault","FormControlLabel","control","mr","SettingsContainer","SettingsPage","AdminLessonsContainer","AdminLessonsContent","AdminLessonsItem","AdminLessonsItemItems","GetLessons","sort","l","pb","LessonsContent","LessonsItem","LessonsItemDisabled","LessonCard","LessonsPage","setLessons","idx","prevLesson","userProgresses","some","ProfileContainer","NickBlock","AvatarButtons","nickSaveButton","marginLeft","height","ProfilePage","mainError","newNick","newPhoto","nickHasChanged","defaultValue","ChangeNick","ChangeAvatar","params","storeLoading","storeError","codeError","setCodeError","userCode","setUserCode","codeRef","userPractices","practiceOrders","lastPractice","parse","isOnProgress","hasDone","Tooltip","AddProgress","userId","rejectReason","AddUserPracticeOrder","codeFile","ref","file","InstructionLink","LessonWork","editReq","EditLesson","Search","ToolButtons","UserCard","userRole","userRoleString","searchError","setSearchError","searchRef","GetAllUsers","search","refetch","users","currentUser","searchHandle","inputRef","RoleRow","setUserRole","roleError","setRoleError","GetUserDetailed","banReq","BanUser","changeRoleReq","ChangeUserRole","FormControl","InputLabel","Select","labelId","MenuItem","FormHelperText","newRole","userForBannId","isBanned","Planets","rotate","keyframes","rotate1","Img","ImgLove","AboutImg","AboutPage","ReactImage","ReactLove","reactMaterial","globalImg","AdminMainContainer","AdminContent","AdminLink","AppRoutes","AppSecure","AddPracticeOrder","FormData","set","URLSearchParams","get","GetUserPractices","put","AddUserProgress","delete","GetCurrentUserQuery","CheckCurrentToken","reduceFileSize","acceptFileSize","maxWidth","maxHeight","quality","callback","Image","onerror","revokeObjectURL","onload","slice","webkitSlice","reader","FileReader","view","DataView","getUint16","byteLength","offset","marker","getUint32","little","tags","readAsArrayBuffer","getExifOrientation","orientation","w","h","scale","Math","round","rawWidth","rawHeight","canvas","ctx","getContext","drawImage","imgToCanvasWithOrientation","toBlob","blob","HTMLCanvasElement","prototype","defineProperty","binStr","atob","toDataURL","split","len","arr","Uint8Array","charCodeAt","Blob","webkitURL","SignUpQuery","Promise","resolve","MimeType","ChangeUserAvatar","requestData","ChangeUserNick","setToken","setUser","setError","setLoading","getState","addAnswer","newAvatar","changeAvatar","changeNick","loginData","loginFetcher","fetch","loginAnswer","signUpAnswer","currentUserAnswer","removeItem","INIT","checkAnswer","SplashLoader","Title","h1","SplashScreen","ThemeToggler","Wrap","CenterCard","MarkDownContainer","background","showdown","setOption","MarkDown","html","Converter","makeHtml","dangerouslySetInnerHTML","__html","BounderImg","AppBounder","hasError","errorInfo","padding","reactLogo","Component","AppCardBody","AppLink","ShadowAnimate","MainImage","axios","create","baseURL","process","withCredentials","auth","cancellation","CancelToken","c","cancelToken","interceptors","use","config","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","getElementById","origin","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","bit24","ff","NamedColors","BLACK","NAVY","DARKBLUE","MEDIUMBLUE","BLUE","DARKGREEN","GREEN","TEAL","DARKCYAN","DEEPSKYBLUE","DARKTURQUOISE","MEDIUMSPRINGGREEN","LIME","SPRINGGREEN","AQUA","CYAN","MIDNIGHTBLUE","DODGERBLUE","LIGHTSEAGREEN","FORESTGREEN","SEAGREEN","DARKSLATEGRAY","LIMEGREEN","MEDIUMSEAGREEN","TURQUOISE","ROYALBLUE","STEELBLUE","DARKSLATEBLUE","MEDIUMTURQUOISE","INDIGO","DARKOLIVEGREEN","CADETBLUE","CORNFLOWERBLUE","MEDIUMAQUAMARINE","DIMGRAY","SLATEBLUE","OLIVEDRAB","SLATEGRAY","LIGHTSLATEGRAY","MEDIUMSLATEBLUE","LAWNGREEN","CHARTREUSE","AQUAMARINE","MAROON","PURPLE","OLIVE","GRAY","SKYBLUE","LIGHTSKYBLUE","BLUEVIOLET","DARKRED","DARKMAGENTA","SADDLEBROWN","DARKSEAGREEN","LIGHTGREEN","MEDIUMPURPLE","DARKVIOLET","PALEGREEN","DARKORCHID","YELLOWGREEN","SIENNA","BROWN","DARKGRAY","LIGHTBLUE","GREENYELLOW","PALETURQUOISE","LIGHTSTEELBLUE","POWDERBLUE","FIREBRICK","DARKGOLDENROD","MEDIUMORCHID","ROSYBROWN","DARKKHAKI","SILVER","MEDIUMVIOLETRED","INDIANRED","PERU","CHOCOLATE","TAN","LIGHTGRAY","PALEVIOLETRED","THISTLE","ORCHID","GOLDENROD","CRIMSON","GAINSBORO","PLUM","BURLYWOOD","LIGHTCYAN","LAVENDER","DARKSALMON","VIOLET","PALEGOLDENROD","LIGHTCORAL","KHAKI","ALICEBLUE","HONEYDEW","AZURE","SANDYBROWN","WHEAT","BEIGE","WHITESMOKE","MINTCREAM","GHOSTWHITE","SALMON","ANTIQUEWHITE","LINEN","LIGHTGOLDENRODYELLOW","OLDLACE","RED","FUCHSIA","MAGENTA","DEEPPINK","ORANGERED","TOMATO","HOTPINK","CORAL","DARKORANGE","LIGHTSALMON","ORANGE","LIGHTPINK","PINK","GOLD","PEACHPUFF","NAVAJOWHITE","MOCCASIN","BISQUE","MISTYROSE","BLANCHEDALMOND","PAPAYAWHIP","LAVENDERBLUSH","SEASHELL","CORNSILK","LEMONCHIFFON","FLORALWHITE","SNOW","YELLOW","LIGHTYELLOW","IVORY","WHITE","ArgbComponents","$alpha","$r","$g","$b","alpha","g","b","colorHex","toArgbHex","ToRangeFF","updateColorHex","updateArgbComponents","ToRgba","ToHex","GetArgbComponents","MakeArgbHex","ArgbHex","Negate","GreyScale","percent","Alpha","ContrastYiq","ShadeLightColor","fromNumber","toUpperCase","startsWith","fromRgb","fromRgba","fromHsl","fromHsla","fromHex","fromName","chanels","Array","from","matchAll","rgbNumbersRegex","Number","aChanel","alphaRegex","parseFloat","s","abs","x","m","hslToRgb","argbHex","toFixed","rChanel","padStart","gChanel","bChanel","chanel","components","deviationPercent","amt","maxArgbHex"],"mappings":"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","file":"static/js/main.9e1fe475.chunk.js","sourcesContent":["export * from './Providers';\r\nexport * from './router';\r\nexport * from './server';\r\nexport * from './consts';\r\nexport * from './store';\r\nexport * from './style';\r\nexport * from './App';","import { User } from \"../../../models\";\r\nimport {\r\n  UserSetToken,\r\n  UserSetData,\r\n  UserSetError,\r\n  UserSetLoading,\r\n  UserClearStore\r\n} from \"../consts\";\r\nimport {\r\n  UserAction,\r\n  UserSetDataAction,\r\n  UserSetErrorAction,\r\n  UserSetLoadingAction,\r\n  UserSetTokenAction,\r\n  UserClearStoreAction\r\n} from \"../types\";\r\n\r\nexport type UserStorage = {\r\n  userData?: User\r\n  authentication?: string\r\n  error: string\r\n  loading: boolean\r\n}\r\n\r\nconst UserStorageInitial: UserStorage = {\r\n  authentication: undefined,\r\n  userData: undefined,\r\n  error: \"\",\r\n  loading: false\r\n}\r\n\r\n\r\nconst setAuthenticationToken = (state: UserStorage, action: UserSetTokenAction) => {\r\n  return Object.assign({}, state, { authentication: action.token });\r\n}\r\n\r\nconst setUserData = (state: UserStorage, action: UserSetDataAction) => {\r\n  return Object.assign({}, state, { userData: action.user });\r\n}\r\n\r\nconst setUserLoading = (state: UserStorage, action: UserSetLoadingAction) => {\r\n  return Object.assign({}, state, { loading: action.loading });\r\n}\r\n\r\nconst setUserError = (state: UserStorage, action: UserSetErrorAction) => {\r\n  return Object.assign({}, state, { error: action.error });\r\n}\r\n\r\nconst clearStore = (state: UserStorage, action: UserClearStoreAction) => {\r\n  return Object.assign({}, {\r\n    authentication: undefined,\r\n    userData: undefined,\r\n    error: \"\",\r\n    loading: false\r\n  });\r\n}\r\n\r\n\r\nconst handlers: { [p: string]: any } = {\r\n  [UserSetToken]: setAuthenticationToken,\r\n  [UserSetData]: setUserData,\r\n  [UserSetError]: setUserError,\r\n  [UserSetLoading]: setUserLoading,\r\n  [UserClearStore]: clearStore\r\n};\r\n\r\nexport const userReducer = function (state: UserStorage = UserStorageInitial, action: UserAction): UserStorage {\r\n  const currentHandler = handlers[action.type];\r\n  return currentHandler ? currentHandler.call(null, state, action) : state;\r\n}","import { Lesson } from \"../../../models/Lesson\";\r\nimport { SetLessons } from \"../consts\";\r\nimport { AppDataAction, DataSetLessonsAction } from \"../types\";\r\n\r\n\r\nexport type AppDataStorage = {\r\n  lessons: Lesson[]\r\n}\r\n\r\nexport const AppDataInitial: AppDataStorage = {\r\n  lessons: []\r\n}\r\n\r\n\r\n\r\nconst setLessons = (state: AppDataStorage, action: DataSetLessonsAction) => {\r\n  return Object.assign({}, state, {lessons: action.lessons});\r\n}\r\n\r\nconst handlers: { [p: string]: any } = {\r\n  [SetLessons]: setLessons\r\n};\r\n\r\nexport const appDataReducer = function (state: AppDataStorage = AppDataInitial, action: AppDataAction): AppDataStorage {\r\n  const currentHandler = handlers[action.type];\r\n  return currentHandler ? currentHandler.call(null, state, action) : state;\r\n}","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { StoreProvider } from './store/StoreProvider';\r\nimport { StyleProvider } from './style';\r\nimport { ServerQueryProvider } from './server';\r\n\r\ntype ProvidersProps = {}\r\n\r\nexport const Providers: React.FC<ProvidersProps> = (props) => {\r\n  return (\r\n    <ServerQueryProvider>\r\n      <StyleProvider>\r\n        <StoreProvider>\r\n          <BrowserRouter>\r\n            {props.children}\r\n          </BrowserRouter>\r\n        </StoreProvider>\r\n      </StyleProvider>\r\n    </ServerQueryProvider>\r\n  );\r\n};","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { Provider } from 'react-redux';\r\nimport { appDataReducer, userReducer } from './storages';\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  data: appDataReducer\r\n});\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' &&\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n    }) :\r\n    compose;\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\n\r\ntype StoreProviderProps = {}\r\n\r\nexport const StoreProvider: React.FC<StoreProviderProps> = (props) => {\r\n  return (\r\n    <Provider store={store}>\r\n      {props.children}\r\n    </Provider>\r\n  );\r\n};","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { User, UserAuthView } from '../../../models';\r\nimport { UserStorage } from '../storages';\r\nimport { RootState } from '../StoreProvider';\r\n\r\nexport const useUserData = function (): UserAuthView {\r\n  const userStore = useSelector<RootState, UserStorage>(state => state.user);\r\n\r\n  return {\r\n    user: userStore.userData,\r\n    authentication: userStore.authentication\r\n  }\r\n}\r\n","import {ApiQueryFunction} from '../../ApiClient';\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\n\r\nexport type UserLoginRequest = {\r\n  mail: string,\r\n  password: string\r\n}\r\n\r\nexport type UserLoginResponse = {\r\n  token: string\r\n}\r\n\r\nexport const LoginQuery: ApiQueryFunction<UserLoginRequest, UserLoginResponse> = (request, api = appApi) => {\r\n  return api.post(\"/account/signin\", request);\r\n};","export * from './StoreProvider';\r\nexport * from './storages';\r\nexport * from './actions';\r\nexport * from './consts';\r\nexport * from './hooks';\r\nexport * from './types';","import React from 'react';\r\nimport { AppRoutes } from '.';\r\nimport { AppBounder, SplashScreen } from '../components';\r\nimport { Init } from './Init';\r\n\r\ntype AppMainProps = {}\r\n\r\nexport const AppMain: React.FC<AppMainProps> = (props) => {\r\n  const isInit = Init();\r\n\r\n  if(isInit == false) return <SplashScreen />\r\n  \r\n  return (\r\n    <AppBounder>\r\n      <AppRoutes />\r\n    </AppBounder>\r\n  );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { INIT as INIT_User } from './store';\r\n\r\nexport const Init = () => {\r\n  const [isInit, setIsInit] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    void async function () {\r\n      await dispatch(INIT_User());\r\n\r\n      setIsInit(true);\r\n\r\n      console.log(\"%c Reacter\", \"font-size: 36px;font-family: 'Courier New', Courier, monospace;font-weight: bold;color: #4d7cff;background-color: #fff;padding: 5px 20px;\");\r\n      console.log(\"%c Учим react вместе\", \"font-size: 18px;font-family: 'Courier New', Courier, monospace;font-weight: bold;color: #fff;background-color: #4d7cff;padding: 5px 20px;\");\r\n    }();\r\n  }, []);\r\n\r\n  return isInit;\r\n}","import React from 'react';\nimport { AppMain } from './AppMain';\nimport { Providers } from './Providers';\n\nimport \"./style/global/main.scss\";\n\nfunction App() {\n  return (\n    <Providers>\n      <AppMain />\n    </Providers>\n  );\n}\n\nexport default App;","// import {} from '@material-ui/core/styles';\r\nimport { AppColor } from './utilities/Colors';\r\n\r\n\r\nexport const appColors = {\r\n  backgroundLight1: \"#000e1e\",\r\n  backgroundLight2: \"#041528\",\r\n  backgroundLight3: \"#1d2c3d\",\r\n\r\n  accentRed: \"#ed5564\",\r\n  accentBlack: \"#212735\",\r\n  accentWhite: \"#d8e3f9\",\r\n  accentBlue: \"#4d7cff\",\r\n  accentPurple: \"#ac92ed\",\r\n  accentPink: \"#ec87bf\",\r\n  accentGreen: \"#a0d468\",\r\n  accentYellow: \"#ffc929\",\r\n\r\n  backgroundDark1: \"#eff5ff\",\r\n  backgroundDark2: \"#ffffff\",\r\n  backgroundDark3: \"#e0e4e8\"\r\n}\r\n\r\nexport type AppColors = \"primary\" | \"secondary\" | \"error\" | \"warning\" | \"info\" | \"success\" | \"background\" | \"layout\" | \"accentRed\" | \"accentBlack\" | \"accentWhite\" | \"accentBlue\" | \"accentPurple\" | \"accentPink\" | \"accentGreen\" | \"accentYellow\" | \"backgroundLight1\" | \"backgroundLight2\" | \"backgroundLight3\" | \"backgroundDark1\" | \"backgroundDark2\" | \"backgroundDark3\";\r\n\r\nexport const accentRed = {\r\n  main: appColors.accentRed,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentRed),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentRed, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentRed, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentRed),\r\n  negate: AppColor.From(appColors.accentRed).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentRed).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentBlack = {\r\n  main: appColors.accentBlack,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentBlack),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentBlack, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentBlack, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentBlack),\r\n  negate: AppColor.From(appColors.accentBlack).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentBlack).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentWhite = {\r\n  main: appColors.accentWhite,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentWhite),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentWhite, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentWhite, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentWhite),\r\n  negate: AppColor.From(appColors.accentWhite).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentWhite).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentBlue = {\r\n  main: appColors.accentBlue,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentBlue),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentBlue, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentBlue, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentBlue),\r\n  negate: AppColor.From(appColors.accentBlue).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentBlue).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentPurple = {\r\n  main: appColors.accentPurple,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentPurple),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentPurple, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentPurple, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentPurple),\r\n  negate: AppColor.From(appColors.accentPurple).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentPurple).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentPink = {\r\n  main: appColors.accentPink,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentPink),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentPink, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentPink, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentPink),\r\n  negate: AppColor.From(appColors.accentPink).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentPink).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentGreen = {\r\n  main: appColors.accentGreen,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentGreen),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentGreen, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentGreen, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentGreen),\r\n  negate: AppColor.From(appColors.accentGreen).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentGreen).changeOpacity(-30).toRgba()\r\n};\r\nexport const accentYellow = {\r\n  main: appColors.accentYellow,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.accentYellow),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.accentYellow, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.accentYellow, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.accentYellow),\r\n  negate: AppColor.From(appColors.accentYellow).negate().toRgba(),\r\n  weak: AppColor.From(appColors.accentYellow).changeOpacity(-30).toRgba()\r\n};\r\n\r\nexport const backgroundLight1 = {\r\n  main: appColors.backgroundLight1,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundLight1),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundLight1, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundLight1, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundLight1),\r\n  negate: AppColor.From(appColors.backgroundLight1).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundLight1).changeOpacity(-30).toRgba()\r\n};\r\nexport const backgroundLight2 = {\r\n  main: appColors.backgroundLight2,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundLight2),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundLight2, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundLight2, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundLight2),\r\n  negate: AppColor.From(appColors.backgroundLight2).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundLight2).changeOpacity(-30).toRgba()\r\n};\r\nexport const backgroundLight3 = {\r\n  main: appColors.backgroundLight3,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundLight3),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundLight3, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundLight3, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundLight3),\r\n  negate: AppColor.From(appColors.backgroundLight3).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundLight3).changeOpacity(-30).toRgba()\r\n};\r\n\r\nexport const backgroundDark1 = {\r\n  main: appColors.backgroundDark1,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundDark1),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundDark1, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundDark1, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundDark1),\r\n  negate: AppColor.From(appColors.backgroundDark1).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundDark1).changeOpacity(-30).toRgba()\r\n};\r\nexport const backgroundDark2 = {\r\n  main: appColors.backgroundDark2,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundDark2),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundDark2, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundDark2, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundDark2),\r\n  negate: AppColor.From(appColors.backgroundDark2).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundDark2).changeOpacity(-30).toRgba()\r\n};\r\nexport const backgroundDark3 = {\r\n  main: appColors.backgroundDark3,\r\n  contrastText: AppColor.ContrastYiqToRgba(appColors.backgroundDark3),\r\n  dark: AppColor.ShadeLightColorToRgba(appColors.backgroundDark3, -30),\r\n  light: AppColor.ShadeLightColorToRgba(appColors.backgroundDark3, 30),\r\n  gray: AppColor.GreyScaleToRgba(appColors.backgroundDark3),\r\n  negate: AppColor.From(appColors.backgroundDark3).negate().toRgba(),\r\n  weak: AppColor.From(appColors.backgroundDark3).changeOpacity(-30).toRgba()\r\n};\r\n\r\nexport const darkLayout = {\r\n  main: appColors.backgroundLight1,\r\n  dark: appColors.accentBlack,\r\n  light: appColors.backgroundLight2,\r\n  border: appColors.accentWhite,\r\n  contrast: appColors.accentWhite,\r\n  paper: appColors.backgroundLight2,\r\n  text: appColors.backgroundDark1\r\n}\r\n\r\nexport const lightLayout = {\r\n  main: appColors.accentWhite,\r\n  dark: appColors.accentWhite,\r\n  light: appColors.backgroundDark1,\r\n  border: appColors.accentWhite,\r\n  contrast: appColors.accentBlack,\r\n  paper: appColors.backgroundDark2,\r\n  text: appColors.accentBlack\r\n}\r\n\r\nexport type AppThemeColor = {\r\n  main: string\r\n  contrastText: string\r\n  dark: string\r\n  light: string\r\n  gray: string\r\n  negate: string\r\n  weak: string\r\n}\r\n\r\nexport type LayoutColor = {\r\n  main: string\r\n  dark: string\r\n  light: string\r\n  border: string\r\n  contrast: string\r\n  paper: string\r\n  text: string\r\n}","import React from 'react';\r\nimport { createMuiTheme } from \"@material-ui/core\";\r\nimport { createGlobalStyle } from 'styled-components';\r\nimport {\r\n  accentRed,\r\n  accentBlack,\r\n  accentWhite,\r\n  accentBlue,\r\n  accentPurple,\r\n  accentPink,\r\n  accentGreen,\r\n  accentYellow,\r\n  backgroundLight1,\r\n  backgroundLight2,\r\n  backgroundLight3,\r\n  backgroundDark1,\r\n  backgroundDark2,\r\n  backgroundDark3,\r\n  darkLayout,\r\n  lightLayout,\r\n  AppThemeColor,\r\n  LayoutColor,\r\n  appColors\r\n} from './ThemeColors';\r\nimport { DefaultTheme } from 'styled-components';\r\n\r\ndeclare module \"@material-ui/core/styles/createPalette\" {\r\n  interface Palette {\r\n    accentRed: AppThemeColor;\r\n    accentBlack: AppThemeColor;\r\n    accentWhite: AppThemeColor;\r\n    accentBlue: AppThemeColor;\r\n    accentPurple: AppThemeColor;\r\n    accentPink: AppThemeColor;\r\n    accentGreen: AppThemeColor;\r\n    accentYellow: AppThemeColor;\r\n    backgroundLight1: AppThemeColor;\r\n    backgroundLight2: AppThemeColor;\r\n    backgroundLight3: AppThemeColor;\r\n    backgroundDark1: AppThemeColor;\r\n    backgroundDark2: AppThemeColor;\r\n    backgroundDark3: AppThemeColor;\r\n    layout: LayoutColor;\r\n  }\r\n  interface PaletteOptions {\r\n    accentRed: AppThemeColor;\r\n    accentBlack: AppThemeColor;\r\n    accentWhite: AppThemeColor;\r\n    accentBlue: AppThemeColor;\r\n    accentPurple: AppThemeColor;\r\n    accentPink: AppThemeColor;\r\n    accentGreen: AppThemeColor;\r\n    accentYellow: AppThemeColor;\r\n    backgroundLight1: AppThemeColor;\r\n    backgroundLight2: AppThemeColor;\r\n    backgroundLight3: AppThemeColor;\r\n    backgroundDark1: AppThemeColor;\r\n    backgroundDark2: AppThemeColor;\r\n    backgroundDark3: AppThemeColor;\r\n    layout: LayoutColor;\r\n  }\r\n}\r\n\r\nexport const LightThemeConfig: DefaultTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: accentBlue.main,\r\n    },\r\n    secondary: {\r\n      main: accentGreen.main,\r\n    },\r\n    layout: lightLayout,\r\n    accentRed,\r\n    accentBlack,\r\n    accentWhite,\r\n    accentBlue,\r\n    accentPurple,\r\n    accentPink,\r\n    accentGreen,\r\n    accentYellow,\r\n    backgroundLight1,\r\n    backgroundLight2,\r\n    backgroundLight3,\r\n    backgroundDark1,\r\n    backgroundDark2,\r\n    backgroundDark3,\r\n\r\n    text: {\r\n      primary: appColors.accentBlack\r\n    }\r\n  },\r\n});\r\nexport const DarkThemeConfig: DefaultTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: accentBlue.main,\r\n    },\r\n    secondary: {\r\n      main: accentGreen.main,\r\n    },\r\n    layout: darkLayout,\r\n    accentRed,\r\n    accentBlack,\r\n    accentWhite,\r\n    accentBlue,\r\n    accentPurple,\r\n    accentPink,\r\n    accentGreen,\r\n    accentYellow,\r\n    backgroundLight1,\r\n    backgroundLight2,\r\n    backgroundLight3,\r\n    backgroundDark1,\r\n    backgroundDark2,\r\n    backgroundDark3,\r\n\r\n    text: {\r\n      primary: appColors.backgroundDark1\r\n    }\r\n  },\r\n});\r\n\r\n\r\nexport const GlobalOverrideLight = createGlobalStyle`\r\n\r\n`;\r\nexport const GlobalOverrideDark = createGlobalStyle`\r\n\r\n`;\r\nexport const CommonStyles = createGlobalStyle`\r\n  img {\r\n    max-width: 100%;\r\n  }\r\n\r\n  ${p => p.theme.breakpoints.down(\"xs\")} {\r\n    h3.fix {\r\n      font-size: 24px;\r\n    }\r\n  }\r\n`;\r\n// --some-var-for-override: ${props.theme.some};","import React, { useEffect, useRef, useState } from 'react';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components'\r\nimport { CommonStyles, DarkThemeConfig, GlobalOverrideDark, GlobalOverrideLight, LightThemeConfig } from './Themes';\r\n\r\n\r\nexport const ThemesEnum = {\r\n  dark: \"dark\",\r\n  light: \"light\"\r\n};\r\nconst ThemeLocalstorageKey = \"userTheme\";\r\n\r\n\r\ntype StyleProviderProps = {}\r\n\r\n\r\nexport type ThemeContextProps = {\r\n  toggleTheme: () => string\r\n  currentTheme: string\r\n}\r\nexport const AppThemeContext = React.createContext<ThemeContextProps>({ toggleTheme: () => \"\", currentTheme: \"dark\" });\r\n\r\nexport const StyleProvider: React.FC<StyleProviderProps> = function (props) {\r\n  const [isDark, setIsDark] = useState(() => !Boolean(localStorage.getItem(ThemeLocalstorageKey) == ThemesEnum.light));\r\n\r\n  useEffect(() => {\r\n    const savedTheme = localStorage.getItem(ThemeLocalstorageKey);\r\n    const systemPrefer = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n\r\n    let currentTheme = systemPrefer.matches ? ThemesEnum.dark : ThemesEnum.light;\r\n    if (savedTheme) currentTheme = savedTheme;\r\n\r\n    if (currentTheme == ThemesEnum.light) setIsDark(false);\r\n\r\n    window.document.documentElement.dataset.theme = currentTheme;\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newCurrentTheme = isDark ? ThemesEnum.light : ThemesEnum.dark;\r\n    window.document.documentElement.dataset.theme = newCurrentTheme;\r\n\r\n    localStorage.setItem(ThemeLocalstorageKey, newCurrentTheme);\r\n    setIsDark(!isDark);\r\n    return newCurrentTheme;\r\n  }\r\n\r\n  let theme = Object.assign({}, DarkThemeConfig);\r\n  if (isDark === false) {\r\n    theme = Object.assign({}, LightThemeConfig);\r\n  }\r\n  (window as any).APP_THEME = theme;\r\n\r\n  let Override = GlobalOverrideDark;\r\n  if (isDark === false) Override = GlobalOverrideLight;\r\n\r\n  return (\r\n    <AppThemeContext.Provider value={{ toggleTheme: toggleTheme, currentTheme: isDark ? ThemesEnum.dark : ThemesEnum.light }}>\r\n      <ThemeProvider theme={theme}>\r\n        <StyledThemeProvider theme={theme}>\r\n          <CommonStyles />\r\n          <Override />\r\n          {props.children}\r\n        </StyledThemeProvider>\r\n      </ThemeProvider>\r\n    </AppThemeContext.Provider>\r\n  );\r\n}","import React from 'react';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\n\r\ntype ServerQueryProviderProps = {}\r\n\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nexport const ServerQueryProvider: React.FC<ServerQueryProviderProps> = (props) => {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      {props.children}\r\n    </QueryClientProvider>\r\n  );\r\n};","export * from './ApiConfigure';\r\nexport * from './ApiClient';\r\nexport * from './ApiModel';\r\nexport * from './Queries';","import React, { useContext } from 'react';\r\nimport { AppThemeContext, ThemeContextProps } from './Global';\r\n\r\nexport function useThemeConfig(): ThemeContextProps {\r\n  const themeConfig = useContext(AppThemeContext);\r\n\r\n  return themeConfig;\r\n}","export default __webpack_public_path__ + \"static/media/react_logo.436f7205.svg\";","export * from './UserAuthView';\r\nexport * from './LessonDetailed';\r\nexport * from './PracticeOrderView';\r\nexport * from './PracticeOrderDetailedView';","import styled from 'styled-components';\r\n\r\nexport const Main = styled.main`\r\n  background-color: ${props => props.theme.palette.layout.main};\r\n  min-height: 100vh;\r\n  height: auto;\r\n`;","import React from 'react';\r\nimport {Main} from './styled';\r\n\r\ntype EmptyLayoutProps = {}\r\n\r\nexport const EmptyLayout: React.FC<EmptyLayoutProps> = (props) => {\r\n  return (\r\n    <Main>\r\n      {props.children}\r\n    </Main>\r\n  );\r\n};","import { Link, NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport BookIcon from '@material-ui/icons/Book';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { IconButton, Theme } from '@material-ui/core';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\nconst collapsedMenu = \"100px\";\r\nconst mobileModeMedia = \"724px\";\r\n\r\n\r\nexport const AppLayoutDocument = styled.div`\r\n  background-color: ${props => props.theme.palette.layout.main};\r\n\r\n  min-height: 100%;\r\n  position: relative;\r\n`;\r\n\r\nexport const EmptyBlock = styled.div`\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n`;\r\n\r\nexport const ProfileManager = styled.div`\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 0.5rem;\r\n\r\n  position: relative;\r\n`;\r\n\r\nexport const ProfileManagerIcon = styled.img`\r\n  width: 72px;\r\n  height: 72px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  object-position: center;\r\n`;\r\n\r\nexport const ProfileManagerMenu = styled.div`\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n  position: absolute;\r\n  width: 100%;\r\n  left: 0;\r\n  top: 100%;\r\n\r\n  opacity: 0;\r\n  visibility: hidden;\r\n\r\n  border-top: 4px solid ${props => props.theme.palette.layout.main};\r\n  z-index: ${props => props.theme.zIndex.tooltip};\r\n\r\n  transition: visibility 0.3s, opacity 0.3s;\r\n\r\n  box-shadow: ${props => props.theme.shadows[4]};\r\n\r\n  ${AppLayoutDocument}[data-profile-menu=\"true\"] & {\r\n    visibility: visible;\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\n\r\nconst ProfileManagerItemBase = `\r\n  display: flex;\r\n  gap: 0 8px;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: color 0.3s;\r\n`;\r\n\r\nexport const ProfileManagerItem = styled(NavLink)`\r\n  margin: ${props => props.theme.spacing(2)}px 0;\r\n  ${ProfileManagerItemBase}\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.palette.accentBlue.main};\r\n  }\r\n`;\r\n\r\nexport const ProfileManagerPunkt = styled.div`\r\n  margin: ${props => props.theme.spacing(2)}px 0;\r\n  ${ProfileManagerItemBase}\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.palette.accentBlue.main};\r\n  }\r\n`;\r\n\r\nexport const ProfileManagerName = styled.div`\r\n  word-break: break-all;\r\n  padding: 0 0.5rem 0 0;\r\n`;\r\n\r\nexport const LayoutContent = styled.div`\r\n`;\r\n\r\nexport const LayoutMenu = styled.nav`\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n\r\n  position: sticky;\r\n  top: 120px;\r\n  align-self: flex-start;\r\n`;\r\n\r\nexport const Logo = styled(BookIcon)`\r\n  svg& {\r\n    font-size: 48px;\r\n  }\r\n`;\r\n\r\nexport const Burger = styled(MenuIcon)`\r\n  svg& {\r\n    font-size: 48px;\r\n  }\r\n`;\r\n\r\nexport const Clear = styled(ClearIcon)`\r\n  svg& {\r\n    font-size: 48px;\r\n  }\r\n`;\r\n\r\nexport const LogoMenu = styled.div`\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n\r\n  display: flex;\r\n  gap: 0 8px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const NavItem = styled(NavLink)`\r\n  display: flex;\r\n  gap: 0 16px;\r\n  margin: ${props => props.theme.spacing(2)}px 0;\r\n  align-items: center;\r\n  transition: color 0.2s;\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.palette.accentBlue.main};\r\n  }\r\n`;\r\n\r\nexport const LayoutHeader = styled.header`\r\n  display: grid;\r\n  grid-template-columns: 340px 1fr 290px;\r\n  grid-template-rows: auto auto;\r\n  gap: 4px;\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: ${props => props.theme.palette.layout.main};\r\n  z-index: 2;\r\n\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & {\r\n    grid-template-columns: ${collapsedMenu} 1fr 290px;\r\n  }\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & ${LogoMenu} a {\r\n    display: none;\r\n  }\r\n\r\n  @media screen and (max-width: ${mobileModeMedia}) {\r\n    ${AppLayoutDocument}[data-menu=\"true\"] & ${Clear} {\r\n      display: block;\r\n    }\r\n    ${AppLayoutDocument}[data-menu=\"true\"] & ${Burger} {\r\n      display: none;\r\n    }\r\n    &{\r\n      grid-template-columns: 75px 0 1fr !important;\r\n      gap: 2px;\r\n    }\r\n\r\n    ${AppLayoutDocument}[data-menu=\"true\"] {\r\n\r\n    }\r\n\r\n    & ${ProfileManagerIcon} {\r\n        width: 36px; \r\n        height: 36px; \r\n    }\r\n  }\r\n`;\r\n\r\nexport const LayoutBody = styled.main`\r\n  display: grid;\r\n  grid-template-columns: 340px 1fr;\r\n  gap: 0 4px;\r\n  padding-bottom: 100px;\r\n\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & {\r\n    grid-template-columns: ${collapsedMenu} 1fr;\r\n  }\r\n\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & ${LayoutMenu} {\r\n    padding-left: 34px;\r\n  }\r\n\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & ${NavItem} > span {\r\n    display: none;\r\n  }\r\n\r\n  @media screen and (max-width: ${mobileModeMedia}) {\r\n    & {\r\n      grid-template-columns: 1fr !important;\r\n    }\r\n\r\n    & ${LayoutMenu} {\r\n      visibility: hidden;\r\n      opacity: 0;\r\n      position: fixed;\r\n      top: ${props => props.theme.spacing(1)}px;\r\n      left: ${props => props.theme.spacing(1)}px;\r\n      right: ${props => props.theme.spacing(1)}px;\r\n      bottom: ${props => props.theme.spacing(1)}px;\r\n\r\n      display: flex;\r\n      flex-direction: column-reverse;\r\n\r\n      padding-bottom: 85px;\r\n\r\n      box-shadow: 0 0 16px 0 #333;\r\n\r\n      z-index: 15;\r\n      border-radius: 8px;\r\n      border: 1px solid ${props => props.theme.palette.layout.border};\r\n\r\n      transition: visibility 0.3s, opacity 0.3s;\r\n    }\r\n\r\n    ${AppLayoutDocument}[data-menu=\"true\"] & ${LayoutMenu} {\r\n      visibility: visible;\r\n      opacity: 1;\r\n    }\r\n\r\n    ${AppLayoutDocument}[data-menu=\"true\"] & ${NavItem} > span {\r\n      display: flex;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const MenuToggler = styled(IconButton)`\r\n  transition: transform 0.2s, background-color 0.3s;\r\n  color: ${props => props.theme.palette.layout.contrast} !important;\r\n\r\n  button&&:hover {\r\n    background-color: ${props => props.theme.palette.accentBlue.main};\r\n  }\r\n\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & {\r\n    transform: rotateZ(90deg);\r\n  }\r\n  ${Clear} {\r\n    display: none;\r\n  }\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & ${Clear} {\r\n    display: block;\r\n  }\r\n  ${AppLayoutDocument}[data-menu=\"true\"] & ${Burger} {\r\n    display: none;\r\n  }\r\n\r\n  @media screen and (max-width: ${mobileModeMedia}) {\r\n    button&&{\r\n      padding: 16px;\r\n      background-color: ${props => props.theme.palette.layout.paper};\r\n      border: 1px solid ${props => props.theme.palette.layout.border};\r\n      position: fixed;\r\n      box-shadow: ${props => props.theme.shadows[4]};\r\n      bottom: ${props => props.theme.spacing(2)}px;\r\n      right: ${props => props.theme.spacing(2)}px;\r\n      z-index: 25;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const MainMenuToggler = styled(IconButton)`\r\n  display: none;\r\n\r\n  @media screen and (max-width: 724px){\r\n    display: block;\r\n  }\r\n`;\r\n\r\nexport const ProfileManagerButton = styled(MoreVertIcon)`\r\n  color: ${props => props.theme.palette.layout.contrast};\r\n`;\r\n\r\nexport const useStyles = makeStyles((theme) => {\r\n  const appTheme = theme as Theme;\r\n\r\n  return {\r\n    ActiveLink: {\r\n      color: appTheme.palette.accentBlue.main,\r\n\r\n      '& svg': {\r\n        color: appTheme.palette.accentBlue.main\r\n      }\r\n    },\r\n\r\n    mainMenuCloseButton: {\r\n      display: \"none\",\r\n    },\r\n\r\n    logoToggler: {\r\n      '@media screen and (max-width: 724px)': {\r\n        display: 'none'\r\n      }\r\n    },\r\n\r\n    mainToggler: {\r\n      display: 'none',\r\n\r\n      '@media screen and (max-width: 724px)': {\r\n        display: 'block'\r\n      }\r\n    }\r\n  };\r\n});","import React, { useCallback, useEffect, useRef } from 'react';\r\nimport { AppConsts, appFiles, appRoutes, ByRole, Logout, RootState, Secure, ThemesEnum } from '../../App';\r\nimport {\r\n  AppLayoutDocument,\r\n  Burger,\r\n  EmptyBlock,\r\n  LayoutHeader,\r\n  Logo,\r\n  LogoMenu,\r\n  ProfileManager,\r\n  ProfileManagerIcon,\r\n  ProfileManagerItem,\r\n  ProfileManagerMenu,\r\n  ProfileManagerPunkt,\r\n  useStyles,\r\n  Clear,\r\n  LayoutContent,\r\n  LayoutMenu,\r\n  LayoutBody,\r\n  NavItem,\r\n  ProfileManagerButton,\r\n  ProfileManagerName,\r\n  MenuToggler\r\n} from './styled';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { Box, CircularProgress, Switch } from '@material-ui/core';\r\nimport { useThemeConfig } from '../../App/style/theme/UseThemeConfig';\r\nimport SettingsBrightnessIcon from '@material-ui/icons/SettingsBrightness';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport { Link } from 'react-router-dom';\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { UserRoles } from '../../models';\r\n\r\ntype AppLayoutProps = {}\r\n\r\nexport const AppLayout: React.FC<AppLayoutProps> = ({ children }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [profileOpen, setProfileOpen] = React.useState(false);\r\n  const [menuOpen, setMenuOpen] = React.useState(false);\r\n  const menusStatuses = useRef({ profile: false, menu: false });\r\n  menusStatuses.current.menu = menuOpen;\r\n  menusStatuses.current.profile = profileOpen;\r\n\r\n  const themeConfiguration = useThemeConfig();\r\n  const styles = useStyles();\r\n\r\n  const userData = useSelector((state: RootState) => state.user.userData);\r\n  const userName = userData?.nick ?? \"Без имени\";\r\n  const userAvatar = userData?.photo ? appFiles(userData?.photo) : AppConsts.DefaultPhotoPath;\r\n  const loading = Boolean(userData) == false;\r\n\r\n\r\n  const exitHandel = useCallback(() => {\r\n    dispatch(Logout());\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function outClick(event: React.MouseEvent<HTMLElement> | React.TouchEvent<HTMLElement>): any {\r\n      const target = event.target as HTMLElement;\r\n\r\n      if ((Boolean(target.closest('[data-component=\"profile-manager\"]')) == false) && menusStatuses.current.profile) {\r\n        setProfileOpen(false);\r\n      }\r\n    }\r\n\r\n    document.documentElement.addEventListener(\"click\", outClick as any);\r\n    document.documentElement.addEventListener(\"touchend\", outClick as any);\r\n\r\n    return () => {\r\n      document.documentElement.removeEventListener(\"click\", outClick as any);\r\n      document.documentElement.removeEventListener(\"touchend\", outClick as any);\r\n    }\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <AppLayoutDocument key=\"AppLayout\" data-menu={menuOpen.toString()} data-profile-menu={profileOpen.toString()}>\r\n      <LayoutHeader>\r\n        <LogoMenu>\r\n          <Link to={appRoutes.App}><Logo /></Link>\r\n\r\n          <MenuToggler data-component=\"IconButton\" classes={{ root: styles.logoToggler }} aria-label=\"toggle menu\" onClick={() => setMenuOpen(!menuOpen)}>\r\n            <Burger />\r\n            <Clear />\r\n          </MenuToggler>\r\n        </LogoMenu>\r\n        <EmptyBlock />\r\n        <ProfileManager data-component=\"profile-manager\">\r\n          {loading && <CircularProgress />}\r\n\r\n          {loading == false &&\r\n            <ProfileManagerName>{userName}</ProfileManagerName>\r\n          }\r\n\r\n          {loading == false &&\r\n            <div>\r\n              <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={() => setProfileOpen(!profileOpen)}>\r\n                <ProfileManagerIcon src={userAvatar} alt=\"user avatar\" />\r\n\r\n                <Box ml={1} lineHeight=\"0\">\r\n                  <ProfileManagerButton fontSize=\"large\" />\r\n                </Box>\r\n              </Button>\r\n            </div>\r\n          }\r\n\r\n\r\n          {loading == false &&\r\n            <ProfileManagerMenu>\r\n              <ProfileManagerPunkt>\r\n                <SettingsBrightnessIcon />\r\n\r\n                <Switch\r\n                  checked={themeConfiguration.currentTheme == ThemesEnum.dark}\r\n                  onChange={() => themeConfiguration.toggleTheme()}\r\n                  name=\"theme\"\r\n                  color=\"primary\"\r\n                />\r\n              </ProfileManagerPunkt>\r\n\r\n              <ProfileManagerItem activeClassName={styles.ActiveLink} to={appRoutes.Profile}><AccountCircleIcon /> Профиль</ProfileManagerItem>\r\n              <ProfileManagerItem activeClassName={styles.ActiveLink} to={appRoutes.Settings}><SettingsIcon /> Настройки</ProfileManagerItem>\r\n              <ProfileManagerPunkt onClick={exitHandel}><ExitToAppIcon /> Выйти</ProfileManagerPunkt>\r\n            </ProfileManagerMenu>\r\n          }\r\n\r\n        </ProfileManager>\r\n      </LayoutHeader>\r\n      <LayoutBody>\r\n        <LayoutMenu>\r\n          <NavItem to={appRoutes.Lessons} activeClassName={styles.ActiveLink}><ViewListIcon fontSize=\"large\" /> <span>Уроки</span></NavItem>\r\n          <NavItem to={appRoutes.About} activeClassName={styles.ActiveLink}><InfoIcon fontSize=\"large\" /> <span>О проекте</span></NavItem>\r\n\r\n          <Secure politic={ByRole([UserRoles.Teacher, UserRoles.Admin])}>\r\n            <NavItem to={appRoutes.AdminMain} activeClassName={styles.ActiveLink}><SupervisedUserCircleIcon fontSize=\"large\" /> <span>Админ панель</span></NavItem>\r\n          </Secure>\r\n        </LayoutMenu>\r\n        <LayoutContent>\r\n          {children}\r\n        </LayoutContent>\r\n        <MenuToggler data-component=\"IconButton\" classes={{ root: styles.mainToggler }} aria-label=\"toggle menu\" onClick={() => setMenuOpen(!menuOpen)}>\r\n          <Burger />\r\n          <Clear />\r\n        </MenuToggler>\r\n      </LayoutBody>\r\n    </AppLayoutDocument >\r\n  );\r\n};","import { PracticeOrder } from \"./Practice\";\r\nimport { Sertificate } from \"./Sertificate\";\r\nimport { UserProgres } from \"./UserProgress\";\r\n\r\nexport class User {\r\n  public id: number;\r\n  public nick: string;\r\n  public roles: UserRoles[];\r\n  public mail: string;\r\n  public isBanned: boolean;\r\n  public photo: string;\r\n  public subjectSertificates: Array<Sertificate>;\r\n  public userProgresses: UserProgres[]\r\n  public practiceOrders: PracticeOrder[]\r\n\r\n  constructor(\r\n    $Id: number = 0,\r\n    $Nick: string = \"\",\r\n    $Roles: UserRoles[] = [],\r\n    $Mail: string = \"\",\r\n    $IsBanned: boolean = false,\r\n    $Photo: string = \"\",\r\n    $SubjectSertificates: Array<Sertificate> = [],\r\n    userProgresses: UserProgres[] = [],\r\n    practiceOrders: PracticeOrder[] = []\r\n  ) {\r\n    this.id = $Id;\r\n    this.nick = $Nick;\r\n    this.roles = $Roles;\r\n    this.mail = $Mail;\r\n    this.isBanned = $IsBanned;\r\n    this.photo = $Photo;\r\n    this.subjectSertificates = $SubjectSertificates;\r\n    this.userProgresses = userProgresses;\r\n    this.practiceOrders = practiceOrders;\r\n  }\r\n\r\n  static Null() {\r\n    return new User();\r\n  }\r\n}\r\n\r\nexport class UserData {\r\n  static UserTokenKey = \"userTokenKey\";\r\n}\r\n\r\nexport enum UserRoles {\r\n  Participant,\r\n  Teacher,\r\n  Admin,\r\n}","import { AxiosInstance, AxiosResponse, Canceler } from \"axios\";\r\nimport { appApi, CreateHttpClient } from \"./ApiConfigure\";\r\nimport { IApiResponse } from \"./ApiModel\";\r\n\r\n\r\nexport type ApiQueryFunction<TRequest = undefined, TResponse = undefined> = (request?: TRequest, api?: AxiosInstance) => Promise<AxiosResponse<IApiResponse<TResponse>>>;\r\n\r\n\r\nexport class ApiFetcher<TRequest = undefined, TResponse = undefined> {\r\n  protected api: AxiosInstance;\r\n  protected query: ApiQueryFunction<TRequest, TResponse>;\r\n\r\n  public canceler: Canceler;\r\n\r\n  public error: any = null;\r\n  public apiError?: string;\r\n  public loading: boolean = false;\r\n\r\n  public data?: TResponse;\r\n  public fetchPromise?: Promise<IApiResponse<TResponse>>;\r\n\r\n  public isFetched: boolean = false;\r\n  public success: boolean = false;\r\n  public isCanceled: boolean = false;\r\n\r\n  public authenticateToken: string;\r\n\r\n  public response?: IApiResponse<TResponse>;\r\n  public request?: TRequest;\r\n\r\n  public onData?: (data: IApiResponse<TResponse>, fetcher?: ApiFetcher<TRequest, TResponse>) => any\r\n  public onError?: (data: IApiResponse<TResponse>, fetcher?: ApiFetcher<TRequest, TResponse>) => any\r\n\r\n  constructor(query: ApiQueryFunction<TRequest, TResponse>, authenticateToken: string = \"\") {\r\n    this.query = query;\r\n\r\n    this.authenticateToken = authenticateToken;\r\n\r\n    const newAxios = CreateHttpClient(this.authenticateToken);\r\n    this.api = newAxios.httpClient;\r\n    this.canceler = newAxios.canceler;\r\n  }\r\n\r\n  reload() {\r\n    this.error = undefined;\r\n    this.apiError = undefined;\r\n    this.loading = false;\r\n\r\n    this.data = undefined;\r\n    this.fetchPromise = undefined;\r\n\r\n    this.isFetched = false;\r\n    this.success = false;\r\n    this.isCanceled = false;\r\n\r\n    this.response = undefined;\r\n    this.request = undefined;\r\n\r\n    const newAxios = CreateHttpClient(this.authenticateToken);\r\n    this.api = newAxios.httpClient;\r\n    this.canceler = newAxios.canceler;\r\n  }\r\n\r\n  fetch(request: TRequest): Promise<IApiResponse<TResponse>> {\r\n    this.fetchPromise = this.query(request, this.api).then((data) => data.data);\r\n\r\n    this.request = request;\r\n\r\n    this.fetchPromise.then(this.finishHandler.bind(this)).catch(this.errorHandler.bind(this));\r\n\r\n    this.loading = true;\r\n\r\n    return this.fetchPromise;\r\n  }\r\n\r\n  cancel() {\r\n    this.canceler?.();\r\n\r\n    this.loading = false;\r\n\r\n    this.isFetched = false;\r\n    this.isCanceled = true;\r\n  }\r\n\r\n  private finishHandler(data: IApiResponse<TResponse>) {\r\n    this.loading = false;\r\n    this.isFetched = true;\r\n    this.success = true;\r\n\r\n    this.response = data;\r\n\r\n    if (data.succeeded == false) {\r\n      this.success = false;\r\n      this.apiError = data.errorMessage;\r\n    }\r\n\r\n    if (data.succeeded) {\r\n      this.data = data.data;\r\n    }\r\n\r\n    this.onData?.(data, this);\r\n  }\r\n\r\n  private errorHandler(error: any) {\r\n    this.loading = false;\r\n    this.success = false;\r\n    this.isFetched = true;\r\n\r\n    this.error = error;\r\n\r\n    this.onError?.(error, this);\r\n  }\r\n}","export const AppConsts = {\r\n  defaultPhoto: \"default.png\",\r\n  staticPath: '/files',\r\n  maxFileSize: 2.5e7,\r\n\r\n  get DefaultPhotoPath() {\r\n    return this.staticPath + \"/\" + this.defaultPhoto;\r\n  },\r\n}\r\n\r\nexport function appFiles(path: string) {\r\n  return AppConsts.staticPath + \"/\" + path;\r\n}\r\n\r\nexport function apiFiles(path: string) {\r\n  return `/api/v1/files/${path}`;\r\n}","import { generatePath } from \"react-router-dom\";\r\n\r\nexport const routeConfig = {\r\n  App: { path: \"/\", exact: true, key: \"AppRoute\" },\r\n  Login: { path: \"/login\", exact: true, key: \"LoginRoute\" },\r\n  About: { path: \"/about\", exact: true, key: \"AboutRoute\" },\r\n  SignUp: { path: \"/signup\", exact: true, key: \"SignUpRoute\" },\r\n  Profile: { path: \"/profile\", exact: true, key: \"ProfileRoute\" },\r\n  Lessons: { path: \"/lessons\", exact: true, key: \"LessonsRoute\" },\r\n  Settings: { path: \"/settings\", exact: true, key: \"SettingsRoute\" },\r\n  Practices: { path: \"/admin/practices\", exact: true, key: \"PracticesRoute\" },\r\n  AdminMain: { path: \"/admin\", exact: true, key: \"AdminRoute\" },\r\n  AdminUser: { path: \"/admin/users/:id\", exact: true, key: \"AdminUserRoute\" },\r\n  LessonPage: { path: \"/lessons/:id\", exact: true, key: \"LessonPageRoute\" },\r\n  AdminUsers: { path: \"/admin/users\", exact: true, key: \"AdminUsersRoute\" },\r\n  AdminLesson: { path: \"/admin/lessons/:id/view\", exact: true, key: \"AdminLessonRoute\" },\r\n  AdminLessons: { path: \"/admin/lessons\", exact: true, key: \"AdminLessonsRoute\" },\r\n  AdminPractice: { path: \"/admin/practice/:id\", exact: true, key: \"AdminPracticeRoute\" },\r\n  AdminLessonEdit: { path: \"/admin/lessons/:id/edit\", exact: true, key: \"AdminLessonEditRoute\" },\r\n  AdminInstruction: { path: \"/admin/instruction\", exact: true, key: \"AdminInstractionRoute\" },\r\n  AdminLessonCreate: { path: \"/admin/lessons/create\", exact: true, key: \"AdminLessonCreateRoute\" },\r\n}\r\n\r\nexport const appRoutes = {\r\n  App: routeConfig.App.path,\r\n  Login: routeConfig.Login.path,\r\n  About: routeConfig.About.path,\r\n  SignUp: routeConfig.SignUp.path,\r\n  Profile: routeConfig.Profile.path,\r\n  Lessons: routeConfig.Lessons.path,\r\n  Settings: routeConfig.Settings.path,\r\n  Practices: routeConfig.Practices.path,\r\n  AdminMain: routeConfig.AdminMain.path,\r\n  AdminUser: routeConfig.AdminUser.path,\r\n  LessonPage: routeConfig.LessonPage.path,\r\n  AdminUsers: routeConfig.AdminUsers.path,\r\n  AdminLesson: routeConfig.AdminLesson.path,\r\n  AdminLessons: routeConfig.AdminLessons.path,\r\n  AdminPractice: routeConfig.AdminPractice.path,\r\n  AdminLessonEdit: routeConfig.AdminLessonEdit.path,\r\n  AdminInstruction: routeConfig.AdminInstruction.path,\r\n  AdminLessonCreate: routeConfig.AdminLessonCreate.path,\r\n\r\n  getLessonView(id: string) {\r\n    // return generatePath(\"/user/:id/:entity(posts|comments)\", {\r\n    //   id: 1,\r\n    // });\r\n    return `/admin/lessons/${id}/view`;\r\n  },\r\n  getLessonEdit(id: string) {\r\n    return `/admin/lessons/${id}/edit`;\r\n  },\r\n  getLessonPage(id: string) {\r\n    return `/lessons/${id}`;\r\n  },\r\n  getAdminPractice(id: string) {\r\n    return `/admin/practice/${id}`;\r\n  },\r\n  getAdminUser(id: string) {\r\n    return `/admin/users/${id}`;\r\n  }\r\n}","import styled, { keyframes } from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppColor } from '../../../App/style/theme/utilities/Colors';\r\nimport { AppImg } from '../../../components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n\r\n  width: min(1024px, 100%);\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const MainLink = styled(Link)`\r\n  color: ${p => p.theme.palette.accentBlue.main} !important;\r\n  border: 1px solid ${p => p.theme.palette.accentBlue.main};\r\n  padding: ${p => p.theme.spacing(1)}px;\r\n  border-radius: 2px;\r\n  text-align: center;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: ${p => AppColor.From(p.theme.palette.accentBlue.main).changeOpacity(-80).toRgba()};\r\n  }\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n  margin-top: 2rem;\r\n`;\r\n\r\nexport const MainImg = styled(AppImg)`\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  max-width: 600px;\r\n  aspect-ratio: 4 / 3;\r\n  width: 100%;\r\n`;","export default __webpack_public_path__ + \"static/media/react_main.2355652e.jpeg\";","export default __webpack_public_path__ + \"static/media/react_neon.428f9943.png\";","import { Box, Divider, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { appRoutes } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { Container, MainLink, Content, MainImg } from './styled';\r\nimport mainReact from '../../../appstatic/react_main.jpeg';\r\nimport neonReact from '../../../appstatic/react_neon.png';\r\nimport { AppImg } from '../../../components';\r\n\r\n\r\ntype MainPageProps = {}\r\n\r\nexport const MainPage: React.FC<MainPageProps> = (props) => {\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Главная страница</Typography>\r\n\r\n        <Box paddingY={1}>\r\n          <Divider />\r\n        </Box>\r\n\r\n\r\n\r\n        <Box>\r\n          <p>\r\n            Проект Reacter создан для изучения технологии React.js.\r\n            На данном сайте вы можете проходить уроки и отслеживать свой прогресс прохождения уроков.\r\n            Областью применения приложения является облегчение поиска и подачи материала для преподавателя\r\n            и улучшение понимания, закрепления и повторения материала студентами по технологии React.js.\r\n          </p>\r\n\r\n          <MainImg src={mainReact} alt=\"main react\" />\r\n\r\n          <p>\r\n            На данном сайте вы можете найти материалы по технологии React.js.\r\n            Также на сайте присутствуют практические уроки, на которых вы можете\r\n            отработать знания на практике и услышать конструктивную критику.\r\n          </p>\r\n\r\n          <MainImg src={neonReact} alt=\"neon react\" />\r\n        </Box>\r\n\r\n\r\n        <Box pt={2}>\r\n          <Divider />\r\n        </Box>\r\n        <Content>\r\n          <MainLink to={appRoutes.Lessons}>Уроки</MainLink>\r\n          <MainLink to={appRoutes.About}>О проекте</MainLink>\r\n        </Content>\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { CenterMixin } from '../../../style';\r\nimport { Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const LoginTitle = styled(Typography)`\r\n  text-align: center;\r\n`;\r\n\r\nexport const LoginForm = styled.form`\r\n  margin-top: 30px;\r\n`;\r\n\r\nexport const LoginFooter = styled.div`\r\n  display: grid;\r\n  grid-auto-flow: row;\r\n  justify-items: center;\r\n  margin-top: 50px;\r\n  padding: 0px 1rem;\r\n`;\r\n\r\nexport const LoginPasswordInputGroup = styled.div`\r\n  position: relative;\r\n\r\n  & input {\r\n    padding-right: 48px;\r\n  }\r\n`;\r\n\r\nexport const useStyles = makeStyles({\r\n  LoginButton: {\r\n    width: \"min(300px, 100%)\"\r\n  },\r\n\r\n  passwordIcon: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    right: \"2px\",\r\n    transform: \"translateY(-50%)\"\r\n  }\r\n});\r\n\r\n// LoginForm.toString() - вернёт класс;","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { EmptyLayout } from '../../../layouts';\r\nimport { appRoutes, Login, RootState } from '../../../App';\r\nimport { LoginForm, LoginTitle, LoginFooter, useStyles, LoginPasswordInputGroup } from './styled';\r\nimport { Box, Button, CircularProgress, IconButton, TextField, Typography } from '@material-ui/core';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport { AppCard, AppLink, CenterCard } from '../../../components';\r\n\r\n\r\ntype LoginPageProps = {}\r\n\r\ntype LoginFormInputs = {\r\n  mail: string\r\n  password: string\r\n}\r\n\r\nconst schema = Yup.object().shape({\r\n  mail: Yup.string().trim().required(\"поле обязательно\"),\r\n  password: Yup.string().trim().required(\"поле обязательно\")\r\n});\r\n\r\nexport const LoginPage: React.FC<LoginPageProps> = (props) => {\r\n  const dispatch = useDispatch();\r\n  const loading = useSelector((state: RootState) => state.user.loading);\r\n  const loginError = useSelector((state: RootState) => state.user.error);\r\n  const [isHide, setIsHide] = useState(true);\r\n\r\n  const styles = useStyles();\r\n  const { register, formState: { errors }, handleSubmit } = useForm<LoginFormInputs>({\r\n    resolver: yupResolver(schema)\r\n  });\r\n\r\n  const onSubmit = (data: LoginFormInputs) => {\r\n    dispatch(Login({ mail: data.mail.trim(), password: data.password.trim() }));\r\n  };\r\n  const handleHideChange = () => {\r\n    setIsHide((state) => !state);\r\n  }\r\n\r\n\r\n  return (\r\n    <EmptyLayout>\r\n      <CenterCard key=\"CenterCard\">\r\n        <AppCard key=\"LoginBody\">\r\n          <LoginTitle key=\"LoginTitle\" variant=\"h2\">Вход</LoginTitle>\r\n          <Typography color=\"error\">{loginError}</Typography>\r\n          <LoginForm key=\"LoginForm\" onSubmit={handleSubmit(onSubmit)}>\r\n            <TextField\r\n              disabled={loading}\r\n              fullWidth\r\n              id=\"mailInput\"\r\n              label=\"почта\"\r\n              variant=\"outlined\"\r\n              key=\"mailInput\"\r\n              error={Boolean(errors.mail?.message)}\r\n              helperText={errors.mail?.message}\r\n              {...register(\"mail\")}\r\n            />\r\n            <Box mb={2} />\r\n            <LoginPasswordInputGroup>\r\n              <TextField\r\n                disabled={loading}\r\n                fullWidth\r\n                id=\"passwordInput\"\r\n                label=\"пароль\"\r\n                variant=\"outlined\"\r\n                key=\"passwordInput\"\r\n                error={Boolean(errors.password?.message)}\r\n                helperText={errors.password?.message}\r\n                type={isHide ? \"password\" : \"text\"}\r\n                {...register(\"password\")}\r\n              />\r\n              {isHide ?\r\n                <IconButton aria-label=\"show password\" className={styles.passwordIcon} onClick={handleHideChange}>\r\n                  <VisibilityIcon />\r\n                </IconButton>\r\n                :\r\n                <IconButton aria-label=\"hide password\" className={styles.passwordIcon} onClick={handleHideChange}>\r\n                  <VisibilityOffIcon />\r\n                </IconButton>\r\n              }\r\n            </LoginPasswordInputGroup>\r\n            <LoginFooter>\r\n              <Button disabled={loading} classes={{ root: styles.LoginButton }} variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                {loading ? <CircularProgress /> : \"Войти\"}\r\n              </Button>\r\n              <AppLink key=\"signuplink\" to={appRoutes.SignUp}>\r\n                Нет аккаунта? Зарегистрируйте.\r\n              </AppLink>\r\n            </LoginFooter>\r\n          </LoginForm>\r\n        </AppCard>\r\n      </CenterCard>\r\n    </EmptyLayout>\r\n  );\r\n};","import { makeStyles, Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport const RegisterTitle = styled(Typography)`\r\n  text-align: center;\r\n\r\n  ${props => props.theme.breakpoints.down(\"xs\")} {\r\n    .sign-up__content & {\r\n      font-size: 28px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SignUpIcon = styled.img`\r\n  border-radius: 50%;\r\n  width: 100px;\r\n  height: 100px;\r\n  margin: 0 ${props => props.theme.spacing(2)}px;\r\n  cursor: pointer;\r\n  object-fit: cover;\r\n  object-position: center;\r\n`;\r\n\r\nexport const RegisterForm = styled.form`\r\n  margin-top: 30px;\r\n`;\r\n\r\nexport const useStyles = makeStyles({\r\n  RegisterButton: {\r\n    width: \"min(300px, 100%)\"\r\n  },\r\n\r\n  passwordIcon: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    right: \"2px\",\r\n    transform: \"translateY(-50%)\"\r\n  }\r\n});\r\n\r\nexport const SignUpFooter = styled.div`\r\n  display: grid;\r\n  grid-auto-flow: row;\r\n  justify-items: center;\r\n  margin-top: 50px;\r\n  padding: 0px 1rem;\r\n`;\r\n\r\nexport const SignUpPasswordInputGroup = styled.div`\r\n  position: relative;\r\n\r\n  & input {\r\n    padding-right: 48px;\r\n  }\r\n`;","import { Box, Button, CircularProgress, IconButton, TextField, Typography } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppConsts, appRoutes, RootState, SignUp } from '../../../App';\r\nimport { AppCard, AppLink, CenterCard } from '../../../components';\r\nimport { EmptyLayout } from '../../../layouts';\r\nimport { RegisterForm, RegisterTitle, useStyles, SignUpFooter, SignUpPasswordInputGroup, SignUpIcon } from './styled';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { PhotoCamera } from '@material-ui/icons';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { useHistory } from 'react-router';\r\n\r\n\r\ntype SignUpPageProps = {}\r\n\r\n\r\ntype SignUpInputs = {\r\n  mail: string\r\n  password: string\r\n  rpassword: string\r\n  nick: string\r\n  photo: FileList\r\n}\r\n\r\nconst schema = Yup.object().shape({\r\n  mail: Yup.string().trim().required(\"поле обязательно\").email(\"адрес не по формату\"),\r\n  password: Yup.string().trim().required(\"поле обязательно\").min(6, \"не короче 6 символов\").max(64, \"не длиннее 64 символов\"),\r\n  rpassword: Yup.string().trim().required(\"поле обязательно\").test(\"password equal\", \"пароли должны совпадать\", function (value) {\r\n    return this.parent.password == value;\r\n  }),\r\n  nick: Yup.string().trim().required(\"поле обязательно\").min(6, \"не короче 6 символов\").max(64, \"не длиннее 64 символов\")\r\n});\r\n\r\nexport const SignUpPage: React.FC<SignUpPageProps> = (props) => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const styles = useStyles();\r\n  const loading = useSelector((state: RootState) => state.user.loading);\r\n  const signUpError = useSelector((state: RootState) => state.user.error);\r\n\r\n  const [isHide, setIsHide] = useState(true);\r\n\r\n  const { register, formState: { errors }, handleSubmit, getValues, watch, reset, setValue } = useForm<SignUpInputs>({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onBlur\"\r\n  });\r\n  watch(\"photo\");\r\n  const formValues = getValues();\r\n  const userPhoto = formValues?.photo?.[0] ? URL.createObjectURL(formValues?.photo?.[0]) : AppConsts.DefaultPhotoPath;\r\n  const hasPhoto = Boolean(formValues?.photo?.[0]);\r\n\r\n  const onSubmit = (data: SignUpInputs) => {\r\n    if (loading === false) {\r\n      const signUp = dispatch(SignUp({ mail: data.mail.trim(), nick: data.nick.trim(), password: data.password.trim(), userPhoto: data.photo[0] }));\r\n      (signUp as any).then((signUpResult: boolean) => {\r\n        if (signUpResult) history.push(appRoutes.App);\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleHideChange = () => {\r\n    setIsHide((state) => !state);\r\n  }\r\n\r\n  return (\r\n    <EmptyLayout>\r\n      <CenterCard key=\"CenterCard\">\r\n        <AppCard key=\"signupbody\">\r\n          <div className=\"sign-up__content\">\r\n            <RegisterTitle variant=\"h2\">Регистрация</RegisterTitle>\r\n            <Typography color=\"error\">{signUpError}</Typography>\r\n            <RegisterForm onSubmit={handleSubmit(onSubmit)}>\r\n              <TextField\r\n                fullWidth\r\n                id=\"mailInput\"\r\n                label=\"почта\"\r\n                variant=\"outlined\"\r\n                key=\"mailInput\"\r\n                type=\"mail\"\r\n                disabled={loading}\r\n                error={Boolean(errors.mail?.message)}\r\n                helperText={errors.mail?.message}\r\n                {...register(\"mail\")}\r\n              />\r\n              <Box mb={2} />\r\n\r\n              <TextField\r\n                fullWidth\r\n                id=\"nickInput\"\r\n                label=\"ник\"\r\n                variant=\"outlined\"\r\n                key=\"nickInput\"\r\n                disabled={loading}\r\n                error={Boolean(errors.nick?.message)}\r\n                helperText={errors.nick?.message}\r\n                {...register(\"nick\")}\r\n              />\r\n              <Box mb={2} />\r\n\r\n              <SignUpPasswordInputGroup>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"passwordInput\"\r\n                  label=\"пароль\"\r\n                  variant=\"outlined\"\r\n                  key=\"passwordInput\"\r\n                  type={isHide ? \"password\" : \"text\"}\r\n                  disabled={loading}\r\n                  error={Boolean(errors.password?.message)}\r\n                  helperText={errors.password?.message}\r\n                  {...register(\"password\")}\r\n                />\r\n\r\n                {isHide ?\r\n                  <IconButton aria-label=\"show password\" className={styles.passwordIcon} onClick={handleHideChange}>\r\n                    <VisibilityIcon />\r\n                  </IconButton>\r\n                  :\r\n                  <IconButton aria-label=\"hide password\" className={styles.passwordIcon} onClick={handleHideChange}>\r\n                    <VisibilityOffIcon />\r\n                  </IconButton>\r\n                }\r\n              </SignUpPasswordInputGroup>\r\n              <Box mb={2} />\r\n\r\n              <TextField\r\n                fullWidth\r\n                id=\"rpasswordInput\"\r\n                label=\"повторите пароль\"\r\n                variant=\"outlined\"\r\n                key=\"rpasswordInput\"\r\n                disabled={loading}\r\n                error={Boolean(errors.rpassword?.message)}\r\n                helperText={errors.rpassword?.message}\r\n                type={isHide ? \"password\" : \"text\"}\r\n                {...register(\"rpassword\")}\r\n              />\r\n              <Box mb={2} />\r\n\r\n              <Box mb={1}>\r\n                <Typography>Аватар пользователя</Typography>\r\n              </Box>\r\n              <input\r\n                accept=\"image/gif,image/jpeg,image/pjpeg,image/png,image/svg+xml,image/tiff,image/vnd.microsoft.icon,image/vnd.wap.wbmp,image/webp,image/*\"\r\n                key=\"photoInput\"\r\n                className=\"visually-hidden\"\r\n                id=\"userPhoto\"\r\n                type=\"file\"\r\n                {...register(\"photo\")}\r\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                  const files = (e?.nativeEvent?.target as any)?.files;\r\n                  setValue(\"photo\", files);\r\n                }}\r\n              />\r\n              <label htmlFor=\"userPhoto\">\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"medium\"\r\n                  startIcon={<PhotoCamera />}\r\n                  component=\"span\"\r\n                >\r\n                  {hasPhoto ? \"поменять фото\" : \"выбрать фото\"}\r\n                </Button>\r\n              </label>\r\n              <Box mt={2} display=\"flex\" alignItems=\"center\">\r\n                <label htmlFor=\"userPhoto\">\r\n                  <SignUpIcon src={userPhoto} />\r\n                </label>\r\n                {hasPhoto &&\r\n                  <IconButton aria-label=\"clear avatar\" onClick={() => {\r\n                    setValue(\"photo\", undefined as any);\r\n                  }}>\r\n                    <ClearIcon />\r\n                  </IconButton>\r\n                }\r\n              </Box>\r\n\r\n\r\n              <SignUpFooter>\r\n                <Button disabled={loading} classes={{ root: styles.RegisterButton }} variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                  {loading ? <CircularProgress /> : \"Регистрация\"}\r\n                </Button>\r\n                <AppLink to={appRoutes.Login} key=\"signuplink\">\r\n                  Есть аккаунт? Войдите.\r\n                </AppLink>\r\n              </SignUpFooter>\r\n            </RegisterForm>\r\n          </div>\r\n        </AppCard>\r\n      </CenterCard>\r\n    </EmptyLayout>\r\n  );\r\n};","import { UserAuthView, UserRoles } from '../../models';\r\n\r\n\r\nexport function ByRole(roles: UserRoles[]) {\r\n  return (user: UserAuthView) => {\r\n    if (Boolean(user.user) === false) return false;\r\n    \r\n    return roles.filter(role => user.user?.roles.includes(role)).length > 0;\r\n  }\r\n}\r\n\r\nexport function ByAuth(isAuth: boolean = true) {\r\n  return (user: UserAuthView) => {\r\n    if (isAuth == false) return Boolean(user.authentication) == false && Boolean(user.user) == false;\r\n\r\n    return Boolean(user.user || user.authentication) === true;\r\n  }\r\n}","import React, { ReactElement, ReactNode } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { User, UserAuthView } from '../../models';\r\nimport { useUserData } from '../store/hooks/useUser';\r\n\r\nexport type SecureProps = {\r\n  redirectPath?: string\r\n  politic?: (userData: UserAuthView) => boolean\r\n\r\n  substituteComponent?: React.ComponentType<any>\r\n  substituteElement?: React.ReactNode\r\n  // some: React.ReactElement\r\n}\r\n\r\n// Если понадобится, то можно добавить асинхронные политики\r\nexport const Secure: React.FC<SecureProps> = (props): React.ReactElement<any> | null => {\r\n  const userData: UserAuthView = useUserData();\r\n  \r\n  const accessStatus = props.politic ? props.politic(userData) : true;\r\n  \r\n  if (accessStatus === false && props.redirectPath) return <Redirect to={props.redirectPath} />;\r\n  if(accessStatus == false && props.substituteElement) return props.substituteElement as ReactElement;\r\n  if(accessStatus == false && props.substituteComponent) {\r\n    const ComponentToRender = props.substituteComponent;\r\n    return React.createElement(ComponentToRender);\r\n  };\r\n  if (accessStatus === false) return null;\r\n\r\n  return props.children as ReactElement;\r\n};","import { Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport { AppColor } from '../../../App/style/theme/utilities/Colors';\r\n\r\nexport const AdminLessonViewContainer = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Buttons = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 16px;\r\n`;\r\n\r\nexport const DeleteButton = styled(Button)`\r\n  button& {\r\n    background-color: ${p => p.theme.palette.accentRed.dark};\r\n\r\n    &:hover {\r\n      background-color: ${p => AppColor.From(p.theme.palette.accentRed.dark).shadeLightColor(-25).toRgba()};\r\n    }\r\n  }\r\n`;","import { Box, Button, CircularProgress, Dialog, Divider, IconButton, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useMutation, useQuery } from 'react-query';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { appRoutes } from '../../../App';\r\nimport { MarkDown } from '../../../components';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { IApiResponse } from '../../../server';\r\nimport { GetLesson, GetLessonResponse, DeleteLesson, DeleteLessonRequest } from '../../../server';\r\nimport { AdminLessonViewContainer, Buttons, DeleteButton } from './styled';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\ntype AdminViewLessonProps = {}\r\n\r\ntype AdminViewLessonRouteParams = {\r\n  id: string\r\n}\r\n\r\nexport const AdminViewLesson: React.FC<AdminViewLessonProps> = (props) => {\r\n  const history = useHistory();\r\n  const params = useParams<AdminViewLessonRouteParams>();\r\n  const id = params.id;\r\n\r\n  const [deleteDialog, setDeleteDialog] = useState(false);\r\n\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetLessonResponse>>>(\r\n    [{ lessonId: id }] as any,\r\n    (r: any) => GetLesson(r.queryKey[0]),\r\n    {\r\n      enabled: Boolean(id)\r\n    }\r\n  );\r\n\r\n  const deleteReq = useMutation<any, any, DeleteLessonRequest, any>(DeleteLesson as any);\r\n  const lesson = data?.data?.data;\r\n\r\n  if (Boolean(id)! == false || id == \"undefined\") {\r\n    return <Redirect to={appRoutes.AdminMain} />\r\n  }\r\n\r\n  if (Boolean(lesson) == false && isLoading == false) {\r\n    return <Redirect to={appRoutes.AdminMain} />\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <AdminLessonViewContainer>\r\n        {(isLoading || deleteReq.isLoading) && <CircularProgress />}\r\n\r\n        {isLoading == false && deleteReq.isLoading == false &&\r\n          <>\r\n            <Typography className=\"fix\" variant=\"h3\">{lesson?.name}</Typography>\r\n            <Typography variant=\"body1\">номер: {lesson?.index}</Typography>\r\n            <Typography variant=\"body1\">тип: {lesson?.isPractice ? \"практика\" : \"теория\"}</Typography>\r\n\r\n            <Box mt={1} />\r\n            <Divider />\r\n\r\n            <MarkDown md={lesson?.content!} />\r\n\r\n            <Box mt={1} />\r\n            <Divider />\r\n\r\n            <Buttons>\r\n              <DeleteButton\r\n                disabled={deleteReq.isLoading}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setDeleteDialog(true);\r\n                }}>\r\n                удалить\r\n              </DeleteButton>\r\n\r\n              <Link to={appRoutes.getLessonEdit(lesson!?.id.toString())}>\r\n                <Button variant=\"contained\" color=\"primary\">\r\n                  редактировать\r\n                </Button>\r\n              </Link>\r\n            </Buttons>\r\n          </>\r\n        }\r\n      </AdminLessonViewContainer>\r\n\r\n      {isLoading == false &&\r\n        <Dialog onClose={() => setDeleteDialog(false)} aria-labelledby=\"customized-dialog-title\" open={deleteDialog}>\r\n          <MuiDialogTitle id=\"customized-dialog-title\">\r\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n              Инструкция <IconButton onClick={() => setDeleteDialog(false)}><CloseIcon /></IconButton>\r\n            </Box>\r\n          </MuiDialogTitle>\r\n          <MuiDialogContent dividers>\r\n            <p>\r\n              Урок будет безвозвратно удалено, подтвердите действие.\r\n            </p>\r\n          </MuiDialogContent>\r\n          <MuiDialogActions>\r\n            <DeleteButton disabled={deleteReq.isLoading} variant=\"contained\" color=\"primary\" autoFocus onClick={() => {\r\n              deleteReq.mutateAsync({ lessonId: lesson?.id.toString()! })\r\n                .then((result) => {\r\n                  history.push(appRoutes.AdminLessons);\r\n                });\r\n            }}>\r\n              {deleteReq.isLoading ? <CircularProgress /> : \"Удалить\"}\r\n            </DeleteButton>\r\n          </MuiDialogActions>\r\n        </Dialog>\r\n      }\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;","import { Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { Container } from './styled';\r\n\r\ntype InstructionPageProps = {}\r\n\r\nexport const InstructionPage: React.FC<InstructionPageProps> = (props) => {\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Инструкция</Typography>\r\n        <Typography variant=\"body1\">\r\n          В панели администратора есть доступ ко всем сущностям проекта.\r\n        </Typography>\r\n        <Typography variant=\"body1\">\r\n          Можно управлять пользователями, уроками, а также проверять практики пользователей.\r\n        </Typography>\r\n        <Typography variant=\"body1\">\r\n          Для доступа к выше перечисленным пунктам, необходимо пройти по соответствующим пунктам.\r\n        </Typography>\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { AppCard } from '../../../components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(226px, 1fr));\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n  }\r\n`;  \r\n\r\nexport const Item = styled(AppCard)`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport const ItemItems = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto auto 1fr;\r\n\r\n  margin-top: 0.5rem;\r\n  gap: 1rem;\r\n`;","import { Box, Button, CircularProgress, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useInfiniteQuery } from 'react-query';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { IApiResponse, GetLessonsResponse, GetAllPracticesOrders, GetAllPracticesOrdersResponse } from '../../../server';\r\nimport { Container, Content, Item, ItemItems } from './styled';\r\nimport DateRangeIcon from '@material-ui/icons/DateRange';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport { Link } from 'react-router-dom';\r\nimport { PracticeOrder } from '../../../models';\r\nimport { PracticeOrderView } from '../../../models/views/PracticeOrderView';\r\nimport { appRoutes } from '../../../App';\r\n\r\n\r\ntype PracticeCardProps = {\r\n  practice: PracticeOrderView\r\n}\r\nconst PracticeCard: React.FC<PracticeCardProps> = (props) => {\r\n  return (\r\n    <Link key={1} to={appRoutes.getAdminPractice(props.practice.id.toString())}>\r\n      <Item>\r\n        <Box textAlign=\"center\">{props.practice.id}</Box>\r\n\r\n        <ItemItems>\r\n          <ListAltIcon /> <div>урок</div> <div>{props.practice.lessonName}</div>\r\n          <MailIcon /> <div>ник</div> <div>{props.practice.userNick}</div>\r\n          <DateRangeIcon /> <div>дата</div> <div>{new Date(props.practice.createdDate).toLocaleDateString(\"ru-Ru\")}</div>\r\n        </ItemItems>\r\n      </Item>\r\n    </Link>\r\n  );\r\n}\r\n\r\ntype PracticesPageProps = {}\r\n\r\nconst pageLimit = 16;\r\nexport const PracticesPage: React.FC<PracticesPageProps> = (props) => {\r\n  const {\r\n    data,\r\n    error,\r\n    fetchNextPage,\r\n    hasNextPage,\r\n    isFetching,\r\n    isFetchingNextPage,\r\n    status,\r\n  } = useInfiniteQuery<AxiosResponse<IApiResponse<GetAllPracticesOrdersResponse>>>(\r\n    [\"practices\"], (({ pageParam = 1 }) => {\r\n      return GetAllPracticesOrders({ page: pageParam.toString()!, limit: pageLimit.toString() });\r\n    }) as any,\r\n    {\r\n      getNextPageParam: (lastPage, pages) => {\r\n        let total = lastPage.headers['x-total-count'];\r\n        let page = pages.length + 1;\r\n\r\n        if (page * pageLimit >= total) return undefined;\r\n\r\n        return page;\r\n      }\r\n    }\r\n  );\r\n\r\n  const practices = data?.pages?.map(el => el.data.data).flat(1) ?? [];\r\n  const cards = [];\r\n\r\n  for (let i = 0; i < practices.length; i++) {\r\n    const practice = practices[i];\r\n    cards.push(<PracticeCard key={practice.id} practice={practice} />);\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Практики пользователей</Typography>\r\n\r\n        <Content>\r\n          {cards}\r\n\r\n          {isFetching == false && cards.length == 0 && <Typography variant=\"body1\" color=\"primary\">Пока ничего нет...</Typography>}\r\n        </Content>\r\n\r\n        {(isFetching || isFetchingNextPage) &&\r\n          <Box mt={2}>\r\n            <CircularProgress />\r\n          </Box>\r\n        }\r\n\r\n        {isFetching == false && isFetchingNextPage == false &&\r\n          <Box display=\"flex\" justifyContent=\"center\" mt={2}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              disabled={!hasNextPage || isFetchingNextPage}\r\n              onClick={() => {\r\n                fetchNextPage();\r\n              }}>ещё</Button>\r\n          </Box>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import { Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport { AppColor } from '../../../App/style/theme/utilities/Colors';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const DeleteButton = styled(Button)`\r\n  button& {\r\n    background-color: ${p => p.theme.palette.accentRed.dark};\r\n\r\n    &:hover {\r\n      background-color: ${p => AppColor.From(p.theme.palette.accentRed.dark).shadeLightColor(-25).toRgba()};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Buttons = styled.div`\r\n  display: flex;\r\n  gap: 0 ${p => p.theme.spacing(2)}px;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const DownloadLink = styled.a`\r\n  display: inline-block;\r\n  margin: ${p => p.theme.spacing(2)}px 0;\r\n`;","import React from 'react';\r\nimport { Box, Button, CircularProgress, Divider, TextField, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport { useMutation, useQuery } from 'react-query';\r\nimport { Redirect, useParams } from 'react-router';\r\nimport { apiFiles, AppConsts, appFiles, appRoutes, RootState } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { IApiResponse, GetPracticeInfoResponse, GetPracticeInfo, RejectPractice, RejectPracticeRequest, ResolvePractice, ResolvePracticeRequest } from '../../../server';\r\nimport { Container, DeleteButton, Buttons, DownloadLink } from './styled';\r\nimport { MarkDown } from '../../../components';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\ntype PracticePageProps = {}\r\n\r\ntype PracticePageRouteParams = {\r\n  id: string\r\n}\r\ntype PracticePageInputs = {\r\n  reason: string\r\n}\r\nconst schema = Yup.object().shape({\r\n  reason: Yup.string().trim().required(\"поле обязательно\").min(24, \"минимум 24 символа\").max(256, \"максимум 256 символов\"),\r\n});\r\n\r\nexport const PracticePage: React.FC<PracticePageProps> = (props) => {\r\n  const history = useHistory();\r\n  const params = useParams<PracticePageRouteParams>();\r\n  const id = params.id;\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetPracticeInfoResponse>>>(\r\n    [{ practiceId: id }] as any,\r\n    (r: any) => GetPracticeInfo(r.queryKey[0]),\r\n    {\r\n      enabled: Boolean(id)\r\n    }\r\n  );\r\n  const user = useSelector((state: RootState) => state.user.userData);\r\n\r\n\r\n  const resolveReq = useMutation<any, any, ResolvePracticeRequest, any>(ResolvePractice as any);\r\n  const rejectReq = useMutation<any, any, RejectPracticeRequest, any>(RejectPractice as any);\r\n  const loading = isLoading || resolveReq.isLoading || rejectReq.isLoading;\r\n  const practice = data?.data?.data;\r\n\r\n  const { register, formState: { errors }, handleSubmit, getValues, watch, reset } = useForm<PracticePageInputs>({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onBlur\"\r\n  });\r\n\r\n  const [openReject, setOpenReject] = React.useState(false);\r\n  const [openResolve, setOpenResolve] = React.useState(false);\r\n  const [instuctionOpen, setInstructionOpen] = React.useState(false);\r\n\r\n  const rejectHandle = (data: PracticePageInputs) => {\r\n    rejectReq.mutateAsync({ description: data.reason, practiceId: id, teacherId: user?.id.toString()! })\r\n      .then((result) => {\r\n        history.push(appRoutes.Practices);\r\n      });\r\n  }\r\n\r\n  const resolveHandle = () => {\r\n    resolveReq.mutateAsync({ practiceId: id, teacherId: user?.id.toString()! })\r\n      .then((result) => {\r\n        history.push(appRoutes.Practices);\r\n      });\r\n  }\r\n\r\n\r\n  if (Boolean(id) == false) return <Redirect to={appRoutes.Practices} />;\r\n\r\n  if (practice && practice.isDone) return <Redirect to={appRoutes.Practices} />;\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Проверка практики</Typography>\r\n        <Box>\r\n          <IconButton title=\"инструкция\" color=\"primary\" onClick={() => setInstructionOpen(true)}>\r\n            <InfoIcon />\r\n          </IconButton>\r\n        </Box>\r\n        <Box mt={1}>\r\n          <Divider />\r\n        </Box>\r\n\r\n        {loading &&\r\n          <Box mt={2}><CircularProgress /></Box>\r\n        }\r\n\r\n        {loading == false && practice &&\r\n          <Box mt={2}>\r\n            <Typography variant=\"h4\">{practice?.lesson.name}</Typography>\r\n            <Typography variant=\"body1\">{practice?.lesson.description}</Typography>\r\n            <Box mt={2} />\r\n\r\n            <MarkDown md={practice?.lesson.content} />\r\n          </Box>\r\n        }\r\n\r\n        {loading == false && practice &&\r\n          <Box mt={2}>\r\n            <Divider />\r\n            <DownloadLink\r\n              title=\"скачать код ученика\"\r\n              href={apiFiles(practice?.codePath!)}\r\n              download\r\n              target=\"_self\"\r\n              type=\".zip,.rar,.7zip,.7z,application/octet-stream\"\r\n            >\r\n              <Button variant=\"contained\" color=\"primary\">скачать код</Button>\r\n            </DownloadLink>\r\n            <Divider />\r\n            <Buttons>\r\n              <DeleteButton\r\n                title=\"отказать\"\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={() => setOpenReject(true)}>отказать</DeleteButton>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                onClick={() => setOpenResolve(true)}\r\n                title=\"принять\">принять</Button>\r\n            </Buttons>\r\n          </Box>\r\n        }\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setOpenReject(false)} aria-labelledby=\"customized-dialog-title\" open={openReject}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Отказ практики <IconButton onClick={() => setOpenReject(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              <form onSubmit={handleSubmit(rejectHandle)} id=\"reasonform\">\r\n                Убедитесь что вы хорошо проверили работу ученика. Возможно он выполнил минимальные требования и может пройти этот урок.\r\n\r\n                <Box mb={2} />\r\n                <TextField\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  id=\"outlined-basic\"\r\n                  label=\"причина\"\r\n                  variant=\"filled\"\r\n                  key=\"reasonInput\"\r\n                  disabled={loading}\r\n                  error={Boolean(errors.reason?.message)}\r\n                  helperText={errors.reason?.message}\r\n                  {...register(\"reason\")}\r\n                />\r\n                <Box mb={2} />\r\n              </form>\r\n            </MuiDialogContent>\r\n            <MuiDialogActions>\r\n              <DeleteButton\r\n                disabled={resolveReq.isLoading}\r\n                form=\"reasonform\"\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                autoFocus\r\n                onClick={() => { }} color=\"primary\">\r\n                {rejectReq.isLoading ? <CircularProgress /> : \"отказать\"}\r\n              </DeleteButton>\r\n            </MuiDialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setOpenResolve(false)} aria-labelledby=\"customized-dialog-title\" open={openResolve}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Принять практику <IconButton onClick={() => setOpenResolve(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              Вы уверены что ученик выполнил всё требования?\r\n            </MuiDialogContent>\r\n            <MuiDialogActions>\r\n              <Button disabled={resolveReq.isLoading} variant=\"contained\" color=\"secondary\" autoFocus onClick={() => {\r\n                resolveHandle();\r\n              }}>\r\n                {resolveReq.isLoading ? <CircularProgress /> : \"принять\"}\r\n              </Button>\r\n            </MuiDialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              <p>Оцените работу ученика исходя из задания. Если она выполнена верно то примите её. Если присутствуют недочёты\r\n                то откажите и уточните причину, так человеку будет ясно что исправить.\r\n              </p>\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type CreateLessonRequest = {\r\n  index: number,\r\n  name: string,\r\n  description: string,\r\n  Content: string,\r\n  isPractice: boolean\r\n}\r\n\r\nexport const CreateLesson: ApiQueryFunction<CreateLessonRequest, number> = (request, api = appApi) => {\r\n  return api.post(`/lesson`, request);\r\n};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;","import React, { useState } from 'react';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { Box, Button, CircularProgress, FormControlLabel, Switch, TextField, Typography } from '@material-ui/core';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useMutation } from 'react-query';\r\nimport { useHistory } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport { appRoutes } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { CreateLesson, CreateLessonRequest } from '../../../server/Queries/Lesson/CreateLesson';\r\nimport { Container } from './styled';\r\n\r\ntype LessonCreateProps = {}\r\n\r\ntype LessonCreateInputs = {\r\n  index: string\r\n  name: string\r\n  description: string\r\n  content: string\r\n  isPractice: boolean\r\n}\r\n\r\nconst schema = Yup.object().shape({\r\n  index: Yup.string().required(\"поле обязательно\").test(\"index min 0\", \"минимум 1\", (value) => {\r\n    return parseInt(value!) > 0;\r\n  }),\r\n  name: Yup.string().required(\"поле обязательно\"),\r\n  description: Yup.string().required(\"поле обязательно\"),\r\n  content: Yup.string().required(\"поле обязательно\"),\r\n  isPractice: Yup.boolean()\r\n});\r\n\r\nexport const LessonCreate: React.FC<LessonCreateProps> = (props) => {\r\n  const history = useHistory();\r\n  const createReq = useMutation<any, any, CreateLessonRequest, any>(CreateLesson as any);\r\n  const [createError, setCreateError] = useState(\"\");\r\n  const { register, formState: { errors }, handleSubmit, setValue } = useForm<LessonCreateInputs>({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onBlur\"\r\n  });\r\n\r\n  const handleCreate = (data: LessonCreateInputs) => {\r\n    createReq.mutateAsync({ Content: data.content, description: data.description, index: parseInt(data.index), isPractice: data.isPractice ?? false, name: data.name })\r\n      .then(result => {\r\n        if (Boolean(result.data?.succeeded) == false) setCreateError(result.data?.errorMessage || \"что-то пошло не так...\");\r\n\r\n        if (result.data?.succeeded) history.push(appRoutes.getLessonView(result.data.data));\r\n      });\r\n  }\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        {createReq.isLoading && <CircularProgress />}\r\n\r\n        <form onSubmit={handleSubmit(handleCreate)}>\r\n          <Typography className=\"fix\" variant=\"h3\">Создание урока</Typography>\r\n          <Typography className=\"fix\" color=\"error\">{createError}</Typography>\r\n          <Box mb={2} />\r\n\r\n          <TextField\r\n            fullWidth\r\n            id=\"outlined-basic\"\r\n            label=\"название\"\r\n            variant=\"outlined\"\r\n            key=\"nameInput\"\r\n            type=\"text\"\r\n            error={Boolean(errors.name?.message)}\r\n            helperText={errors.name?.message}\r\n            {...register(\"name\")}\r\n            onChange={(e) => setValue(\"name\", e.target.value)}\r\n            disabled={Boolean(errors.content || errors.description || errors.index || errors.name)}\r\n          />\r\n          <Box mb={2} />\r\n\r\n          <TextField\r\n            fullWidth\r\n            id=\"outlined-basic1\"\r\n            label=\"индекс\"\r\n            variant=\"outlined\"\r\n            key=\"indexInput\"\r\n            type=\"number\"\r\n            InputProps={{ inputProps: { min: 0 } }}\r\n            error={Boolean(errors.index?.message)}\r\n            helperText={errors.index?.message}\r\n            {...register(\"index\")}\r\n            disabled={Boolean(errors.content || errors.description || errors.index || errors.name)}\r\n            onChange={(e) => setValue(\"index\", e.target.value)}\r\n          />\r\n          <Box mb={2} />\r\n\r\n          <TextField\r\n            fullWidth\r\n            id=\"outlined-basic3\"\r\n            label=\"краткое описание\"\r\n            variant=\"outlined\"\r\n            key=\"descriptionInput\"\r\n            type=\"text\"\r\n            error={Boolean(errors.description?.message)}\r\n            helperText={errors.description?.message}\r\n            {...register(\"description\")}\r\n            disabled={Boolean(errors.content || errors.description || errors.index || errors.name)}\r\n            onChange={(e) => setValue(\"description\", e.target.value)}\r\n          />\r\n          <Box mb={2} />\r\n\r\n          <TextField\r\n            fullWidth\r\n            multiline\r\n            rowsMax=\"40\"\r\n            id=\"outlined-basic2\"\r\n            label=\"содержание\"\r\n            variant=\"outlined\"\r\n            key=\"contentInput\"\r\n            type=\"text\"\r\n            error={Boolean(errors.content?.message)}\r\n            helperText={errors.content?.message}\r\n            {...register(\"content\")}\r\n            onChange={(e) => {\r\n              e.preventDefault();\r\n              setValue(\"content\", e.target.value);\r\n            }}\r\n            disabled={Boolean(errors.content || errors.description || errors.index || errors.name)}\r\n          />\r\n          <Box mb={2} />\r\n\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                {...register(\"isPractice\")}\r\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) => setValue(\"isPractice\", e.target.checked as any)}\r\n                disabled={Boolean(errors.content || errors.description || errors.index || errors.name)}\r\n              />\r\n            }\r\n            disabled={Boolean(errors.content || errors.description || errors.index || errors.name)}\r\n            label=\"практика\"\r\n          />\r\n          <Box mb={2} />\r\n\r\n          <Button\r\n            disabled={Boolean(errors.content || errors.description || errors.index || errors.name)}\r\n            variant=\"contained\"\r\n            type=\"submit\"\r\n            color=\"secondary\">\r\n            {createReq.isLoading && <Box mr={2}><CircularProgress color=\"primary\" /></Box>}\r\n            создать\r\n          </Button>\r\n        </form>\r\n\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const SettingsContainer = styled.div`\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n`;","import { Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { ThemeToggler } from '../../../components';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { SettingsContainer } from './styled';\r\n\r\ntype SettingsPageProps = {}\r\n\r\nexport const SettingsPage: React.FC<SettingsPageProps> = (props) => {\r\n  return (\r\n    <AppLayout>\r\n      <SettingsContainer>\r\n        <div key=\"toggler\">\r\n          <Typography className=\"fix\" variant=\"h3\">Настройки</Typography>\r\n          <Typography variant=\"body1\">\r\n            Тема\r\n          </Typography>\r\n          <ThemeToggler />\r\n        </div>\r\n      </SettingsContainer>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { AppCard } from '../../../components';\r\n\r\nexport const AdminLessonsContainer = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const AdminLessonsContent = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(226px, 1fr));\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n  }\r\n`;  \r\n\r\nexport const AdminLessonsItem = styled(AppCard)`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport const AdminLessonsItemItems = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto auto 1fr;\r\n\r\n  margin-top: 0.5rem;\r\n  gap: 1rem;\r\n`;","import { Box, CircularProgress, Dialog, Divider, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppCard } from '../../../components';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { GetLessons, GetLessonsResponse, IApiResponse } from '../../../server';\r\nimport { AdminLessonsContainer, AdminLessonsContent, AdminLessonsItem, AdminLessonsItemItems } from './styled';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { appRoutes } from '../../../App';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport IconButton from '@material-ui/core/IconButton/IconButton';\r\n\r\ntype AdminLessonsProps = {}\r\n\r\nexport const AdminLessons: React.FC<AdminLessonsProps> = (props) => {\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetLessonsResponse>>>([\"lessons\"], GetLessons as any);\r\n  const [instuctionOpen, setInstructionOpen] = React.useState(false);\r\n\r\n  let lessons = data?.data.data;\r\n  lessons?.sort((l, r) => l.index - r.index);\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <AdminLessonsContainer>\r\n        <Typography className=\"fix\" variant=\"h3\">Уроки</Typography>\r\n\r\n        <Box mt={1} pb={2}>\r\n          <IconButton title=\"инструкция\" color=\"primary\" onClick={() => setInstructionOpen(true)}>\r\n            <InfoIcon />\r\n          </IconButton>\r\n          <Divider />\r\n        </Box>\r\n\r\n        {isLoading && <CircularProgress />}\r\n        <AdminLessonsContent>\r\n          {lessons?.map((lesson) => (\r\n            <Link key={lesson.id} to={appRoutes.getLessonView(lesson.id.toString())}>\r\n              <AdminLessonsItem>\r\n                <Box textAlign=\"center\">{lesson.name}</Box>\r\n\r\n                <AdminLessonsItemItems>\r\n                  <ListAltIcon /> <div>номер</div> <div>{lesson.index}</div>\r\n                  <AssignmentTurnedInIcon /> <div>тип</div> <div>{lesson.isPractice ? \"* практика\" : \"теория\"}</div>\r\n                </AdminLessonsItemItems>\r\n              </AdminLessonsItem>\r\n            </Link>\r\n          ))}\r\n\r\n          {isLoading == false &&\r\n            <Link key=\"create\" to=\"/admin/lessons/create\">\r\n              <AdminLessonsItem>\r\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" p={3}>\r\n                  <AddIcon />\r\n                </Box>\r\n              </AdminLessonsItem>\r\n            </Link>\r\n          }\r\n        </AdminLessonsContent>\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              <p>Список уроков. Важно чтобы индексы уроков шли по порядку и начинались с 1.</p>\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n      </AdminLessonsContainer >\r\n    </AppLayout >\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { AppColor } from '../../../App/style/theme/utilities/Colors';\r\nimport { AppCard } from '../../../components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const LessonsContent = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n  }\r\n`;  \r\n\r\nexport const LessonsItem = styled(AppCard)`\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  border: 1px solid ${p => p.theme.palette.layout.border};\r\n\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const LessonsItemDisabled = styled(LessonsItem)`\r\n  background-color: ${p => p.theme.palette.action.disabled};\r\n`;","import { Box, CircularProgress, Dialog, Divider, IconButton, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { GetLessons, GetLessonsResponse, IApiResponse } from '../../../server';\r\nimport { Container, LessonsContent, LessonsItem, LessonsItemDisabled } from './styled';\r\nimport { Link } from 'react-router-dom';\r\nimport { Lesson } from '../../../models/Lesson';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { appRoutes, RootState, setLessons } from '../../../App';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\ntype LessonsPageProps = {}\r\n\r\ntype LessonCardProps = {\r\n  disabled?: boolean\r\n  lesson: Lesson\r\n}\r\n\r\nconst LessonCard: React.FC<LessonCardProps> = (props) => {\r\n  if (props.disabled) {\r\n    return (\r\n      <LessonsItemDisabled>\r\n        <Box textAlign=\"center\">{props.lesson.name}</Box>\r\n\r\n        <Box display=\"flex\" mt={3} justifyContent=\"space-between\">\r\n          <div>{props.lesson.index}</div>\r\n          <div>{props.lesson.isPractice ? \"практика\" : \"теория\"}</div>\r\n        </Box>\r\n      </LessonsItemDisabled>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Link to={appRoutes.getLessonPage(props.lesson.id.toString())}>\r\n      <LessonsItem>\r\n        <Box textAlign=\"center\">{props.lesson.name}</Box>\r\n\r\n        <Box display=\"flex\" mt={3} justifyContent=\"space-between\">\r\n          <div>{props.lesson.index}</div>\r\n          <div>{props.lesson.isPractice ? \"практика\" : \"теория\"}</div>\r\n        </Box>\r\n      </LessonsItem>\r\n    </Link>\r\n  );\r\n}\r\n\r\n\r\nexport const LessonsPage: React.FC<LessonsPageProps> = (props) => {\r\n  const dispatch = useDispatch();\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetLessonsResponse>>>([\"lessons\"], GetLessons as any);\r\n  const user = useSelector((state: RootState) => state.user.userData);\r\n\r\n  const [instuctionOpen, setInstructionOpen] = React.useState(false);\r\n\r\n  let lessons = data?.data.data;\r\n  lessons?.sort((l, r) => l.index - r.index);\r\n\r\n  useEffect(() => {\r\n    if (isLoading == false && lessons) {\r\n      dispatch(setLessons(lessons!));\r\n    }\r\n  }, [isLoading]);\r\n  \r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Уроки</Typography>\r\n        <Box mt={1} pb={2}>\r\n          <IconButton title=\"инструкция\" color=\"primary\" onClick={() => setInstructionOpen(true)}>\r\n            <InfoIcon />\r\n          </IconButton>\r\n          <Divider />\r\n        </Box>\r\n\r\n        <LessonsContent>\r\n          {isLoading && <CircularProgress />}\r\n\r\n          {isLoading == false && lessons?.map((lesson, idx) => {\r\n            let status = true;\r\n\r\n            const prevLesson = lessons?.[idx - 1];\r\n            status = !Boolean(user?.userProgresses.some(p => p.lessonId == prevLesson?.id));\r\n\r\n            if (idx == 0) status = false;\r\n\r\n            return (\r\n              <LessonCard key={lesson.id} lesson={lesson} disabled={status} />\r\n            );\r\n          })}\r\n        </LessonsContent>\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              <p>Список уроков. Для доступа к следующему уроку нужно пройти предидущий.</p>\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import { Theme } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport styled from 'styled-components';\r\n\r\nexport const ProfileContainer = styled.div`\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const NickBlock = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const AvatarButtons = styled.div`\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0 8px;\r\n`;\r\n\r\nexport const useStyles = makeStyles(appTheme => {\r\n  const theme = appTheme as Theme;\r\n\r\n  return {\r\n    nickSaveButton: {\r\n      marginLeft: '16px',\r\n      width: '54px',\r\n      height: '54px'\r\n    }\r\n  };\r\n});","import { Box, Button, CircularProgress, IconButton, TextField, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { appFiles, RootState } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { ProfileContainer, NickBlock, useStyles, AvatarButtons } from './styled';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport { SignUpIcon } from '../SignUpPage/styled';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { PhotoCamera } from '@material-ui/icons';\r\nimport { ChangeAvatar, ChangeNick } from '../../../App';\r\n\r\ntype ProfilePageProps = {}\r\n\r\ntype ProfileInputs = {\r\n  nick: string\r\n  photo: FileList\r\n}\r\n\r\nconst schema = Yup.object().shape({\r\n  nick: Yup.string().required(\"поле обязательно\").min(6, \"не короче 6 символов\").max(64, \"не длиннее 64 символов\")\r\n});\r\n\r\nexport const ProfilePage: React.FC<ProfilePageProps> = (props) => {\r\n  const styles = useStyles();\r\n\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state: RootState) => state.user.userData);\r\n  const loading = useSelector((state: RootState) => state.user.loading);\r\n  const mainError = useSelector((state: RootState) => state.user.error);\r\n\r\n  const { register, formState: { errors }, watch, reset, setValue } = useForm<ProfileInputs>({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onChange\",\r\n  });\r\n  const newNick = watch(\"nick\");\r\n  const newPhoto = watch(\"photo\");\r\n  const userPhoto = newPhoto?.[0] ? URL.createObjectURL(newPhoto?.[0]) : appFiles(user?.photo!);\r\n  const hasPhoto = Boolean(newPhoto?.[0]);\r\n  const nickHasChanged = newNick && (newNick != user?.nick) && (Boolean(errors.nick?.message) == false);\r\n\r\n\r\n  const changeAvatar = () => {\r\n    dispatch(ChangeAvatar(newPhoto[0]));\r\n  }\r\n\r\n  const changeNick = () => {\r\n    dispatch(ChangeNick(newNick));\r\n  }\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <ProfileContainer>\r\n        <Typography className=\"fix\" key=\"maintitle\" variant=\"h3\">Профиль</Typography>\r\n\r\n        {loading && <CircularProgress key=\"loading\" />}\r\n\r\n        <Typography key=\"mainError\" color=\"error\">{mainError}</Typography>\r\n        <Box mb={1} key=\"box1\" />\r\n\r\n        <Typography key=\"nickTitle\">Ник</Typography>\r\n        <Box mb={1} key=\"box2\" />\r\n        <NickBlock key=\"Nick\">\r\n\r\n          <TextField\r\n            fullWidth\r\n            id=\"outlined-basic\"\r\n            label=\"ник\"\r\n            variant=\"outlined\"\r\n            key=\"nickInput\"\r\n            defaultValue={user?.nick}\r\n            type=\"text\"\r\n            disabled={loading}\r\n            error={Boolean(errors.nick?.message)}\r\n            helperText={errors.nick?.message}\r\n            {...register(\"nick\")}\r\n          />\r\n\r\n          {nickHasChanged && !errors.nick?.message &&\r\n            <IconButton disabled={loading} classes={{ root: styles.nickSaveButton }} color=\"primary\" onClick={changeNick}>\r\n              <DoneIcon />\r\n            </IconButton>}\r\n        </NickBlock>\r\n        <Box key=\"box3\" mb={2} />\r\n\r\n        <Typography>Аватар</Typography>\r\n        <Box mb={1} key=\"box4\" />\r\n        <div key=\"Avatar\">\r\n          <input\r\n            accept=\"image/gif,image/jpeg,image/pjpeg,image/png,image/svg+xml,image/tiff,image/vnd.microsoft.icon,image/vnd.wap.wbmp,image/webp,image/*\"\r\n            key=\"photoInput\"\r\n            className=\"visually-hidden\"\r\n            id=\"userPhoto\"\r\n            type=\"file\"\r\n            disabled={loading}\r\n            {...register(\"photo\")}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n              const files = (e?.nativeEvent?.target as any)?.files;\r\n              setValue(\"photo\", files);\r\n            }}\r\n          />\r\n          <label htmlFor=\"userPhoto\">\r\n            <Button\r\n              disabled={loading}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"medium\"\r\n              startIcon={<PhotoCamera />}\r\n              component=\"span\"\r\n            >\r\n              {hasPhoto ? \"поменять фото\" : \"выбрать фото\"}\r\n            </Button>\r\n          </label>\r\n          <AvatarButtons>\r\n            <label htmlFor=\"userPhoto\">\r\n              <SignUpIcon src={userPhoto} />\r\n            </label>\r\n            {hasPhoto &&\r\n              <IconButton disabled={loading} aria-label=\"clear avatar\" key=\"clearAvatar\" onClick={() => {\r\n                reset({ photo: undefined });\r\n              }}>\r\n                <ClearIcon />\r\n              </IconButton>\r\n            }\r\n            {hasPhoto &&\r\n              <IconButton disabled={loading} aria-label=\"save avatar\" key=\"saveAvatar\" color=\"secondary\" onClick={changeAvatar}>\r\n                <DoneIcon />\r\n              </IconButton>\r\n            }\r\n          </AvatarButtons>\r\n        </div>\r\n      </ProfileContainer>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Buttons = styled.div`\r\n  display: flex;\r\n  gap: 0 ${p => p.theme.spacing(2)}px;\r\n  align-items: center;\r\n`;","import React, { useRef, useState } from 'react';\r\nimport { Box, Button, CircularProgress, Dialog, Divider, IconButton, Tooltip, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport { useQuery } from 'react-query';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect, useHistory, useParams } from 'react-router';\r\nimport { AddProgress, AddUserPracticeOrder, AppConsts, appRoutes, RootState } from '../../../App';\r\nimport { MarkDown } from '../../../components';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { GetLesson, GetLessonResponse, IApiResponse } from '../../../server';\r\nimport { Container, Buttons } from './styled';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { PhotoCamera } from '@material-ui/icons';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\ntype LessonPageProps = {}\r\n\r\ntype LessonPageRouteParams = {\r\n  id: string\r\n}\r\n\r\n\r\nexport const LessonPage: React.FC<LessonPageProps> = (props) => {\r\n  const dispatch = useDispatch();\r\n  const params = useParams<LessonPageRouteParams>();\r\n  const history = useHistory();\r\n  const id = params.id;\r\n\r\n  const storeLoading = useSelector((state: RootState) => state.user.loading);\r\n  const storeError = useSelector((state: RootState) => state.user.error);\r\n\r\n  const [instuctionOpen, setInstructionOpen] = React.useState(false);\r\n\r\n  const [codeError, setCodeError] = useState(\"\");\r\n\r\n  const [userCode, setUserCode] = useState<File | null>(null);\r\n  const codeRef = useRef<HTMLInputElement>(null);\r\n\r\n  const lessons = useSelector((state: RootState) => state.data.lessons);\r\n  const user = useSelector((state: RootState) => state.user.userData);\r\n  const userPractices = useSelector((state: RootState) => state.user.userData?.practiceOrders);\r\n  const lastPractice = userPractices?.sort((l, r) => Date.parse(r.createdDate) - Date.parse(l.createdDate))[0];\r\n\r\n  // lesson status\r\n  let isOnProgress = false;\r\n  if (lastPractice && (lastPractice.isDone == false)) isOnProgress = true;\r\n  let hasDone = false;\r\n\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetLessonResponse>>>(\r\n    [{ lessonId: id }] as any,\r\n    (r: any) => GetLesson(r.queryKey[0]),\r\n    {\r\n      enabled: Boolean(id)\r\n    }\r\n  );\r\n  const loading = isLoading || storeLoading;\r\n\r\n  // lesson access check\r\n  const lesson = data?.data?.data;\r\n  lessons?.sort((l, r) => l.index - r.index);\r\n  if (lesson) {\r\n    let status = true;\r\n    const prevLesson = lessons?.[lesson.index - 2];\r\n    status = !Boolean(user?.userProgresses.some(p => p.lessonId == prevLesson?.id));\r\n    hasDone = Boolean(user?.userProgresses.some(p => p.lessonId == lesson.id));\r\n\r\n    if (lesson.index == 1) status = false;\r\n\r\n    if (status) return <Redirect to={appRoutes.Lessons} />;\r\n  }\r\n\r\n  // id is not found\r\n  if (Boolean(id) == false) {\r\n    return <Redirect to={appRoutes.Lessons} />;\r\n  }\r\n\r\n  const addProgressHandle = () => {\r\n    dispatch<any>(AddProgress({ userId: user?.id.toString()!, lessonId: lesson?.id.toString()! }))\r\n      .then((result: any) => {\r\n        history.push(appRoutes.Lessons);\r\n      });\r\n  }\r\n\r\n  const addPracticeHandle = () => {\r\n    if (Boolean(userCode) == false) return setCodeError(\"выбирите архив с готовым проектом\");\r\n    if(AppConsts.maxFileSize <= userCode?.size!) return setCodeError(`Размер файла не должен превышать ${AppConsts.maxFileSize / 1e6}мб`);\r\n    \r\n    dispatch(AddUserPracticeOrder({ codeFile: userCode!, lessonId: lesson?.id.toString()!, userId: user?.id.toString()! }));\r\n  }\r\n\r\n  if(loading == false && Boolean(lesson) == false) return <Redirect to={appRoutes.Lessons} />\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" color=\"error\">{storeError}</Typography>\r\n\r\n        {loading && <CircularProgress />}\r\n\r\n        {loading == false &&\r\n          <>\r\n            <Typography variant=\"h3\">{lesson?.name}</Typography>\r\n            <Typography variant=\"body1\">{lesson?.description}</Typography>\r\n\r\n            <Box mt={1} pb={2}>\r\n              <Divider />\r\n              <IconButton title=\"инструкция\" color=\"primary\" onClick={() => setInstructionOpen(true)}>\r\n                <InfoIcon />\r\n              </IconButton>\r\n              <Divider />\r\n            </Box>\r\n\r\n            <MarkDown md={lesson?.content!} />\r\n\r\n            <Box mt={1} mb={1}>\r\n              <Divider />\r\n            </Box>\r\n          </>\r\n        }\r\n\r\n        {loading == false && hasDone == false && Boolean(lesson?.isPractice) == false &&\r\n          <Box mt={5}>\r\n            <Tooltip title=\"завершить урок\">\r\n              <Button startIcon={<SaveIcon />} variant=\"outlined\" color=\"primary\" onClick={addProgressHandle}>завершить</Button>\r\n            </Tooltip>\r\n          </Box>\r\n        }\r\n\r\n        {loading == false && hasDone == false && lastPractice && lesson?.isPractice &&\r\n          <div>\r\n            <div>\r\n              дата прохождения: {new Date(lastPractice.createdDate).toLocaleDateString('ru-RU')}\r\n            </div>\r\n\r\n            {isOnProgress &&\r\n              <Typography color=\"primary\">Работа ждёт проверки.</Typography>\r\n            }\r\n\r\n            {isOnProgress == false &&\r\n              <Typography color=\"primary\">причина отказа: {lastPractice.rejectReason}</Typography>\r\n            }\r\n\r\n            <Box mt={1} mb={1}>\r\n              <Divider />\r\n            </Box>\r\n          </div>\r\n        }\r\n\r\n        {loading == false && hasDone == false && Boolean(lesson?.isPractice) && isOnProgress == false &&\r\n          <form onSubmit={(e: React.FormEvent) => {\r\n            e.preventDefault();\r\n\r\n            addPracticeHandle();\r\n          }}>\r\n            <Typography color=\"error\">{codeError}</Typography>\r\n            <input\r\n              accept=\".zip,.rar,.7zip,.7z\"\r\n              key=\"codeInput\"\r\n              className=\"visually-hidden\"\r\n              id=\"usercode\"\r\n              type=\"file\"\r\n              ref={codeRef}\r\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                const file = e.target?.files?.[0];\r\n\r\n                if (Boolean(file) == false) return;\r\n\r\n                setUserCode(file as File);\r\n              }}\r\n            />\r\n\r\n            <Box mt={5}>\r\n              <Buttons>\r\n                <label htmlFor=\"usercode\">\r\n                  <Button\r\n                    disabled={loading}\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    size=\"medium\"\r\n                    startIcon={<PhotoCamera />}\r\n                    component=\"span\"\r\n                  >\r\n                    {userCode ? \"изменить\" : \"выбрать\"}\r\n                  </Button>\r\n                </label>\r\n\r\n                {userCode &&\r\n                  <div>{userCode.name}</div>\r\n                }\r\n\r\n                {userCode &&\r\n                  <IconButton disabled={loading} aria-label=\"clear avatar\" key=\"clearAvatar\" onClick={() => {\r\n                    if (codeRef.current) {\r\n                      codeRef.current.type = \"text\";\r\n                      codeRef.current.type = \"file\";\r\n                      setUserCode(null);\r\n                    }\r\n                  }}>\r\n                    <ClearIcon />\r\n                  </IconButton>\r\n                }\r\n              </Buttons>\r\n            </Box>\r\n\r\n            <Box mt={2} />\r\n            <Button variant=\"outlined\" color=\"primary\" type=\"submit\">Отправить</Button>\r\n          </form>\r\n        }\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              {lesson?.isPractice &&\r\n                <p>Чтобы завершить урок вам нужно выполнить задание. Напишите ваше решение и упокуйте его в архив.\r\n                  <br /> Понадобится время на проверку, подождите пока преподователи проверят работу.\r\n                </p>\r\n              }\r\n\r\n              {lesson?.isPractice == false &&\r\n                <p>Ознакомтесь с материалом урока и в конце нажмите завершить чтобы окончить урок.</p>\r\n              }\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const InstructionLink = styled.a`\r\n  color: ${p => p.theme.palette.accentBlue.main};\r\n\r\n  &:visited {\r\n    color: ${p => p.theme.palette.accentBlue.main};\r\n  }\r\n`;","import React, { useEffect, useState } from 'react';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { Container, InstructionLink } from './styled';\r\nimport { useForm } from 'react-hook-form';\r\nimport * as Yup from 'yup';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { GetLesson, GetLessonResponse, IApiResponse, EditLesson, EditLessonRequest } from '../../../server';\r\nimport { useMutation, useQuery } from 'react-query';\r\nimport { AxiosResponse } from 'axios';\r\nimport { Box, Button, CircularProgress, Dialog, Divider, IconButton, TextField, Typography } from '@material-ui/core';\r\nimport { appRoutes } from '../../../App';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport { DeleteButton } from '../AdminViewLesson/styled';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n\r\ntype LessonWorkProps = {}\r\n\r\ntype AdminEditLessonRouteParams = {\r\n  id: string\r\n}\r\n\r\ntype LessonWorkInputs = {\r\n  index: string\r\n  name: string\r\n  description: string\r\n  content: string\r\n}\r\n\r\nconst schema = Yup.object().shape({\r\n  index: Yup.string().required(\"поле обязательно\").test(\"index min 0\", \"минимум 1\", (value) => {\r\n    return parseInt(value!) > 0;\r\n  }),\r\n  name: Yup.string().required(\"поле обязательно\"),\r\n  description: Yup.string().required(\"поле обязательно\"),\r\n  content: Yup.string().required(\"поле обязательно\")\r\n});\r\n\r\nexport const LessonWork: React.FC<LessonWorkProps> = (props) => {\r\n  const history = useHistory();\r\n  const params = useParams<AdminEditLessonRouteParams>();\r\n  const id = params.id;\r\n\r\n  const [instuctionOpen, setInstructionOpen] = useState(false);\r\n\r\n  const { data, isError, error, isLoading } = useQuery<AxiosResponse<IApiResponse<GetLessonResponse>>>(\r\n    [{ lessonId: id }] as any,\r\n    (r: any) => GetLesson(r.queryKey[0]),\r\n    {\r\n      enabled: Boolean(id)\r\n    }\r\n  );\r\n  const editReq = useMutation<any, any, EditLessonRequest, any>(EditLesson as any);\r\n  const lesson = data?.data?.data;\r\n  const { register, formState: { errors }, handleSubmit, setValue } = useForm<LessonWorkInputs>({\r\n    resolver: yupResolver(schema),\r\n    mode: \"onBlur\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isLoading == false) {\r\n      setValue(\"content\", lesson?.content!);\r\n      setValue(\"description\", lesson?.description!);\r\n      setValue(\"name\", lesson?.name!);\r\n      setValue(\"index\", lesson?.index.toString()!);\r\n    }\r\n  }, [isLoading]);\r\n\r\n  const handleEdit = (data: LessonWorkInputs) => {\r\n    editReq.mutateAsync({ content: data.content, description: data.description, index: data.index, name: data.name, lessonId: lesson?.id.toString()! })\r\n      .then((result) => history.push(appRoutes.getLessonView(lesson?.id.toString()!)));\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        {(isLoading || editReq.isLoading) && <CircularProgress />}\r\n\r\n        {isLoading == false && editReq.isLoading == false &&\r\n          <form onSubmit={handleSubmit(handleEdit)}>\r\n            <Typography className=\"fix\" variant=\"h3\">{lesson?.name}</Typography>\r\n            <Box>\r\n              <IconButton title=\"инструкция\" color=\"primary\" onClick={() => setInstructionOpen(true)}>\r\n                <InfoIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box mt={1} pb={2}>\r\n              <Divider />\r\n            </Box>\r\n\r\n            <TextField\r\n              fullWidth\r\n              id=\"outlined-basic\"\r\n              label=\"название\"\r\n              variant=\"outlined\"\r\n              key=\"nameInput\"\r\n              defaultValue={lesson?.name}\r\n              type=\"text\"\r\n              error={Boolean(errors.name?.message)}\r\n              helperText={errors.name?.message}\r\n              {...register(\"name\")}\r\n              onChange={(e) => setValue(\"name\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <TextField\r\n              fullWidth\r\n              id=\"outlined-basic1\"\r\n              label=\"индекс\"\r\n              variant=\"outlined\"\r\n              key=\"indexInput\"\r\n              type=\"number\"\r\n              InputProps={{ inputProps: { min: 0 } }}\r\n              defaultValue={lesson?.index}\r\n              error={Boolean(errors.index?.message)}\r\n              helperText={errors.index?.message}\r\n              {...register(\"index\")}\r\n              onChange={(e) => setValue(\"index\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <TextField\r\n              fullWidth\r\n              id=\"outlined-basic3\"\r\n              label=\"краткое описание\"\r\n              variant=\"outlined\"\r\n              key=\"descriptionInput\"\r\n              type=\"text\"\r\n              defaultValue={lesson?.description}\r\n              error={Boolean(errors.description?.message)}\r\n              helperText={errors.description?.message}\r\n              {...register(\"description\")}\r\n              onChange={(e) => setValue(\"description\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <TextField\r\n              fullWidth\r\n              multiline\r\n              id=\"outlined-basic2\"\r\n              label=\"содержание\"\r\n              variant=\"outlined\"\r\n              key=\"contentInput\"\r\n              type=\"text\"\r\n              defaultValue={lesson?.content}\r\n              error={Boolean(errors.content?.message)}\r\n              helperText={errors.content?.message}\r\n              {...register(\"content\")}\r\n              onChange={(e) => setValue(\"content\", e.target.value)}\r\n            />\r\n            <Box mb={2} />\r\n\r\n            <Button\r\n              disabled={Boolean(errors.content || errors.description || errors.index || errors.name)}\r\n              variant=\"contained\"\r\n              type=\"submit\"\r\n              color=\"secondary\">\r\n              редактировать\r\n            </Button>\r\n          </form>\r\n        }\r\n\r\n\r\n        {isLoading == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              <p>Чтобы вставить не внешнуюю картинку, следует вставить ![] (/appstatic/name)</p>\r\n              <p>все возможности создания разметки можно узнать <InstructionLink\r\n                href=\"https://about.gitlab.com/handbook/markdown-guide/\"\r\n                target=\"_blank\">здесь</InstructionLink>\r\n              </p>\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { AppCard } from '../../../components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Search = styled.form`\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  padding: 1rem 0;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(226px, 1fr));\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n\r\n  @media screen and (max-width: 600px) {\r\n  }\r\n`;  \r\n\r\nexport const Item = styled(AppCard)`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nexport const ItemItems = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto auto 1fr;\r\n\r\n  margin-top: 0.5rem;\r\n  gap: 1rem;\r\n`;\r\n\r\nexport const ToolButtons = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n`;","import { Box, Button, CircularProgress, Dialog, Divider, IconButton, TextField, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React, { useRef, useState } from 'react';\r\nimport { useInfiniteQuery } from 'react-query';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { IApiResponse, GetAllUsersResponse, GetAllUsers } from '../../../server';\r\nimport { Container, Content, Search, Item, ItemItems, ToolButtons } from './styled';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { User, UserRoles } from '../../../models';\r\nimport { appRoutes } from '../../../App';\r\nimport { Link, useHistory, useLocation, useParams, useRouteMatch } from 'react-router-dom';\r\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport WorkIcon from '@material-ui/icons/Work';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n\r\n\r\ntype UserCardProps = {\r\n  user: User\r\n};\r\nconst UserCard: React.FC<UserCardProps> = (props) => {\r\n  let userRole = props.user.roles[0];\r\n  let userRoleString = \"ученик\";\r\n  if (userRole == 1) userRoleString = \"учитель\";\r\n  if (userRole == 2) userRoleString = \"админ\";\r\n\r\n  return (\r\n    <Link key={1} to={appRoutes.getAdminUser(props.user.id.toString())}>\r\n      <Item>\r\n        <Box textAlign=\"center\">{props.user.nick}</Box>\r\n\r\n        <ItemItems>\r\n          <AssignmentIndIcon /> <div>id</div> <div>{props.user.id}</div>\r\n          <MailIcon /> <div>почта</div> <div>{props.user.mail}</div>\r\n          <WorkIcon /> <div>роль</div> <div>{userRoleString}</div>\r\n        </ItemItems>\r\n      </Item>\r\n    </Link>\r\n  );\r\n}\r\n\r\ntype AdminUsersProps = {}\r\n\r\nconst pageLimit = 8;\r\nexport const AdminUsers: React.FC<AdminUsersProps> = (props) => {\r\n  const [searchError, setSearchError] = useState(\"\");\r\n  const searchRef = useRef<HTMLInputElement>(null);\r\n  // const history = useHistory();\r\n  // const location = useLocation();\r\n  // const searchPage = Number(new URLSearchParams(location.search).get(\"page\") ?? 1);\r\n\r\n  const {\r\n    data,\r\n    error,\r\n    fetchNextPage,\r\n    hasNextPage,\r\n    isFetching,\r\n    isFetchingNextPage,\r\n    status,\r\n    refetch\r\n  } = useInfiniteQuery<AxiosResponse<IApiResponse<GetAllUsersResponse>>>(\r\n    [\"practices\"], (({ pageParam = 1 }) => {\r\n      return GetAllUsers({ page: pageParam.toString(), search: searchRef.current?.value?.trim() ?? \"\", limit: pageLimit.toString() });\r\n    }) as any,\r\n    {\r\n      getNextPageParam: (lastPage, pages) => {\r\n        let total = lastPage.headers['x-total-count'];\r\n        let page = pages.length + 1;\r\n\r\n        if (page * pageLimit > total) return undefined;\r\n\r\n        return page;\r\n      }\r\n    }\r\n  );\r\n  const loading = isFetching || isFetchingNextPage;\r\n\r\n  const [instuctionOpen, setInstructionOpen] = React.useState(false);\r\n\r\n  const users = data?.pages?.map(el => el.data.data).flat(1) ?? [];\r\n  const cards = [];\r\n\r\n  for (let i = 0; i < users.length; i++) {\r\n    const currentUser = users[i];\r\n    cards.push(<UserCard key={currentUser.id} user={currentUser} />);\r\n  }\r\n\r\n  const searchHandle = () => {\r\n    if (loading) return;\r\n\r\n    const search = searchRef.current?.value?.trim() ?? \"\";\r\n\r\n    if (Boolean(search) == false) return setSearchError(\"поле пустое\");\r\n    if (search.length > 64) return setSearchError(\"максимум 64 символа\");\r\n\r\n    setSearchError(\"\");\r\n    refetch();\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">Пользователи</Typography>\r\n\r\n        <Search onSubmit={(e: React.FormEvent) => {\r\n          e.preventDefault();\r\n\r\n          searchHandle();\r\n        }}>\r\n          <TextField\r\n            inputRef={searchRef}\r\n            fullWidth\r\n            id=\"outlined-basic\"\r\n            label=\"ник или mail пользователя\"\r\n            variant=\"outlined\"\r\n            key=\"searchInput\"\r\n            error={Boolean(searchError)}\r\n            helperText={searchError}\r\n            disabled={loading}\r\n          />\r\n\r\n          <IconButton type=\"submit\">\r\n            <SearchIcon />\r\n          </IconButton>\r\n        </Search>\r\n\r\n        <ToolButtons>\r\n          <IconButton color=\"primary\" onClick={() => {\r\n            if (searchRef.current) searchRef.current.value = \"\";\r\n\r\n            setSearchError(\"\");\r\n            refetch();\r\n          }}>\r\n            <RefreshIcon />\r\n          </IconButton>\r\n          <IconButton title=\"инструкция\" onClick={() => setInstructionOpen(true)}>\r\n            <InfoIcon />\r\n          </IconButton>\r\n        </ToolButtons>\r\n        <Divider />\r\n\r\n        <Content>\r\n          {cards}\r\n\r\n          {isFetching == false && cards.length == 0 && <Typography variant=\"body1\" color=\"primary\">Пока ничего нет...</Typography>}\r\n        </Content>\r\n\r\n        {(isFetching || isFetchingNextPage) &&\r\n          <Box mt={2} textAlign=\"center\">\r\n            <CircularProgress />\r\n          </Box>\r\n        }\r\n\r\n        {isFetching == false && isFetchingNextPage == false &&\r\n          <Box display=\"flex\" justifyContent=\"center\" mt={2}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              disabled={!hasNextPage || isFetchingNextPage}\r\n              onClick={() => {\r\n                fetchNextPage();\r\n              }}>ещё</Button>\r\n          </Box>\r\n        }\r\n\r\n        {isFetching == false &&\r\n          <Dialog onClose={() => setInstructionOpen(false)} aria-labelledby=\"customized-dialog-title\" open={instuctionOpen}>\r\n            <MuiDialogTitle id=\"customized-dialog-title\">\r\n              <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                Инструкция <IconButton onClick={() => setInstructionOpen(false)}><CloseIcon /></IconButton>\r\n              </Box>\r\n            </MuiDialogTitle>\r\n            <MuiDialogContent dividers>\r\n              Список пользователей\r\n            </MuiDialogContent>\r\n          </Dialog>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: inline-grid;\r\n  grid-template-columns: repeat(3, auto);\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n`;\r\n\r\nexport const RoleRow = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin: 1rem 0;\r\n  padding: 1px 0;\r\n`;","import { Box, Button, CircularProgress, FormControl, FormHelperText, InputLabel, MenuItem, Select, Typography } from '@material-ui/core';\r\nimport { AxiosResponse } from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useQuery, useMutation } from 'react-query';\r\nimport { useParams } from 'react-router';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { appRoutes } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { IApiResponse, GetUserDetailedResponse, GetUserDetailed, BanUserRequest, BanUser, ChangeUserRoleRequest, ChangeUserRole } from '../../../server';\r\nimport { Container, Content, RoleRow } from './stlyed';\r\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport WorkIcon from '@material-ui/icons/Work';\r\n\r\ntype AdminUserProps = {}\r\n\r\ntype AdminUserRouteParams = {\r\n  id: string\r\n}\r\n\r\nexport const AdminUser: React.FC<AdminUserProps> = (props) => {\r\n  const params = useParams<AdminUserRouteParams>();\r\n  const id = params.id;\r\n\r\n  const [userRole, setUserRole] = useState(0);\r\n  const [roleError, setRoleError] = useState(\"\");\r\n\r\n  const { data, isError, error, isLoading, refetch } = useQuery<AxiosResponse<IApiResponse<GetUserDetailedResponse>>>(\r\n    [{ userId: id }] as any,\r\n    (r: any) => GetUserDetailed(r.queryKey[0]),\r\n    {\r\n      enabled: Boolean(id)\r\n    }\r\n  );\r\n  const banReq = useMutation<any, any, BanUserRequest, any>(BanUser as any);\r\n  const changeRoleReq = useMutation<any, any, ChangeUserRoleRequest, any>(ChangeUserRole as any);\r\n  const user = data?.data?.data;\r\n\r\n  const loading = banReq.isLoading || changeRoleReq.isLoading || isLoading;\r\n\r\n  useEffect(() => {\r\n    if (isLoading == false && user) {\r\n      setUserRole(user.roles[0]);\r\n    }\r\n  }, [isLoading]);\r\n\r\n  const changeRoleHandle = () => {\r\n    if (user?.roles[0] == userRole) return setRoleError(\"эта роль уже выбрана\");\r\n\r\n    changeRoleReq.mutateAsync({userId: user?.id?.toString()!, newRole: userRole.toString()})\r\n      .then((result) => refetch());\r\n  }\r\n\r\n  const banHandle = () => {\r\n    banReq.mutateAsync({userForBannId: user?.id.toString()!})\r\n      .then((result) => refetch());\r\n  }\r\n\r\n  if (Boolean(id) == false) return <Redirect to={appRoutes.App} />\r\n\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        {loading && <CircularProgress />}\r\n\r\n        {isLoading == false && user &&\r\n          <Typography className=\"fix\" variant=\"h3\">{user.nick}</Typography>\r\n        }\r\n\r\n        {isLoading == false &&\r\n          <div>\r\n            <Content>\r\n              <AssignmentIndIcon /> <div>id</div> <div>{user?.id}</div>\r\n              <MailIcon /> <div>mail</div> <div>{user?.mail}</div>\r\n            </Content>\r\n\r\n            <RoleRow>\r\n              <div><WorkIcon /></div>\r\n              <div>роль</div>\r\n              <div>\r\n                <FormControl variant=\"outlined\" fullWidth error={Boolean(roleError)} disabled={loading}>\r\n                  <InputLabel id=\"rolelabel\">Age</InputLabel>\r\n                  <Select\r\n                    labelId=\"rolelabel\"\r\n                    id=\"rolelabel1\"\r\n                    value={userRole}\r\n                    onChange={(e: React.ChangeEvent<{ value: any }>) => setUserRole(e.target.value)}\r\n                    label=\"Age\"\r\n                    disabled={loading}\r\n                  >\r\n                    <MenuItem value={0}>Ученик</MenuItem>\r\n                    <MenuItem value={1}>Учитель</MenuItem>\r\n                    <MenuItem value={2}>Админ</MenuItem>\r\n                  </Select>\r\n                  <FormHelperText>{roleError}</FormHelperText>\r\n                </FormControl>\r\n              </div>\r\n              <Button variant=\"text\" color=\"primary\" onClick={changeRoleHandle} disabled={loading}>\r\n                {changeRoleReq.isLoading ? <CircularProgress size={14} /> : \"изменить\"}\r\n              </Button>\r\n            </RoleRow>\r\n\r\n            <Box>\r\n              <Button\r\n                onClick={banHandle}\r\n                variant={user?.isBanned ? \"contained\" : \"text\"} color=\"primary\"\r\n                disabled={loading}>\r\n                {banReq.isLoading && <CircularProgress size={14} />}\r\n                {user?.isBanned ? \"разбанить пользователя\" : \"забанить пользователя\"}\r\n              </Button>\r\n            </Box>\r\n          </div>\r\n        }\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import styled, { keyframes } from 'styled-components';\r\nimport { AppImg } from '../../../components';\r\n\r\nexport const Container = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n  overflow: hidden;\r\n  height: 100%;\r\n\r\n  width: min(1024px, 100%);\r\n  margin: 0 auto;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  position: relative;\r\n  margin-top: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const Planets = styled.div`\r\n  position: relative;\r\n  perspective: 800px;\r\n  transform-style: preserve-3d;\r\n  transform-origin: center;\r\n`;\r\n\r\nconst rotate = keyframes`\r\n  0% {\r\n    transform: translateZ(450px) translateY(-45px) translateX(0) rotateZ(0deg);\r\n  }\r\n  25%{\r\n    transform: translateZ(400px) translateY(-40px) translateX(-100px)  rotateZ(90deg);\r\n  }\r\n  50%{\r\n    transform: translateZ(350px) translateY(-35px) translateX(0)  rotateZ(180deg);\r\n  }\r\n  75%{\r\n    transform: translateZ(400px) translateY(-40px) translateX(+100px)  rotateZ(270deg);\r\n  }\r\n  100% {\r\n    transform: translateZ(450px) translateY(-45px) translateX(0)  rotateZ(360deg);\r\n  }\r\n`;\r\nconst rotate1 = keyframes`\r\n  from {\r\n    transform: rotateZ(0deg) translateZ(400px) translateY(45px);\r\n  }\r\n  to{\r\n    transform: rotateZ(-360deg) translateZ(400px) translateY(45px);\r\n  }\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  max-width: 200px;\r\n  object-fit: cover;\r\n  object-position: center;\r\n  margin: 0 auto;\r\n  display: block;\r\n\r\n  transform-origin: 101px 115px;\r\n  animation: ${rotate1} 7s infinite linear;\r\n`;\r\n\r\nexport const ImgLove = styled.img`\r\n  max-width: 55px;\r\n  object-fit: cover;\r\n  object-position: center;\r\n  margin: 0 auto;\r\n  display: block;\r\n  transform: translateZ(450px) translateY(-45px);\r\n  transform-origin: center;\r\n  animation: ${rotate} 7s infinite linear;\r\n`;\r\n\r\nexport const AboutImg = styled(AppImg)`\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  max-width: 600px;\r\n  aspect-ratio: 4 / 3;\r\n  width: 100%;\r\n`;","export default __webpack_public_path__ + \"static/media/react_img.73ac128a.png\";","export default __webpack_public_path__ + \"static/media/globalweb.de200d6a.webp\";","export default __webpack_public_path__ + \"static/media/react_material.267187f3.png\";","import React from 'react';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { Container, Content, Img, ImgLove, Planets, AboutImg } from './styled';\r\nimport ReactImage from '../../../appstatic/react_img.png';\r\nimport ReactLove from '../../../appstatic/react_logo.svg';\r\nimport { Box, Divider, Typography } from '@material-ui/core';\r\nimport globalImg from '../../../appstatic/globalweb.webp';\r\nimport reactMaterial from '../../../appstatic/react_material.png';\r\nimport { AppImg } from '../../../components';\r\n\r\ntype AboutPageProps = {}\r\n\r\nexport const AboutPage: React.FC<AboutPageProps> = (props) => {\r\n  return (\r\n    <AppLayout>\r\n      <Container>\r\n        <Typography className=\"fix\" variant=\"h3\">О проекте</Typography>\r\n        <Box paddingY={1}>\r\n          <Divider />\r\n        </Box>\r\n\r\n        <Content>\r\n          <Planets>\r\n            <Img src={ReactImage} alt=\"react image\" />\r\n            <ImgLove src={ReactLove} alt=\"react Love image\" />\r\n          </Planets>\r\n\r\n          <Box mt={8} />\r\n          <Typography variant=\"body1\">\r\n            React.js - JavaScript-библиотека для создания пользовательских интерфейсов.\r\n            Данный проект поможет вам изучить технологию React.js и понять её преимущества и недостатки.\r\n          </Typography>\r\n\r\n          <AboutImg alt=\"react\" src={reactMaterial} />\r\n          <Typography variant=\"body1\">\r\n            React — JavaScript-библиотека с открытым исходным кодом\r\n            для разработки пользовательских интерфейсов. React разрабатывается и\r\n            поддерживается Facebook, Instagram и сообществом отдельных\r\n            разработчиков и корпораций. React может использоваться\r\n            для разработки одностраничных и мобильных приложений\r\n          </Typography>\r\n          <AboutImg alt=\"react\" src={globalImg} />\r\n          <Typography variant=\"body1\">\r\n            В ходе курса мы изучим с вами React от основ до продвинутых тем. Надеемся, что вам понравится. Давайте учиться вместе.\r\n          </Typography>\r\n          <Typography variant=\"h5\">\r\n            Для написания материалов к курсу использовались материалы сайта - https://metanit.com/\r\n          </Typography>\r\n          <Typography variant=\"h5\">\r\n            Большое спасибо автору данного сайта. Евгений просто Программист с большой буквы, для изучения других тем советую данный сайт.\r\n          </Typography>\r\n        </Content>\r\n      </Container>\r\n    </AppLayout>\r\n  );\r\n};","import { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { AppColor } from '../../../App/style/theme/utilities/Colors';\r\n\r\nexport const AdminMainContainer = styled.div`\r\n  padding: ${p => p.theme.spacing(2)}px;\r\n`;\r\n\r\nexport const AdminContent = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: ${p => p.theme.spacing(2)}px;\r\n\r\n  margin-top: 1rem;\r\n`;\r\n\r\nexport const AdminLink = styled(Link)`\r\n  color: ${p => p.theme.palette.accentBlue.main} !important;\r\n  border: 1px solid ${p => p.theme.palette.accentBlue.main};\r\n  padding: ${p => p.theme.spacing(1)}px;\r\n  border-radius: 2px;\r\n  text-align: center;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: ${p => AppColor.From(p.theme.palette.accentBlue.main).changeOpacity(-80).toRgba()};\r\n  }\r\n`;","import { Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { appRoutes, ByRole, Secure } from '../../../App';\r\nimport { AppLayout } from '../../../layouts';\r\nimport { UserRoles } from '../../../models';\r\nimport { AdminLink, AdminMainContainer, AdminContent } from './styled';\r\n\r\ntype AdminMainProps = {}\r\n\r\nexport const AdminMain: React.FC<AdminMainProps> = (props) => {\r\n  return (\r\n    <AppLayout>\r\n      <AdminMainContainer>\r\n        <Typography className=\"fix\" variant=\"h3\">Админ панель</Typography>\r\n\r\n        <AdminContent>\r\n          <Secure politic={ByRole([UserRoles.Admin])}>\r\n            <AdminLink to={appRoutes.AdminUsers}>Пользователи</AdminLink>\r\n          </Secure>\r\n          <AdminLink to={appRoutes.Practices}>Практики</AdminLink>\r\n          <AdminLink to={appRoutes.AdminLessons}>Уроки</AdminLink>\r\n          <AdminLink to={appRoutes.AdminInstruction}>инструкция</AdminLink>\r\n        </AdminContent>\r\n      </AdminMainContainer>\r\n    </AppLayout>\r\n  );\r\n};","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router';\r\nimport { MainPage } from '../../containers/pages/MainPage';\r\nimport { LoginPage } from '../../containers/pages/LoginPage/LoginPage';\r\nimport { SignUpPage } from '../../containers/pages/SignUpPage';\r\nimport { ByAuth, ByRole } from './politics';\r\nimport { routeConfig } from './RouteConfig';\r\nimport { Secure, SecureProps } from './Secure';\r\nimport { AboutPage, AdminLessons, AdminMain, AdminUser, AdminUsers, AdminViewLesson, InstructionPage, LessonCreate, LessonPage, LessonsPage, LessonWork, PracticePage, PracticesPage, ProfilePage, SettingsPage } from '../../containers';\r\nimport { UserRoles } from '../../models';\r\n\r\ntype AppRoutesProps = {}\r\n\r\nexport const AppRoutes: React.FC<AppRoutesProps> = (props) => {\r\n  return (\r\n    <Switch key=\"MainSwitch\">\r\n\r\n      {/* Main */}\r\n      <Route {...routeConfig.App} key=\"some\">\r\n        <Secure politic={ByAuth()} key=\"AppSecure\" redirectPath={routeConfig.Login.path}>\r\n          <MainPage key=\"page\" />\r\n        </Secure>\r\n      </Route>\r\n\r\n      {/* Login */}\r\n      <Route {...routeConfig.Login}>\r\n        <Secure key=\"LoginSecure\" politic={ByAuth(false)} redirectPath={routeConfig.App.path}>\r\n          <LoginPage key=\"page\" />\r\n        </Secure>\r\n      </Route>\r\n\r\n      {/* sign up */}\r\n      <Route {...routeConfig.SignUp}>\r\n        <AppSecure key=\"SignUpSecure\" politic={ByAuth(false)}>\r\n          <SignUpPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* profile */}\r\n      <Route {...routeConfig.Profile}>\r\n        <AppSecure key=\"ProfileSecure\" politic={ByAuth()}>\r\n          <ProfilePage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* lessons */}\r\n      <Route {...routeConfig.Lessons}>\r\n        <AppSecure key=\"ProfileSecure\" politic={ByAuth()}>\r\n          <LessonsPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* settings */}\r\n      <Route {...routeConfig.Settings}>\r\n        <AppSecure key=\"SettingsSecure\" politic={ByAuth()}>\r\n          <SettingsPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* lesson page view for user */}\r\n      <Route {...routeConfig.LessonPage}>\r\n        <AppSecure key=\"LessonPageSecure\" politic={ByAuth()}>\r\n          <LessonPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* about page */}\r\n      <Route {...routeConfig.About}>\r\n        <AppSecure key=\"AboutPageSecure\" politic={ByAuth()}>\r\n          <AboutPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin main */}\r\n      <Route {...routeConfig.AdminMain}>\r\n        <AppSecure key=\"AdminMainSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <AdminMain key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin practices */}\r\n      <Route {...routeConfig.Practices}>\r\n        <AppSecure key=\"PracticesSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <PracticesPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin users */}\r\n      <Route {...routeConfig.AdminUsers}>\r\n        <AppSecure key=\"AdminUsersSecure\" politic={ByRole([UserRoles.Admin])}>\r\n          <AdminUsers key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin user */}\r\n      <Route {...routeConfig.AdminUser}>\r\n        <AppSecure key=\"AdminUserSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <AdminUser key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin instruction */}\r\n      <Route {...routeConfig.AdminInstruction}>\r\n        <AppSecure key=\"InstructionPageSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <InstructionPage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin lesson edit */}\r\n      <Route {...routeConfig.AdminPractice}>\r\n        <AppSecure key=\"AdminPracticeEditSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <PracticePage key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin lessons */}\r\n      <Route {...routeConfig.AdminLessons}>\r\n        <AppSecure key=\"AdminLessonsSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <AdminLessons key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin lesson view */}\r\n      <Route {...routeConfig.AdminLesson}>\r\n        <AppSecure key=\"AdminLessonsViewSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <AdminViewLesson key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin lesson edit */}\r\n      <Route {...routeConfig.AdminLessonEdit}>\r\n        <AppSecure key=\"AdminLessonEditSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <LessonWork key=\"page\" />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      {/* admin lesson create */}\r\n      <Route {...routeConfig.AdminLessonCreate}>\r\n        <AppSecure key=\"AdminLessonCreateSecure\" politic={ByRole([UserRoles.Admin, UserRoles.Teacher])}>\r\n          <LessonCreate />\r\n        </AppSecure>\r\n      </Route>\r\n\r\n      <Redirect to={routeConfig.App.path} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport const AppSecure: React.FC<SecureProps> = (props) => (\r\n  <Secure {...props} redirectPath={routeConfig.App.path}>\r\n    {props.children}\r\n  </Secure>\r\n);\r\n\r\nexport const LoginSecure: React.FC<SecureProps> = (props) => (\r\n  <Secure {...props} redirectPath={routeConfig.Login.path}>\r\n    {props.children}\r\n  </Secure>\r\n);\r\n\r\n// * -> /(check auth) ?-> /login\r\n\r\n// также можно просто скрывать route\r\n// {ByAuth(user) && <Route></Route>}\r\n// switch выбирает первого ребёнка с подходящим параметром path","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\nexport type AddPracticeOrderRequest = {\r\n  userId: string\r\n  lessonId: string\r\n\r\n  codeFile: File\r\n}\r\n\r\nexport type AddPracticeOrderResponse = number;\r\n\r\nexport const AddPracticeOrder: ApiQueryFunction<AddPracticeOrderRequest, AddPracticeOrderResponse> = (request, api = appApi) => {\r\n  const data = new FormData();\r\n  data.set(\"userId\", request?.userId!);\r\n  data.set(\"lessonId\", request?.lessonId!);\r\n\r\n  data.set(\"codeFile\", request?.codeFile!, request?.codeFile.name);\r\n\r\n  return api.post(`/practice`, data);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\nexport type GetAllPracticesOrdersRequest = {\r\n  search?: string\r\n  page?: string\r\n  limit?: string\r\n}\r\n\r\nexport type GetAllPracticesOrdersResponse = {\r\n  id: string\r\n  createdDate: string\r\n  lessonName: string\r\n  userNick: string\r\n}[];\r\n\r\nexport const GetAllPracticesOrders: ApiQueryFunction<GetAllPracticesOrdersRequest, GetAllPracticesOrdersResponse> = (request, api = appApi) => {\r\n  const search = new URLSearchParams();\r\n  if(request?.limit) search.set(\"limit\", request?.limit);\r\n  if(request?.page) search.set(\"page\", request?.page);\r\n  if(request?.search) search.set(\"search\", request?.search);\r\n\r\n  return api.get(`/practice?`+search.toString());\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\nimport { PracticeOrder } from \"../../../models\";\r\n\r\n\r\nexport type GetUserPracticesResponse = PracticeOrder[];\r\n\r\nexport const GetUserPractices: ApiQueryFunction<undefined, GetUserPracticesResponse> = (request, api = appApi) => {\r\n  return api.get(`/practice/current`);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\nimport { PracticeOrderDetailedView } from \"../../../models\";\r\n\r\n\r\nexport type GetPracticeInfoRequest = {\r\n  practiceId: string\r\n}\r\n\r\nexport type GetPracticeInfoResponse = PracticeOrderDetailedView\r\n\r\nexport const GetPracticeInfo: ApiQueryFunction<GetPracticeInfoRequest, GetPracticeInfoResponse> = (request, api = appApi) => {\r\n  return api.get(`/practice/${request?.practiceId}`);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\nexport type RejectPracticeRequest = {\r\n  practiceId: string,\r\n  teacherId: string,\r\n  description: string\r\n}\r\n\r\nexport type RejectPracticeResponse = number\r\n\r\nexport const RejectPractice: ApiQueryFunction<RejectPracticeRequest, RejectPracticeResponse> = (request, api = appApi) => {\r\n  return api.put(`/practice/reject`, request);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\n\r\nexport type ResolvePracticeRequest = {\r\n  practiceId: string,\r\n  teacherId: string\r\n}\r\n\r\nexport type ResolvePracticeResponse = number\r\n\r\nexport const ResolvePractice: ApiQueryFunction<ResolvePracticeRequest, ResolvePracticeResponse> = (request, api = appApi) => {\r\n  return api.put(`/practice/resolve`, request);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\nimport { UserProgres } from \"../../../models\";\r\n\r\nexport type AddUserProgressRequest = {\r\n  userId: string\r\n  lessonId: string\r\n}\r\n\r\nexport type AddUserProgressResponse = UserProgres[];\r\n\r\nexport const AddUserProgress: ApiQueryFunction<AddUserProgressRequest, AddUserProgressResponse> = (request, api = appApi) => {\r\n  return api.post(`/progress`, request);\r\n};","import { LessonDetailed } from \"../../../models/views/LessonDetailed\";\r\nimport { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type GetLessonRequest = {\r\n  lessonId: string\r\n}\r\n\r\nexport type GetLessonResponse = LessonDetailed;\r\n\r\nexport const GetLesson: ApiQueryFunction<GetLessonRequest, GetLessonResponse> = (request, api = appApi) => {\r\n  return api.get(`/lesson/${request?.lessonId}`);\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type DeleteLessonRequest = {\r\n  lessonId: string\r\n}\r\n\r\nexport const DeleteLesson: ApiQueryFunction<DeleteLessonRequest, undefined> = (request, api = appApi) => {\r\n  return api.delete(`/lesson/${request?.lessonId}`);\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type EditLessonRequest = {\r\n  lessonId: string\r\n  index: string\r\n  name: string\r\n  description: string\r\n  content: string\r\n}\r\n\r\nexport const EditLesson: ApiQueryFunction<EditLessonRequest> = (request, api = appApi) => {\r\n  return api.put(`/lesson/${request?.lessonId}`, request);\r\n};","import { AxiosResponse } from \"axios\";\r\nimport { Lesson } from \"../../../models/Lesson\";\r\nimport { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\nimport { IApiResponse } from \"../../ApiModel\";\r\n\r\n\r\nexport type GetLessonsResponse = Lesson[];\r\n\r\nexport const GetLessons: ApiQueryFunction<undefined, GetLessonsResponse> = (request, api = appApi) => {\r\n  return api.get(\"/lesson\");\r\n};","import { User } from \"../../../models\";\r\nimport { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport const GetCurrentUserQuery: ApiQueryFunction<undefined, User> = (request, api = appApi) => {\r\n  return api.get(\"/user/current\");\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\n\r\n\r\nexport type CheckTokenResponse = {\r\n  token: string\r\n}\r\n\r\nexport const CheckCurrentToken: ApiQueryFunction<undefined, CheckTokenResponse> = (request, api = appApi) => {\r\n  return api.post(\"/account/check\");\r\n};","// From https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob, needed for Safari:\r\nif (!HTMLCanvasElement.prototype.toBlob) {\r\n  Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\r\n    value: function (callback, type, quality) {\r\n\r\n      var binStr = atob(this.toDataURL(type, quality).split(',')[1]),\r\n        len = binStr.length,\r\n        arr = new Uint8Array(len);\r\n\r\n      for (var i = 0; i < len; i++) {\r\n        arr[i] = binStr.charCodeAt(i);\r\n      }\r\n\r\n      callback(new Blob([arr], { type: type || 'image/png' }));\r\n    }\r\n  });\r\n}\r\n\r\nwindow.URL = window.URL || window.webkitURL;\r\n\r\n// Modified from https://stackoverflow.com/a/32490603, cc by-sa 3.0\r\n// -2 = not jpeg, -1 = no data, 1..8 = orientations\r\nexport function getExifOrientation(file, callback) {\r\n  // Suggestion from http://code.flickr.net/2012/06/01/parsing-exif-client-side-using-javascript-2/:\r\n  if (file.slice) {\r\n    file = file.slice(0, 131072);\r\n  } else if (file.webkitSlice) {\r\n    file = file.webkitSlice(0, 131072);\r\n  }\r\n\r\n  var reader = new FileReader();\r\n  reader.onload = function (e) {\r\n    var view = new DataView(e.target.result);\r\n    if (view.getUint16(0, false) != 0xFFD8) {\r\n      callback(-2);\r\n      return;\r\n    }\r\n    var length = view.byteLength, offset = 2;\r\n    while (offset < length) {\r\n      var marker = view.getUint16(offset, false);\r\n      offset += 2;\r\n      if (marker == 0xFFE1) {\r\n        if (view.getUint32(offset += 2, false) != 0x45786966) {\r\n          callback(-1);\r\n          return;\r\n        }\r\n        var little = view.getUint16(offset += 6, false) == 0x4949;\r\n        offset += view.getUint32(offset + 4, little);\r\n        var tags = view.getUint16(offset, little);\r\n        offset += 2;\r\n        for (var i = 0; i < tags; i++)\r\n          if (view.getUint16(offset + (i * 12), little) == 0x0112) {\r\n            callback(view.getUint16(offset + (i * 12) + 8, little));\r\n            return;\r\n          }\r\n      }\r\n      else if ((marker & 0xFF00) != 0xFF00) break;\r\n      else offset += view.getUint16(offset, false);\r\n    }\r\n    callback(-1);\r\n  };\r\n  reader.readAsArrayBuffer(file);\r\n}\r\n\r\n// Derived from https://stackoverflow.com/a/40867559, cc by-sa\r\nexport function imgToCanvasWithOrientation(img, rawWidth, rawHeight, orientation) {\r\n  var canvas = document.createElement('canvas');\r\n  if (orientation > 4) {\r\n    canvas.width = rawHeight;\r\n    canvas.height = rawWidth;\r\n  } else {\r\n    canvas.width = rawWidth;\r\n    canvas.height = rawHeight;\r\n  }\r\n\r\n  if (orientation > 1) {\r\n    console.log(\"EXIF orientation = \" + orientation + \", rotating picture\");\r\n  }\r\n\r\n  var ctx = canvas.getContext('2d');\r\n  switch (orientation) {\r\n    case 2: ctx.transform(-1, 0, 0, 1, rawWidth, 0); break;\r\n    case 3: ctx.transform(-1, 0, 0, -1, rawWidth, rawHeight); break;\r\n    case 4: ctx.transform(1, 0, 0, -1, 0, rawHeight); break;\r\n    case 5: ctx.transform(0, 1, 1, 0, 0, 0); break;\r\n    case 6: ctx.transform(0, 1, -1, 0, rawHeight, 0); break;\r\n    case 7: ctx.transform(0, -1, -1, 0, rawHeight, rawWidth); break;\r\n    case 8: ctx.transform(0, -1, 1, 0, 0, rawWidth); break;\r\n  }\r\n  ctx.drawImage(img, 0, 0, rawWidth, rawHeight);\r\n  return canvas;\r\n}\r\n\r\nexport function reduceFileSize(file, acceptFileSize, maxWidth, maxHeight, quality, callback) {\r\n  if (file.size <= acceptFileSize) {\r\n    callback(file);\r\n    return;\r\n  }\r\n  var img = new Image();\r\n  img.onerror = function () {\r\n    URL.revokeObjectURL(this.src);\r\n    callback(file);\r\n  };\r\n  img.onload = function () {\r\n    URL.revokeObjectURL(this.src);\r\n    getExifOrientation(file, function (orientation) {\r\n      var w = img.width, h = img.height;\r\n      var scale = (orientation > 4 ?\r\n        Math.min(maxHeight / w, maxWidth / h, 1) :\r\n        Math.min(maxWidth / w, maxHeight / h, 1));\r\n      h = Math.round(h * scale);\r\n      w = Math.round(w * scale);\r\n\r\n      var canvas = imgToCanvasWithOrientation(img, w, h, orientation);\r\n      canvas.toBlob(function (blob) {\r\n        console.log(\"Resized image to \" + w + \"x\" + h + \", \" + (blob.size >> 10) + \"kB\");\r\n        callback(blob);\r\n      }, 'image/jpeg', quality);\r\n    });\r\n  };\r\n  img.src = URL.createObjectURL(file);\r\n}","import { reduceFileSize } from \"../../../utils\";\r\nimport { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\n\r\n\r\nexport type SignUpResponse = { token: string }\r\nexport type SignUpRequest = {\r\n  mail: string\r\n  nick: string\r\n  password: string\r\n\r\n  userPhoto?: File\r\n}\r\n\r\nexport const SignUpQuery: ApiQueryFunction<SignUpRequest, SignUpResponse> = async (request, api = appApi) => {\r\n  const userData = new FormData();\r\n  userData.set(\"Mail\", request?.mail!);\r\n  userData.set(\"Nick\", request?.nick!);\r\n  userData.set(\"Password\", request?.password!);\r\n\r\n  if (request?.userPhoto) {\r\n    const photo = await new Promise((resolve) => {\r\n      reduceFileSize(request?.userPhoto, 90 * 90, 100, 100, 0.6, (blob: any) => {\r\n        resolve(blob);\r\n      });\r\n    });\r\n    \r\n    userData.set(\"UserPhoto\", photo as File, request?.userPhoto?.name);\r\n  }\r\n  return api.post(\"/account/signup\", userData, { headers: { MimeType: \"multipart/form-data\" } });\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\nimport { User } from \"../../../models\";\r\n\r\n\r\nexport type GetUserDetailedRequest = {\r\n  userId: string\r\n}\r\n\r\nexport type GetUserDetailedResponse = User\r\n\r\nexport const GetUserDetailed: ApiQueryFunction<GetUserDetailedRequest, GetUserDetailedResponse> = (request, api = appApi) => {\r\n  return api.get(`/user/${request?.userId}`);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\nexport type ChangeUserRoleRequest = {\r\n  userId: string\r\n  newRole: string\r\n}\r\n\r\nexport type ChangeUserRoleResponse = undefined\r\n\r\nexport const ChangeUserRole: ApiQueryFunction<ChangeUserRoleRequest, ChangeUserRoleResponse> = (request, api = appApi) => {\r\n  return api.put(`/user/role`, request);\r\n};","import { reduceFileSize } from \"../../../utils\";\r\nimport { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type ChangeUserAvatarRequest = {\r\n  userId: number\r\n  newPhoto: File\r\n}\r\n\r\nexport type ChangeUserAvatarResponse = string;\r\n\r\nexport const ChangeUserAvatar: ApiQueryFunction<ChangeUserAvatarRequest, ChangeUserAvatarResponse> = async (request, api = appApi) => {\r\n  const requestData = new FormData();\r\n  requestData.set(\"userId\", request?.userId.toString()!);\r\n\r\n  const photo = await new Promise((resolve) => {\r\n    reduceFileSize(request?.newPhoto!, 90 * 90, 100, 100, 0.2, (blob: any) => {\r\n      resolve(blob);\r\n    });\r\n  });\r\n  requestData.set(\"newPhoto\", photo as File, request?.newPhoto.name);\r\n\r\n  return api.put(\"/user/photo\", requestData, { headers: { MimeType: \"multipart/form-data\" } });\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\nimport { User } from \"../../../models\";\r\n\r\nexport type GetAllUsersRequest = {\r\n  search?: string\r\n  page?: string\r\n  limit?: string\r\n}\r\n\r\nexport type GetAllUsersResponse = User[]\r\n\r\nexport const GetAllUsers: ApiQueryFunction<GetAllUsersRequest, GetAllUsersResponse> = (request, api = appApi) => {\r\n  const search = new URLSearchParams();\r\n  if(request?.limit) search.set(\"limit\", request?.limit);\r\n  if(request?.page) search.set(\"page\", request?.page);\r\n  if(request?.search) search.set(\"search\", request?.search);\r\n\r\n  return api.get(`/user?`+search.toString());\r\n};","import { ApiQueryFunction } from \"../../ApiClient\";\r\nimport { appApi } from \"../../ApiConfigure\";\r\n\r\nexport type ChangeUserNickRequest = {\r\n  newNick: string\r\n  userId: number\r\n}\r\n\r\nexport const ChangeUserNick: ApiQueryFunction<ChangeUserNickRequest> = (request, api = appApi) => {\r\n  return api.put(\"/user/nick\", request);\r\n};","import { ApiQueryFunction, appApi } from \"../..\";\r\n\r\nexport type BanUserRequest = {\r\n  userForBannId: string\r\n}\r\n\r\nexport type BanUserResponse = undefined\r\n\r\nexport const BanUser: ApiQueryFunction<BanUserRequest, BanUserResponse> = (request, api = appApi) => {\r\n  return api.put(`/user/ban`, request);\r\n};","import { UserAction } from \"../types\";\r\nimport { UserSetToken, UserSetData, UserSetError, UserSetLoading, UserClearStore } from '../consts';\r\nimport { User, UserData } from \"../../../models\";\r\nimport { LoginQuery, UserLoginRequest } from \"../../../server/Queries/Auth/LoginQuery\";\r\nimport { RootState } from \"../StoreProvider\";\r\nimport {\r\n  ApiFetcher,\r\n  GetCurrentUserQuery,\r\n  CheckCurrentToken,\r\n  SignUpRequest,\r\n  SignUpQuery,\r\n  ChangeUserNick,\r\n  ChangeUserAvatar,\r\n  AddUserProgress,\r\n  AddUserProgressRequest,\r\n  AddPracticeOrder,\r\n  AddPracticeOrderRequest,\r\n  GetUserPractices\r\n} from \"../../../server\";\r\n\r\n\r\n// actions\r\nexport function setToken(token: string): UserAction {\r\n  localStorage.setItem(UserData.UserTokenKey, token);\r\n\r\n  return {\r\n    type: UserSetToken,\r\n    token: token\r\n  }\r\n}\r\n\r\nexport function setUser(user: User): UserAction {\r\n  return {\r\n    type: UserSetData,\r\n    user: user\r\n  }\r\n}\r\n\r\nexport function setError(error: string): UserAction {\r\n  return {\r\n    type: UserSetError,\r\n    error: error\r\n  }\r\n}\r\n\r\nexport function setLoading(loading: boolean): UserAction {\r\n  return {\r\n    type: UserSetLoading,\r\n    loading: loading\r\n  }\r\n}\r\n\r\nexport function clearUserStore() {\r\n  localStorage.removeItem(UserData.UserTokenKey);\r\n\r\n  return {\r\n    type: UserClearStore\r\n  };\r\n}\r\n\r\n// logick\r\n\r\n/**add user practice order */\r\nexport function AddUserPracticeOrder(request: AddPracticeOrderRequest) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    const state = getState();\r\n    const user = state.user.userData!;\r\n\r\n    let addAnswer;\r\n    try{\r\n      addAnswer = await AddPracticeOrder(request);\r\n    } catch(err) {}\r\n    if(Boolean(addAnswer?.data?.succeeded) == false) {\r\n      dispatch(setError(addAnswer?.data?.errorMessage ?? \"Что-то пошло не так...\"));\r\n      return dispatch(setLoading(false));\r\n    }\r\n\r\n    let userPractices;\r\n    try {\r\n      userPractices = await GetUserPractices();\r\n    } catch(err) {}\r\n    if(userPractices?.data?.succeeded == true) {\r\n      user.practiceOrders = userPractices.data.data;\r\n      dispatch(setUser(user));\r\n    }\r\n\r\n    dispatch(setLoading(false));\r\n  }\r\n}\r\n\r\n/**add user progress */\r\nexport function AddProgress(request: AddUserProgressRequest) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    const state = getState();\r\n    const user = state.user.userData!;\r\n\r\n    let addAnswer;\r\n    try {\r\n      addAnswer = await AddUserProgress(request);\r\n    } catch (err) {}\r\n\r\n    if(Boolean(addAnswer?.data.succeeded) == false) {\r\n      dispatch(setError(addAnswer?.data?.errorMessage ?? \"Что-то пошло не так...\"));\r\n    }\r\n\r\n    if(addAnswer?.data.succeeded == true) {\r\n      user.userProgresses = addAnswer.data.data;\r\n      dispatch(setUser(user));\r\n    }\r\n\r\n    dispatch(setLoading(false));\r\n  }\r\n}\r\n\r\n/**change avatar */\r\nexport function ChangeAvatar(newAvatar: File) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    const state = getState();\r\n    const user = state.user.userData!;\r\n    const userId = user.id;\r\n\r\n    let changeAvatar;\r\n    try {\r\n      changeAvatar = await ChangeUserAvatar({ userId: userId!, newPhoto: newAvatar });\r\n    } catch (err) {\r\n      if (Boolean(changeAvatar?.data.succeeded) == false) {\r\n        dispatch(setError(changeAvatar?.data?.errorMessage ?? \"Что-то пошло не так...\"));\r\n      }\r\n    }\r\n\r\n    if (changeAvatar?.data.succeeded) {\r\n      user.photo = changeAvatar.data.data;\r\n      dispatch(setUser(user));\r\n    }\r\n\r\n    dispatch(setLoading(false));\r\n  }\r\n}\r\n\r\n/**change nick */\r\nexport function ChangeNick(newNick: string) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    const state = getState();\r\n    const user = state.user.userData!;\r\n    const userId = user.id;\r\n\r\n    let changeNick;\r\n    try {\r\n      changeNick = await ChangeUserNick({ userId: userId!, newNick });\r\n    } catch (err) {\r\n      if (Boolean(changeNick?.data.succeeded) == false) {\r\n        dispatch(setError(changeNick?.data?.errorMessage ?? \"Что-то пошло не так...\"));\r\n      }\r\n    }\r\n\r\n    if (changeNick?.data.succeeded) {\r\n      user.nick = newNick;\r\n      dispatch(setUser(user));\r\n    }\r\n\r\n    dispatch(setLoading(false));\r\n  }\r\n}\r\n\r\n/**Login */\r\nexport function Login(loginData: UserLoginRequest) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n\r\n    const loginFetcher = new ApiFetcher(LoginQuery);\r\n\r\n    let loginAnswer;\r\n\r\n    try {\r\n      loginAnswer = await loginFetcher.fetch(loginData);\r\n    } catch (err) { }\r\n\r\n    if (Boolean(loginAnswer?.succeeded) == false) {\r\n      dispatch(setError(loginAnswer?.errorMessage ?? \"что-то пошло не так...\"));\r\n      dispatch(setLoading(false));\r\n      return;\r\n    }\r\n\r\n    if (loginAnswer) {\r\n      dispatch(setToken(loginAnswer?.data.token));\r\n    }\r\n\r\n    let currentUser;\r\n    try {\r\n      currentUser = await GetCurrentUserQuery();\r\n    } catch (err) {\r\n    }\r\n\r\n    if (currentUser) {\r\n      dispatch(setUser(currentUser.data.data));\r\n    }\r\n\r\n    dispatch(setError(\"\"));\r\n    dispatch(setLoading(false));\r\n  }\r\n}\r\n\r\n/**register */\r\nexport function SignUp(request: SignUpRequest) {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(setLoading(true));\r\n    \r\n    let signUpAnswer;\r\n\r\n    try {\r\n      signUpAnswer = await SignUpQuery(request);\r\n\r\n      if (signUpAnswer.data.succeeded) dispatch(setToken(signUpAnswer.data.data.token));\r\n    } catch (err) { } finally {\r\n      if (Boolean(signUpAnswer?.data?.succeeded) == false) {\r\n        dispatch(setError(signUpAnswer?.data?.errorMessage ?? \"Что-то пошло не так...\"));\r\n      }\r\n    }\r\n\r\n    let currentUserAnswer;\r\n    if (signUpAnswer?.data?.succeeded) {\r\n      try {\r\n        currentUserAnswer = await GetCurrentUserQuery();\r\n\r\n        if (currentUserAnswer.data.succeeded) dispatch(setUser(currentUserAnswer.data.data));\r\n      } catch (err) { }\r\n    }\r\n\r\n    if(signUpAnswer?.data?.succeeded) dispatch(setError(\"\"));\r\n    dispatch(setLoading(false));\r\n\r\n    if (signUpAnswer?.data?.succeeded && currentUserAnswer?.data?.succeeded) return true;\r\n  }\r\n}\r\n\r\n/**logout */\r\nexport function Logout() {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    dispatch(clearUserStore());\r\n  }\r\n}\r\n\r\n/**init user storage */\r\nexport function INIT() {\r\n  return async function (dispatch: Function, getState: () => RootState) {\r\n    let savedToken = localStorage.getItem(UserData.UserTokenKey);\r\n\r\n    if (savedToken) {\r\n      let checkAnswer;\r\n      try {\r\n        checkAnswer = await CheckCurrentToken();\r\n\r\n        if (checkAnswer.data.succeeded) {\r\n          dispatch(setToken(checkAnswer.data.data.token));\r\n        }\r\n      } catch (err) {\r\n      } finally {\r\n        if (Boolean(checkAnswer?.data.succeeded) == false) localStorage.removeItem(UserData.UserTokenKey);\r\n      }\r\n\r\n      if (Boolean(checkAnswer?.data.succeeded) == false) return;\r\n\r\n      let currentUser;\r\n\r\n      try {\r\n        currentUser = await GetCurrentUserQuery();\r\n\r\n        if (currentUser.data.succeeded) dispatch(setUser(currentUser.data.data));\r\n      } catch (err) { } finally { }\r\n    }\r\n  }\r\n}\r\n\r\n","import { Lesson } from \"../../../models/Lesson\";\r\nimport { SetLessons } from \"../consts\";\r\nimport { AppDataAction } from \"../types\";\r\n\r\nexport function setLessons(lessons: Lesson[]): AppDataAction {\r\n  return {\r\n    type: SetLessons,\r\n    lessons\r\n  }\r\n}","export * from './UserProgress';\r\nexport * from './Sertificate';\r\nexport * from './Practice';\r\nexport * from './AppFile';\r\nexport * from './Subject';\r\nexport * from './views';\r\nexport * from './User';","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  background-color: var(--main-2);\r\n  height: 100%;\r\n  padding: 75px 15px;\r\n`;\r\n\r\nexport const SplashLoader = styled.div`\r\n  position: relative;\r\n\tmargin: 0 auto;\r\n\twidth: 150px;\r\n\theight: 150px;\r\n\tdisplay: block;\r\n\toverflow: hidden;\r\n\r\n\tdiv {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n  &, & div {\r\n    border-radius: 50%;\r\n\t  padding: 8px;\r\n\t  border: 2px solid transparent;\r\n\t  animation: rotate linear 3.5s infinite;\r\n    border-radius: 50%;\r\n    padding: 4px;\r\n    animation: rotate2 4s infinite linear;\r\n  }\r\n\r\n  &:hover, & div:hover {\r\n    animation-play-state: paused;\r\n  } \r\n\r\n  &, * {\r\n    will-change: transform;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  text-align: center;\r\n  margin-top: 16px;\r\n`;","import React from 'react';\r\nimport { SplashLoader, Title, Container } from './styled';\r\n\r\nimport './SplashScreen.scss';\r\n\r\ntype SplashScreenProps = {}\r\n\r\nexport const SplashScreen: React.FC<SplashScreenProps> = (props) => {\r\n  return (\r\n    <Container>\r\n      <SplashLoader>\r\n        <div>\r\n          <div>\r\n            <div>\r\n              <div>\r\n                <div>\r\n                  <div>\r\n                    <div>\r\n                      <div>\r\n                        <div>\r\n                          <div></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </SplashLoader>\r\n\r\n      <Title>Идёт загрузка</Title>\r\n    </Container>\r\n  );\r\n};","import { Switch } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { ThemesEnum } from '../../App';\r\nimport { useThemeConfig } from '../../App/style/theme/UseThemeConfig';\r\n\r\ntype ThemeTogglerProps = {}\r\n\r\nexport const ThemeToggler: React.FC<ThemeTogglerProps> = (props) => {\r\n  const themeConfiguration = useThemeConfig();\r\n\r\n  return (\r\n    <Switch\r\n      checked={themeConfiguration.currentTheme == ThemesEnum.dark}\r\n      onChange={() => themeConfiguration.toggleTheme()}\r\n      name=\"theme\"\r\n      color=\"primary\"\r\n    />\r\n  );\r\n};","import styled from 'styled-components';\r\nimport { CenterMixin } from '../../style';\r\n\r\nexport const Wrap = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  min-height: 100%;\r\n  ${CenterMixin}\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n`;","export const CenteredMixin = `\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%);\r\n`;\r\n\r\nexport const CenterMixin = `\r\n    display: grid;\r\n    place-items: center;\r\n`;\r\n\r\nexport const ChangeThemeTransition = `\r\n    transition: background-color 0.3s, color 0.3s, background 0.3s;\r\n`;","import React from 'react';\r\nimport { Wrap, Container } from './styled';\r\n\r\ntype CenterCardProps = {}\r\n\r\nexport const CenterCard: React.FC<CenterCardProps> = (props) => {\r\n  return (\r\n    <Wrap>\r\n      <Container>\r\n          {props.children as any}\r\n      </Container>\r\n    </Wrap>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const MarkDownContainer = styled.div`\r\n  padding: 0.5rem;\r\n\r\n  p {\r\n    font-size: 18px;\r\n    margin: 0.5rem 0;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 36px;\r\n    font-weight: bold;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  h2 {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  h3 {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  h4 {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  h5 {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  li {\r\n    font-size: 18px;\r\n  }\r\n  ul {\r\n    padding-left: 1rem;\r\n  }\r\n\r\n  img, frame, iframe {\r\n    max-width: 100%;\r\n    margin: 10px auto;\r\n    display: block;\r\n  }\r\n\r\n  a {\r\n    font-size: 18px;\r\n    color: ${p => p.theme.palette.primary.main};\r\n    text-decoration: underline;\r\n  }\r\n\r\n  ul li::marker {\r\n    color: ${p => p.theme.palette.primary.main};\r\n  }\r\n\r\n  table {\r\n    border-collapse: separate;\r\n    border-spacing: 0;\r\n    margin: 10px auto;\r\n  }\r\n  \r\n  thead {\r\n    vertical-align: middle;\r\n  }\r\n  \r\n  tbody {\r\n   vertical-align: middle;\r\n  }\r\n  \r\n  tfoot {\r\n    vertical-align: middle;\r\n  }\r\n  \r\n  tr {\r\n    display: table-row;\r\n    vertical-align: middle;\r\n  }\r\n  \r\n  td {\r\n    border-bottom: 1px solid var(--accentColor);\r\n    padding: .5em 1em;\r\n    text-align: center;\r\n    vertical-align: top;\r\n    border-style: solid;\r\n    border-color: rgba(0,0,0,.1);\r\n    border-width: 0 0 1px;\r\n    font-size: 18px;\r\n  }\r\n\r\n  img + em { \r\n    display: block;\r\n    text-align: center;\r\n  }\r\n  \r\n  th {\r\n    border-bottom: 2px solid var(--accentColor);\r\n    font-size: 24px;\r\n  }\r\n  \r\n  tfoot td{\r\n    border-bottom: 2px solid var(--accentColor);\r\n  }\r\n\r\n  code {\r\n    font-family: 'Courier New', Courier, monospace;\r\n    display: block;\r\n    padding: 1rem;\r\n    border-radius: 1rem;\r\n    background-color: ${p => p.theme.palette.background.paper};\r\n    word-break: break-all;\r\n    word-wrap: break-word;\r\n    width: 100%;\r\n    max-width: 100%;\r\n    white-space: pre-wrap;\r\n    margin: 1rem 0;\r\n  }\r\n`;","import React from 'react';\r\nimport showdown from 'showdown';\r\n\r\nimport { MarkDownContainer } from './styled';\r\n\r\n\r\n\r\nshowdown.setOption('strikethrough', true);\r\nshowdown.setOption('tables', true);\r\nshowdown.setOption('tablesHeaderId', true);\r\nshowdown.setOption('tasklists', true);\r\nshowdown.setOption('emoji', true);\r\nshowdown.setOption('tasklists', true);\r\nshowdown.setOption('tablesHeaderId', true);\r\nshowdown.setOption('parseImgDimensions', true);\r\n\r\ntype MarkDownProps = { md: string }\r\n\r\nexport const MarkDown: React.FC<MarkDownProps> = (props) => {\r\n  const html = new showdown.Converter().makeHtml(props.md);\r\n\r\n  return (\r\n    <MarkDownContainer dangerouslySetInnerHTML={{__html: html}} />\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const BounderImg = styled.img`\r\n  max-width: 100%;\r\n`;","import React from 'react';\r\nimport { CenterCard, AppCard } from '..';\r\nimport { EmptyLayout } from '../../layouts';\r\nimport reactLogo from '../../appstatic/react_logo.svg';\r\nimport { BounderImg } from './styled';\r\nimport { Box } from '@material-ui/core';\r\n\r\ntype AppBounderProps = {}\r\n\r\nexport class AppBounder extends React.Component {\r\n  state = {\r\n    hasError: false\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error) {\r\n    return { hasError: true }\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: any) {\r\n    console.log(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <EmptyLayout>\r\n          <CenterCard>\r\n            <AppCard>\r\n              <Box fontSize={18} padding={2}>\r\n                <BounderImg src={reactLogo} alt=\"react love logo\" />\r\n                <p>Произошла серьёзная ошибка приложения :(</p>\r\n                <br />\r\n                <p>Пожалуйста зайдите позже</p>\r\n              </Box>\r\n            </AppCard>\r\n          </CenterCard>\r\n        </EmptyLayout>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}","import styled from 'styled-components';\r\n\r\nexport const AppCardBody = styled.div`\r\n  width: min(100%, 550px);\r\n  padding: ${props => props.theme.spacing(2)}px;\r\n  background-color: ${props => props.theme.palette.layout.paper};\r\n  border-radius: 8px;\r\n  box-shadow: ${props => props.theme.shadows[4]};\r\n`;","import React from 'react';\r\nimport { AppCardBody } from './styled';\r\n\r\ntype AppCardProps = {\r\n  className?: string\r\n}\r\n\r\nexport const AppCard: React.FC<AppCardProps> = (props) => {\r\n  return (\r\n    <AppCardBody className={props.className}>\r\n      {props.children}\r\n    </AppCardBody>\r\n  );\r\n};","import { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport const AppLink = styled(Link)`\r\n  color: ${props => props.theme.palette.primary.main};\r\n  margin-top: 1rem;\r\n  transition: color 0.3s;\r\n  text-align: center;\r\n\r\n  &:visited {\r\n    color: ${props => props.theme.palette.primary.main};\r\n  }\r\n\r\n  &:hover {\r\n    color: ${props => props.theme.palette.primary.dark};\r\n  }\r\n`;","import styled, { keyframes } from 'styled-components';\r\n\r\nconst ShadowAnimate = keyframes`\r\n  from{\r\n    box-shadow: 0 0 16px 0 #000, 0 24px 16px -20px #4d7cff;\r\n  }\r\n  to {\r\n    box-shadow: 0 0 16px 0 #000, 0 22px 24px -18px #4d7cff;\r\n  }\r\n`;\r\n\r\nexport const MainImage = styled.img`\r\n  border-radius: 8px;\r\n  margin: ${p => p.theme.spacing(2)}px 0px;\r\n  box-shadow: 0 0 16px 0 #000, 0 24px 16px -20px #4d7cff;\r\n\r\n  object-fit: cover;\r\n  object-position: center;\r\n\r\n  animation: ${ShadowAnimate} 1s infinite alternate;\r\n`;","import React from 'react';\r\nimport { MainImage } from './styled';\r\n\r\ntype AppImgProps = Partial<HTMLImageElement>\r\n\r\nexport const AppImg: React.FC<AppImgProps> = (props) => {\r\n  return (\r\n    <MainImage {...props as any} />\r\n  );\r\n};","import { UserData } from '../models';\r\nimport axios, { AxiosInstance, Canceler } from 'axios';\r\n\r\n\r\ntype ReturnType = {\r\n  httpClient: AxiosInstance;\r\n  canceler: Canceler;\r\n};\r\n\r\nexport const appApi = axios.create({\r\n  baseURL:process.env.REACT_APP_API_VERSION,\r\n  withCredentials: true,\r\n});\r\nappApi.interceptors.request.use(function (config) {\r\n  config.headers['Authorization'] = `Bearer ${localStorage.getItem(UserData.UserTokenKey)}`;\r\n  return config;\r\n});\r\n\r\nexport function CreateHttpClient(auth: string): ReturnType {\r\n  let canceler: Canceler | undefined;\r\n\r\n  const cancellation = new axios.CancelToken((c: any) => {\r\n    canceler = c;\r\n  });\r\n\r\n  const httpClient = axios.create({\r\n    baseURL: process.env.REACT_APP_API_VERSION,\r\n    cancelToken: cancellation,\r\n    withCredentials: true,\r\n    headers: {\r\n      'Authorization': `Bearer ${auth}`,\r\n    }\r\n  });\r\n\r\n  return {\r\n    httpClient,\r\n    canceler: (canceler as Canceler),\r\n  };\r\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App/App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorkerRegistration.register();\nreportWebVitals();\n","// user\r\nexport const UserSetToken = \"UserSetToken\";\r\nexport const UserSetData = \"UserSetData\";\r\nexport const UserSetLoading = \"UserSetLoading\";\r\nexport const UserSetError = \"UserSetError\";\r\nexport const UserClearStore = \"UserClearStore\";\r\n\r\n// appData\r\nexport const SetLessons = \"SetLessons\";","\r\nconst bit24 = 0x1000000;\r\nconst bit16 = 0x10000;\r\nconst bit8 = 0x100;\r\nconst ff = 0xff;\r\n\r\nconst NamedColors: { [p: string]: number } = {\r\n  BLACK: 0x000000,\r\n  NAVY: 0x000080,\r\n  DARKBLUE: 0x00008B,\r\n  MEDIUMBLUE: 0x0000CD,\r\n  BLUE: 0x0000FF,\r\n  DARKGREEN: 0x006400,\r\n  GREEN: 0x008000,\r\n  TEAL: 0x008080,\r\n  DARKCYAN: 0x008B8B,\r\n  DEEPSKYBLUE: 0x00BFFF,\r\n  DARKTURQUOISE: 0x00CED1,\r\n  MEDIUMSPRINGGREEN: 0x00FA9A,\r\n  LIME: 0x00FF00,\r\n  SPRINGGREEN: 0x00FF7F,\r\n  AQUA: 0x00FFFF,\r\n  CYAN: 0x00FFFF,\r\n  MIDNIGHTBLUE: 0x191970,\r\n  DODGERBLUE: 0x1E90FF,\r\n  LIGHTSEAGREEN: 0x20B2AA,\r\n  FORESTGREEN: 0x228B22,\r\n  SEAGREEN: 0x2E8B57,\r\n  DARKSLATEGRAY: 0x2F4F4F,\r\n  LIMEGREEN: 0x32CD32,\r\n  MEDIUMSEAGREEN: 0x3CB371,\r\n  TURQUOISE: 0x40E0D0,\r\n  ROYALBLUE: 0x4169E1,\r\n  STEELBLUE: 0x4682B4,\r\n  DARKSLATEBLUE: 0x483D8B,\r\n  MEDIUMTURQUOISE: 0x48D1CC,\r\n  INDIGO: 0x4B0082,\r\n  DARKOLIVEGREEN: 0x556B2F,\r\n  CADETBLUE: 0x5F9EA0,\r\n  CORNFLOWERBLUE: 0x6495ED,\r\n  MEDIUMAQUAMARINE: 0x66CDAA,\r\n  DIMGRAY: 0x696969,\r\n  SLATEBLUE: 0x6A5ACD,\r\n  OLIVEDRAB: 0x6B8E23,\r\n  SLATEGRAY: 0x708090,\r\n  LIGHTSLATEGRAY: 0x778899,\r\n  MEDIUMSLATEBLUE: 0x7B68EE,\r\n  LAWNGREEN: 0x7CFC00,\r\n  CHARTREUSE: 0x7FFF00,\r\n  AQUAMARINE: 0x7FFFD4,\r\n  MAROON: 0x800000,\r\n  PURPLE: 0x800080,\r\n  OLIVE: 0x808000,\r\n  GRAY: 0x808080,\r\n  SKYBLUE: 0x87CEEB,\r\n  LIGHTSKYBLUE: 0x87CEFA,\r\n  BLUEVIOLET: 0x8A2BE2,\r\n  DARKRED: 0x8B0000,\r\n  DARKMAGENTA: 0x8B008B,\r\n  SADDLEBROWN: 0x8B4513,\r\n  DARKSEAGREEN: 0x8FBC8F,\r\n  LIGHTGREEN: 0x90EE90,\r\n  MEDIUMPURPLE: 0x9370D8,\r\n  DARKVIOLET: 0x9400D3,\r\n  PALEGREEN: 0x98FB98,\r\n  DARKORCHID: 0x9932CC,\r\n  YELLOWGREEN: 0x9ACD32,\r\n  SIENNA: 0xA0522D,\r\n  BROWN: 0xA52A2A,\r\n  DARKGRAY: 0xA9A9A9,\r\n  LIGHTBLUE: 0xADD8E6,\r\n  GREENYELLOW: 0xADFF2F,\r\n  PALETURQUOISE: 0xAFEEEE,\r\n  LIGHTSTEELBLUE: 0xB0C4DE,\r\n  POWDERBLUE: 0xB0E0E6,\r\n  FIREBRICK: 0xB22222,\r\n  DARKGOLDENROD: 0xB8860B,\r\n  MEDIUMORCHID: 0xBA55D3,\r\n  ROSYBROWN: 0xBC8F8F,\r\n  DARKKHAKI: 0xBDB76B,\r\n  SILVER: 0xC0C0C0,\r\n  MEDIUMVIOLETRED: 0xC71585,\r\n  INDIANRED: 0xCD5C5C,\r\n  PERU: 0xCD853F,\r\n  CHOCOLATE: 0xD2691E,\r\n  TAN: 0xD2B48C,\r\n  LIGHTGRAY: 0xD3D3D3,\r\n  PALEVIOLETRED: 0xD87093,\r\n  THISTLE: 0xD8BFD8,\r\n  ORCHID: 0xDA70D6,\r\n  GOLDENROD: 0xDAA520,\r\n  CRIMSON: 0xDC143C,\r\n  GAINSBORO: 0xDCDCDC,\r\n  PLUM: 0xDDA0DD,\r\n  BURLYWOOD: 0xDEB887,\r\n  LIGHTCYAN: 0xE0FFFF,\r\n  LAVENDER: 0xE6E6FA,\r\n  DARKSALMON: 0xE9967A,\r\n  VIOLET: 0xEE82EE,\r\n  PALEGOLDENROD: 0xEEE8AA,\r\n  LIGHTCORAL: 0xF08080,\r\n  KHAKI: 0xF0E68C,\r\n  ALICEBLUE: 0xF0F8FF,\r\n  HONEYDEW: 0xF0FFF0,\r\n  AZURE: 0xF0FFFF,\r\n  SANDYBROWN: 0xF4A460,\r\n  WHEAT: 0xF5DEB3,\r\n  BEIGE: 0xF5F5DC,\r\n  WHITESMOKE: 0xF5F5F5,\r\n  MINTCREAM: 0xF5FFFA,\r\n  GHOSTWHITE: 0xF8F8FF,\r\n  SALMON: 0xFA8072,\r\n  ANTIQUEWHITE: 0xFAEBD7,\r\n  LINEN: 0xFAF0E6,\r\n  LIGHTGOLDENRODYELLOW: 0xFAFAD2,\r\n  OLDLACE: 0xFDF5E6,\r\n  RED: 0xFF0000,\r\n  FUCHSIA: 0xFF00FF,\r\n  MAGENTA: 0xFF00FF,\r\n  DEEPPINK: 0xFF1493,\r\n  ORANGERED: 0xFF4500,\r\n  TOMATO: 0xFF6347,\r\n  HOTPINK: 0xFF69B4,\r\n  CORAL: 0xFF7F50,\r\n  DARKORANGE: 0xFF8C00,\r\n  LIGHTSALMON: 0xFFA07A,\r\n  ORANGE: 0xFFA500,\r\n  LIGHTPINK: 0xFFB6C1,\r\n  PINK: 0xFFC0CB,\r\n  GOLD: 0xFFD700,\r\n  PEACHPUFF: 0xFFDAB9,\r\n  NAVAJOWHITE: 0xFFDEAD,\r\n  MOCCASIN: 0xFFE4B5,\r\n  BISQUE: 0xFFE4C4,\r\n  MISTYROSE: 0xFFE4E1,\r\n  BLANCHEDALMOND: 0xFFEBCD,\r\n  PAPAYAWHIP: 0xFFEFD5,\r\n  LAVENDERBLUSH: 0xFFF0F5,\r\n  SEASHELL: 0xFFF5EE,\r\n  CORNSILK: 0xFFF8DC,\r\n  LEMONCHIFFON: 0xFFFACD,\r\n  FLORALWHITE: 0xFFFAF0,\r\n  SNOW: 0xFFFAFA,\r\n  YELLOW: 0xFFFF00,\r\n  LIGHTYELLOW: 0xFFFFE0,\r\n  IVORY: 0xFFFFF0,\r\n  WHITE: 0xFFFFFF\r\n};\r\n\r\n\r\nclass ArgbComponents {\r\n  public alpha: number;\r\n  public r: number;\r\n  public g: number;\r\n  public b: number;\r\n\r\n  constructor($alpha: number = ff, $r: number = 0, $g: number = 0, $b: number = 0) {\r\n    this.alpha = $alpha;\r\n    this.r = $r;\r\n    this.g = $g;\r\n    this.b = $b;\r\n  }\r\n}\r\n\r\nexport class AppColor {\r\n  public color: string;\r\n  public colorHex: number;\r\n  public alpha: number;\r\n  public r: number;\r\n  public g: number;\r\n  public b: number;\r\n\r\n  set Alpha(value: number) {\r\n    value = AppColor.ToRangeFF(value);\r\n    this.alpha = value ^ 0;\r\n    this.updateColorHex();\r\n  }\r\n  get Alpha() {\r\n    return this.alpha;\r\n  }\r\n\r\n  set R(value: number) {\r\n    value = AppColor.ToRangeFF(value);\r\n    this.r = value ^ 0;\r\n    this.updateColorHex();\r\n  }\r\n  get R() {\r\n    return this.r;\r\n  }\r\n\r\n  set G(value: number) {\r\n    value = AppColor.ToRangeFF(value);\r\n    this.g = value ^ 0;\r\n    this.updateColorHex();\r\n  }\r\n\r\n  get G() {\r\n    return this.g;\r\n  }\r\n\r\n  set B(value: number) {\r\n    value = AppColor.ToRangeFF(value);\r\n    this.b = value ^ 0;\r\n    this.updateColorHex();\r\n  }\r\n  get B() {\r\n    return this.b;\r\n  }\r\n\r\n  get ArgbHex() {\r\n    return this.colorHex;\r\n  }\r\n  set ArgbHex(value: number) {\r\n    value = Math.min(0xffffffff, value);\r\n    value = Math.max(0x00000000, value);\r\n    this.colorHex = value ^ 0;\r\n\r\n    this.updateArgbComponents();\r\n  }\r\n\r\n  constructor(color: string | number) {\r\n    this.color = color.toString();\r\n    this.colorHex = AppColor.toArgbHex(color);\r\n\r\n    this.alpha = this.colorHex >>> 24 & ff;\r\n    this.r = this.colorHex >>> 16 & ff;\r\n    this.g = this.colorHex >>> 8 & ff;\r\n    this.b = this.colorHex & ff;\r\n  }\r\n\r\n  static From(color: string) {\r\n    return new AppColor(color);\r\n  }\r\n\r\n  static toArgbHex(color: number | string, isNumber: boolean = false): number {\r\n    if (typeof color == \"number\") return AppColor.fromNumber(color);\r\n\r\n    color = color.toUpperCase();\r\n\r\n    if (color.startsWith(\"RGB\")) return AppColor.fromRgb(color);\r\n    if (color.startsWith(\"RGBA\")) return AppColor.fromRgba(color);\r\n\r\n    if (color.startsWith(\"HSL\")) return AppColor.fromHsl(color);\r\n    if (color.startsWith(\"HSLA\")) return AppColor.fromHsla(color);\r\n\r\n    if (color.startsWith(\"#\")) return AppColor.fromHex(color);\r\n\r\n    return AppColor.fromName(color);\r\n  }\r\n\r\n  static fromRgb(color: string): number {\r\n    let chanels = Array.from(color.matchAll(AppColor.rgbNumbersRegex));\r\n    let r = Number(chanels[0][0]);\r\n    let g = Number(chanels[1][0]);\r\n    let b = Number(chanels[2][0]);\r\n\r\n    return 0xff * bit24 + (r << 16 | g << 8 | b);\r\n  }\r\n  static fromRgba(color: string): number {\r\n    let chanels = Array.from(color.matchAll(AppColor.rgbNumbersRegex));\r\n    let r = Number(chanels[0][0]);\r\n    let g = Number(chanels[1][0]);\r\n    let b = Number(chanels[2][0]);\r\n    let aChanel = color.match(AppColor.alphaRegex);\r\n    let a = 0xff;\r\n    if (aChanel != null) a = Math.round(255 * parseFloat(aChanel[1]));\r\n\r\n    return a * bit24 + (r << 16 | g << 8 | b);\r\n  }\r\n\r\n  /** make #rgb from h s l */\r\n  static hslToRgb(h: number, s: number, l: number): number {\r\n    s /= 100;\r\n    l /= 100;\r\n\r\n    let c = (1 - Math.abs(2 * l - 1)) * s,\r\n      x = c * (1 - Math.abs((h / 60) % 2 - 1)),\r\n      m = l - c / 2,\r\n      r = 0,\r\n      g = 0,\r\n      b = 0;\r\n\r\n    if (0 <= h && h < 60) {\r\n      r = c; g = x; b = 0;\r\n    } else if (60 <= h && h < 120) {\r\n      r = x; g = c; b = 0;\r\n    } else if (120 <= h && h < 180) {\r\n      r = 0; g = c; b = x;\r\n    } else if (180 <= h && h < 240) {\r\n      r = 0; g = x; b = c;\r\n    } else if (240 <= h && h < 300) {\r\n      r = x; g = 0; b = c;\r\n    } else if (300 <= h && h < 360) {\r\n      r = c; g = 0; b = x;\r\n    }\r\n    r = Math.round((r + m) * 255);\r\n    g = Math.round((g + m) * 255);\r\n    b = Math.round((b + m) * 255);\r\n\r\n    return r * bit16 | g * bit8 | b;\r\n  }\r\n  static fromHsl(color: string): number {\r\n    let chanels = Array.from(color.matchAll(AppColor.rgbNumbersRegex));\r\n    let h = Number(chanels[0][0]);\r\n    let s = Number(chanels[1][0]);\r\n    let l = Number(chanels[2][0]);\r\n\r\n    return 0xff * bit24 + (AppColor.hslToRgb(h, s, l));\r\n  }\r\n  static fromHsla(color: string): number {\r\n    let chanels = Array.from(color.matchAll(AppColor.rgbNumbersRegex));\r\n    let h = Number(chanels[0][0]);\r\n    let s = Number(chanels[1][0]);\r\n    let l = Number(chanels[2][0]);\r\n    let aChanel = color.match(AppColor.alphaRegex);\r\n    let a = 0xff;\r\n    if (aChanel != null) a = Math.round(255 * parseFloat(aChanel[1]));\r\n\r\n    return a * bit24 + (AppColor.hslToRgb(h, s, l));\r\n  }\r\n\r\n  static fromName(color: string): number {\r\n    return 0xff * bit24 + NamedColors[color.toUpperCase()];\r\n  }\r\n\r\n  static fromHex(color: string): number {\r\n    color = color.slice(1);\r\n\r\n    if (color.length == 6) return 0xff * bit24 + parseInt(color, 16);\r\n\r\n    let r = color.slice(0, 1);\r\n    r += r;\r\n    let g = color.slice(1, 2);\r\n    g += g;\r\n    let b = color.slice(2, 3);\r\n    b += b;\r\n\r\n    return 0xff * bit24 + parseInt(r + g + b, 16);\r\n  }\r\n\r\n  static fromNumber(color: number): number {\r\n    if (color <= 0xffffff) return 0xff * bit24 + color;\r\n    return Math.min(0xffffffff, color);\r\n  }\r\n\r\n  static ToRgba(argbHex: number) {\r\n    let { alpha, r, g, b } = AppColor.GetArgbComponents(argbHex);\r\n\r\n    return `rgba(${r}, ${g}, ${b}, ${(alpha / 255).toFixed(2)})`;\r\n  }\r\n\r\n  toRgba(): string {\r\n    return AppColor.ToRgba(this.colorHex);\r\n  }\r\n\r\n  static ToHex(argbHex: number) {\r\n    let color = argbHex;\r\n    let { r, g, b } = AppColor.GetArgbComponents(argbHex);\r\n\r\n    let rChanel = r.toString(16).padStart(2, \"0\");\r\n    let gChanel = g.toString(16).padStart(2, \"0\");\r\n    let bChanel = b.toString(16).padStart(2, \"0\");\r\n\r\n    return `#${rChanel}${gChanel}${bChanel}`;\r\n  }\r\n  toHex() {\r\n    AppColor.ToHex(this.colorHex);\r\n  }\r\n\r\n  updateArgbComponents() {\r\n    let { alpha, r, g, b } = AppColor.GetArgbComponents(this.colorHex);\r\n    alpha = AppColor.ToRangeFF(alpha);\r\n\r\n    r = AppColor.ToRangeFF(r);\r\n\r\n    g = AppColor.ToRangeFF(g);\r\n\r\n    b = AppColor.ToRangeFF(b);\r\n\r\n    this.alpha = alpha;\r\n    this.r = r;\r\n    this.g = g;\r\n    this.b = b;\r\n  }\r\n\r\n  updateColorHex() {\r\n    this.colorHex = AppColor.MakeArgbHex(this.alpha, this.r, this.g, this.b);\r\n  }\r\n\r\n  static ToRangeFF(chanel: number) {\r\n    chanel = Math.min(255, chanel);\r\n    chanel = Math.max(0, chanel);\r\n    return chanel;\r\n  }\r\n\r\n  static GetArgbComponents(argbHex: number): ArgbComponents {\r\n    const components = new ArgbComponents();\r\n\r\n    components.alpha = argbHex >>> 24 & ff;\r\n    components.r = argbHex >>> 16 & ff;\r\n    components.g = argbHex >>> 8 & ff;\r\n    components.b = argbHex & ff;\r\n\r\n    return components;\r\n  }\r\n\r\n  static MakeArgbHex(alpha: number, r: number, g: number, b: number): number {\r\n    return alpha * bit24 + (r << 16 | g << 8 | b);\r\n  }\r\n\r\n  static rgbNumbersRegex = /\\d{1,3}/ig;\r\n  static alphaRegex = /(0?.?\\d{1,})\\D*$/i;\r\n  static maxArgbHex = 0xffffffff;\r\n\r\n  // current operations\r\n  negate() {\r\n    this.ArgbHex = AppColor.Negate(this.colorHex);\r\n\r\n    return this;\r\n  }\r\n\r\n  greyScale() {\r\n    this.ArgbHex = AppColor.GreyScale(this.colorHex);\r\n    return this;\r\n  }\r\n\r\n  changeOpacity(percent: number) {\r\n    this.Alpha = this.Alpha * (1 + percent / 100)\r\n    return this;\r\n  }\r\n\r\n  getContrastRgba() {\r\n    return AppColor.ToRgba(AppColor.ContrastYiq(this.colorHex));\r\n  }\r\n\r\n  shadeLightColor(percent: number) {\r\n    this.ArgbHex = AppColor.ShadeLightColor(this.colorHex, percent);\r\n    return this;\r\n  }\r\n\r\n  // static operations\r\n  static ContrastYiq(argbHex: number): number {\r\n    let { alpha, r, g, b } = AppColor.GetArgbComponents(argbHex);\r\n\r\n    const yiq = (r * 299 + g * 587 + b * 114) / 1000;\r\n    return alpha * bit24 + (yiq >= 128 ? 0x0 : 0xffffff);\r\n  };\r\n  static ContrastYiqToRgba(color: number | string): string {\r\n    return AppColor.ToRgba(AppColor.ContrastYiq(AppColor.toArgbHex(color)));\r\n  };\r\n\r\n\r\n  static GreyScale(argbHex: number): number {\r\n    const { alpha, r, g, b } = AppColor.GetArgbComponents(argbHex);\r\n\r\n    const gray = (r + g + b) / 3 >> 0;\r\n\r\n    return AppColor.MakeArgbHex(alpha, gray, gray, gray);\r\n  };\r\n  static GreyScaleToRgba(color: number | string): string {\r\n    return AppColor.ToRgba(AppColor.GreyScale(AppColor.toArgbHex(color)));\r\n  };\r\n\r\n  static Negate(argbHex: number): number {\r\n    const a = argbHex >>> 24 & 0xff;\r\n    return a * bit24 + (argbHex ^ 0xffffff);\r\n  }\r\n  static NegateToRgba(color: number | string): string {\r\n    return AppColor.ToRgba(AppColor.Negate(AppColor.toArgbHex(color)));\r\n  }\r\n\r\n  static ShadeLightColor(argbHex: number, deviationPercent: number): number {\r\n    let { alpha, r, g, b } = AppColor.GetArgbComponents(argbHex);\r\n    const amt = Math.round(2.55 * deviationPercent);\r\n\r\n    r += amt;\r\n    r = AppColor.ToRangeFF(r);\r\n\r\n    g += amt;\r\n    g = AppColor.ToRangeFF(g);\r\n\r\n    b += amt;\r\n    b = AppColor.ToRangeFF(b);\r\n\r\n    return AppColor.MakeArgbHex(alpha, r, g, b);\r\n  }\r\n  static ShadeLightColorToRgba(color: number | string, deviationPercent: number): string {\r\n    return AppColor.ToRgba(AppColor.ShadeLightColor(AppColor.toArgbHex(color), deviationPercent));\r\n  }\r\n\r\n  toString() {\r\n    return this.toRgba();\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n// THEORY\r\n// f = 2 ** 4 -> 0xff00 = 0xff << 8((2 ** 4) * 2)\r\n\r\n// color = 0x123456;\r\n// get r = color >> 16(4 * f(0b1111)) & 0xff(0b11111111)\r\n// get g = color >> 8 & 0xff\r\n// get b = color & 0xff\r\n// to create color\r\n// r = 0x12\r\n// g = 0x34\r\n// b = 0x56\r\n// color = r << 16 | g << 8 | b; // color = 0x123456\r\n\r\n// пример color = 0xf5443c;\r\n// для получения g нужно сдивинуть биты так, чтобы g была в конце -> color >> 8\r\n// 0xf5443c -> 0x00f544 , затем нужно взять этот сектор из цвета, для этого нужно умножить на бит. 0x00f544 & 0xff\r\n// 0x00f544 & 0xff -> 0x44"],"sourceRoot":""}